import{i as Ve,g as Ye,a as Qe,r as m,o as Ze,b as ne,c as q,j as e,U as J,C as Se,M as ea,d as Ke,X,e as Re,H as Ce,L as aa,f as sa,s as ta,h as la,u as re,k as V,l as Me,m as na,P as ra,A as ia,n as Pe,F as oa,p as Fe,K as da,B as ca,S as ua,q as ie,t as ue,T as xe,v as xa,R as Q,w as ma,x as ga,y as pa,z as ha,D as ba,I as fa,E as ja}from"./vendor-Dm6wQhRk.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))p(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&p(h)}).observe(document,{childList:!0,subtree:!0});function o(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function p(i){if(i.ep)return;i.ep=!0;const c=o(i);fetch(i.href,c)}})();let me;try{typeof __firebase_config<"u"?me=JSON.parse(__firebase_config):me={apiKey:"AIzaSyBwf0YITW6dueNHMtfD_d-fA0TcVhBT06c",authDomain:"rt-05-rw-09.firebaseapp.com",projectId:"rt-05-rw-09",storageBucket:"rt-05-rw-09.firebasestorage.app",messagingSenderId:"656172952610",appId:"1:656172952610:web:f6c98f827617589e73ae7b"}}catch(n){console.error("Error parsing firebase config",n)}const Ie=Ve(me),A=Ye(Ie),oe=Qe(Ie),De=n=>new Promise((d,o)=>{const p=new FileReader;p.readAsDataURL(n),p.onload=i=>{var h;const c=new Image;c.src=(h=i.target)==null?void 0:h.result,c.onload=()=>{const f=document.createElement("canvas");let b=c.width,y=c.height;const k=800;b>y?b>k&&(y*=k/b,b=k):y>k&&(b*=k/y,y=k),f.width=b,f.height=y;const w=f.getContext("2d");if(!w){o(new Error("Canvas ctx error"));return}w.drawImage(c,0,0,b,y),d(f.toDataURL("image/jpeg",.7))},c.onerror=f=>o(f)},p.onerror=i=>o(i)}),Te=()=>new Date().toISOString().split("T")[0],E={nomorKK:"",alamat:"",statusHubungan:"Kepala Keluarga",isPendatang:!1,nik:"",nama:"",tempatLahir:"",tanggalLahir:"",jenisKelamin:"Laki-laki",golDarah:"-",agama:"Islam",statusPerkawinan:"Belum Kawin",pendidikan:"SMA/Sederajat",pekerjaan:"",statusRumah:"Milik Sendiri",jenisBpjs:"Tidak Memiliki",hasMobil:!1,platMobil:"",hasMotor:!1,platMotor:"",catatan:"",isMoved:!1,alamatPindah:"",tanggalPindah:"",files:[]},de={namaKegiatan:"",tanggal:"",deskripsi:"",keterangan:"",files:[]},ce={namaPelapor:"",deskripsi:"",status:"Menunggu",tanggapan:"",files:[],tanggalPengaduan:"",tanggalPenyelesaian:""};function va(){const[n,d]=m.useState(null),[o,p]=m.useState("penduduk"),[i,c]=m.useState([]),[h,f]=m.useState([]),[b,y]=m.useState([]),[k,w]=m.useState(!1),[ge,Z]=m.useState(!1),[j,pe]=m.useState("resident"),[he,L]=m.useState(null),[H,be]=m.useState(""),[_,fe]=m.useState(""),[ee,Be]=m.useState("Semua"),[O,Le]=m.useState(""),[U,je]=m.useState(null),[N,R]=m.useState("kk"),[Ee,ae]=m.useState(!1),[M,W]=m.useState({id:"",tanggapan:"",files:[]}),[se,ve]=m.useState(!1),[Ne,te]=m.useState(null),[r,u]=m.useState(E),[K,C]=m.useState(de),[F,T]=m.useState(ce);m.useEffect(()=>((async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await ta(oe,__initial_auth_token):await la(oe)}catch(s){console.error("Auth Error:",s)}})(),Ze(oe,d)),[]),m.useEffect(()=>{if(!n)return;const a=ne(q(A,"residents"),t=>{const g=t.docs.map(x=>({id:x.id,...x.data(),files:x.data().files||[],catatan:x.data().catatan||""}));g.sort((x,B)=>{const we=["Kepala Keluarga","Istri","Suami","Anak"];return we.indexOf(x.statusHubungan)-we.indexOf(B.statusHubungan)}),c(g)},t=>console.error("Error Resident:",t)),s=ne(q(A,"activities"),t=>{const g=t.docs.map(x=>({id:x.id,...x.data(),files:x.data().files||[]}));g.sort((x,B)=>new Date(B.tanggal).getTime()-new Date(x.tanggal).getTime()),f(g)},t=>console.error("Error Activity:",t)),l=ne(q(A,"complaints"),t=>{const g=t.docs.map(x=>({id:x.id,...x.data(),files:x.data().files||[],tanggalPengaduan:x.data().tanggalPengaduan||"",tanggalPenyelesaian:x.data().tanggalPenyelesaian||""}));y(g.sort((x,B)=>x.status==="Menunggu"&&B.status!=="Menunggu"?-1:x.status!=="Menunggu"&&B.status==="Menunggu"?1:0))},t=>console.error("Error Complaint:",t));return()=>{a(),s(),l()}},[n]);const v=m.useMemo(()=>{const a=i.filter(t=>!t.isMoved),s=i.filter(t=>t.isMoved),l=a.filter(t=>t.statusHubungan==="Kepala Keluarga");return{totalWarga:a.length,totalKK:l.length,totalPindah:s.length,totalPendatang:a.filter(t=>t.isPendatang).length,rumahMilik:l.filter(t=>t.statusRumah==="Milik Sendiri").length,rumahSewa:l.filter(t=>t.statusRumah==="Sewa/Kontrak").length,rumahMenumpang:l.filter(t=>t.statusRumah==="Menumpang").length,totalMobil:a.filter(t=>t.hasMobil).length,totalMotor:a.filter(t=>t.hasMotor).length,lakiLaki:a.filter(t=>t.jenisKelamin==="Laki-laki").length,perempuan:a.filter(t=>t.jenisKelamin==="Perempuan").length}},[i]),He=async a=>{if(a.preventDefault(),!n)return alert("Sistem belum siap.");if(k)return;w(!0);let s="",l={};if(j==="resident"||j==="move"?(s="residents",l=r):j==="activity"?(s="activities",l=K):j==="complaint"&&(s="complaints",l=F,!se&&!l.tanggalPengaduan&&(l.tanggalPengaduan=Te())),new Blob([JSON.stringify(l)]).size>9e5){alert("Ukuran data/foto terlalu besar. Mohon kurangi jumlah foto."),w(!1);return}try{const t=q(A,s);se&&Ne?(await re(V(t,Ne),{...l,updatedAt:Me()}),alert("Data berhasil diperbarui!"),I()):(await na(t,{...l,createdAt:Me()}),j==="resident"?confirm(`Data berhasil disimpan!

Klik OK untuk tambah anggota keluarga lain.
Klik Cancel untuk selesai.`)?u(x=>({...E,nomorKK:x.nomorKK,alamat:x.alamat,statusRumah:x.statusRumah,statusHubungan:"Anak",isPendatang:x.isPendatang})):I():(alert("Data berhasil disimpan!"),I()))}catch(t){console.error("Gagal Menyimpan:",t),alert(`Gagal menyimpan data.
Error: ${t.message}`)}finally{w(!1)}},$=async(a,s)=>{if(confirm("Yakin hapus data ini?"))try{await ba(V(A,a,s))}catch(l){alert("Gagal menghapus: "+l.message)}},le=async a=>{const s=Array.from(a.target.files||[]),l=[];for(const t of s)try{const g=await De(t);l.push(g)}catch(g){console.error(g)}j==="resident"?u(t=>({...t,files:[...t.files,...l]})):j==="activity"?C(t=>({...t,files:[...t.files||[],...l]})):j==="complaint"&&T(t=>({...t,files:[...t.files||[],...l]})),a.target.value=""},_e=a=>{j==="resident"?u(s=>({...s,files:s.files.filter((l,t)=>t!==a)})):j==="activity"?C(s=>({...s,files:(s.files||[]).filter((l,t)=>t!==a)})):j==="complaint"&&T(s=>({...s,files:(s.files||[]).filter((l,t)=>t!==a)}))},Oe=a=>{W({id:a,tanggapan:"",files:[]}),ae(!0)},Ue=async a=>{const s=Array.from(a.target.files||[]),l=[];for(const t of s)try{const g=await De(t);l.push(g)}catch(g){console.error(g)}W(t=>({...t,files:[...t.files,...l]})),a.target.value=""},We=async a=>{if(a.preventDefault(),!(!n||!M.id))try{const s=b.find(g=>g.id===M.id),t=[...(s==null?void 0:s.files)||[],...M.files];await re(V(A,"complaints",M.id),{status:"Selesai",tanggapan:M.tanggapan,files:t,tanggalPenyelesaian:Te()}),ae(!1)}catch(s){console.error(s),alert("Gagal menyelesaikan pengaduan.")}},$e=async(a,s)=>{try{const l={status:s};s!=="Selesai"&&(l.tanggalPenyelesaian=""),await re(V(A,"complaints",a),l)}catch(l){console.error(l),alert("Gagal update status")}},P=(a,s)=>{pe(a),w(!1),s?(ve(!0),te(s.id),a==="resident"&&u(s),a==="activity"&&C({...s,files:s.files||[]}),a==="complaint"&&T({...s,files:s.files||[]})):(ve(!1),te(null),a==="resident"&&u(E),a==="activity"&&C(de),a==="complaint"&&T(ce)),Z(!0)},ye=a=>{u({...a,alamatPindah:"",tanggalPindah:""}),te(a.id),pe("move"),Z(!0)},I=()=>{Z(!1),ae(!1),u(E),C(de),T(ce)},G=(a,s)=>e.jsx("div",{className:"flex gap-2 mt-2 overflow-x-auto pb-2",children:a==null?void 0:a.map((l,t)=>e.jsxs("div",{className:"w-16 h-16 relative flex-shrink-0 group",children:[e.jsx("img",{src:l,className:"w-full h-full object-cover rounded border border-gray-200 cursor-pointer",onClick:()=>L(l)}),e.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),s?s(t):_e(t)},className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 shadow transition",children:e.jsx(X,{size:12})})]},t))}),ke=a=>!a||a.length===0?null:e.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-100",children:[e.jsxs("p",{className:"text-xs text-gray-500 mb-1 flex items-center gap-1",children:[e.jsx(fa,{size:12})," Lampiran (",a.length,")"]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar",children:a.map((s,l)=>e.jsx("div",{className:"w-10 h-10 rounded border border-gray-200 overflow-hidden cursor-pointer hover:opacity-80",onClick:()=>L(s),children:e.jsx("img",{src:s,className:"w-full h-full object-cover"})},l))})]}),Ge=()=>e.jsxs("div",{className:"pb-20 bg-white p-6 rounded-xl border shadow-sm print:shadow-none print:border-none print:p-0",children:[e.jsxs("div",{className:"hidden print:flex flex-col items-center justify-center mb-8 border-b-2 border-gray-800 pb-4",children:[e.jsx("h1",{className:"text-2xl font-bold uppercase",children:"Laporan Data & Kegiatan RT. 05 RW. 09"}),e.jsx("h2",{className:"text-lg font-medium",children:"Perumahan Buana Permai, Cipondoh, Kota Tangerang"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Tanggal Cetak: ",new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(Ke,{})," Laporan Terintegrasi"]}),e.jsxs("button",{onClick:()=>window.print(),className:"bg-slate-800 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-slate-700 shadow",children:[e.jsx(ra,{size:18})," Cetak / Simpan PDF"]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-bold border-b border-gray-200 pb-2 mb-4 text-blue-700 print:text-black",children:"1. Ringkasan Data Warga"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded border print:border-gray-300",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Total Warga"}),e.jsxs("p",{className:"text-2xl font-bold",children:[v.totalWarga," ",e.jsx("span",{className:"text-sm font-normal",children:"Jiwa"})]})]}),e.jsxs("div",{className:"p-4 bg-indigo-50 rounded border print:border-gray-300",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Kepala Keluarga"}),e.jsxs("p",{className:"text-2xl font-bold",children:[v.totalKK," ",e.jsx("span",{className:"text-sm font-normal",children:"KK"})]})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded border print:border-gray-300",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Gender (L/P)"}),e.jsxs("p",{className:"text-2xl font-bold",children:[v.lakiLaki," ",e.jsx("span",{className:"text-sm font-normal text-gray-400",children:"/"})," ",v.perempuan]})]}),e.jsxs("div",{className:"p-4 bg-orange-50 rounded border print:border-gray-300",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Kepemilikan Rumah"}),e.jsxs("p",{className:"text-sm font-bold",children:["Milik: ",v.rumahMilik]}),e.jsxs("p",{className:"text-sm font-bold",children:["Sewa: ",v.rumahSewa]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-bold mb-2 text-gray-600",children:"Kepemilikan Kendaraan (Untuk Parkir)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"p-3 border rounded bg-slate-50 print:bg-white",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Mobil"}),e.jsxs("span",{className:"font-bold",children:[v.totalMobil," Unit"]})]})}),e.jsx("div",{className:"p-3 border rounded bg-slate-50 print:bg-white",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Motor"}),e.jsxs("span",{className:"font-bold",children:[v.totalMotor," Unit"]})]})})]})]})]}),e.jsxs("section",{className:"break-inside-avoid",children:[e.jsx("h3",{className:"text-lg font-bold border-b border-gray-200 pb-2 mb-4 text-purple-700 print:text-black",children:"2. Laporan Kegiatan Terbaru"}),h.length===0?e.jsx("p",{className:"text-gray-500 italic",children:"Belum ada data kegiatan."}):e.jsxs("table",{className:"w-full text-sm border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"border p-2 text-left w-24",children:"Tanggal"}),e.jsx("th",{className:"border p-2 text-left",children:"Nama Kegiatan"}),e.jsx("th",{className:"border p-2 text-left",children:"Keterangan"})]})}),e.jsx("tbody",{children:h.slice(0,10).map(a=>e.jsxs("tr",{children:[e.jsx("td",{className:"border p-2",children:a.tanggal}),e.jsx("td",{className:"border p-2 font-medium",children:a.namaKegiatan}),e.jsx("td",{className:"border p-2 text-gray-600",children:a.deskripsi})]},a.id))})]})]}),e.jsxs("section",{className:"break-inside-avoid",children:[e.jsx("h3",{className:"text-lg font-bold border-b border-gray-200 pb-2 mb-4 text-orange-700 print:text-black",children:"3. Rekapitulasi Pengaduan Warga"}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1 p-3 border rounded bg-green-50 print:bg-white",children:[e.jsx("span",{className:"block text-xs text-gray-500",children:"Selesai"}),e.jsx("span",{className:"text-xl font-bold text-green-700",children:b.filter(a=>a.status==="Selesai").length})]}),e.jsxs("div",{className:"flex-1 p-3 border rounded bg-yellow-50 print:bg-white",children:[e.jsx("span",{className:"block text-xs text-gray-500",children:"Proses"}),e.jsx("span",{className:"text-xl font-bold text-yellow-700",children:b.filter(a=>a.status==="Proses").length})]}),e.jsxs("div",{className:"flex-1 p-3 border rounded bg-red-50 print:bg-white",children:[e.jsx("span",{className:"block text-xs text-gray-500",children:"Menunggu"}),e.jsx("span",{className:"text-xl font-bold text-red-700",children:b.filter(a=>a.status==="Menunggu").length})]})]}),e.jsx("h4",{className:"text-sm font-bold mb-2",children:"Penyelesaian Terakhir:"}),e.jsxs("ul",{className:"list-disc pl-5 text-sm space-y-1",children:[b.filter(a=>a.status==="Selesai").slice(0,5).map(a=>e.jsxs("li",{children:[e.jsx("span",{className:"font-medium",children:a.deskripsi})," ",e.jsxs("span",{className:"text-gray-500",children:["- ",a.tanggapan," (",a.tanggalPenyelesaian,")"]})]},a.id)),b.filter(a=>a.status==="Selesai").length===0&&e.jsx("li",{className:"text-gray-400 italic",children:"Belum ada aduan yang diselesaikan."})]})]}),e.jsx("div",{className:"hidden print:flex justify-end mt-12 pt-8",children:e.jsxs("div",{className:"text-center w-64",children:[e.jsxs("p",{className:"mb-16",children:["Mengetahui,",e.jsx("br",{}),"Ketua RT. 05 RW. 09"]}),e.jsx("p",{className:"font-bold underline",children:"( ....................................... )"})]})})]})]}),qe=()=>{const a=i.filter(l=>O===""||l.nama.toLowerCase().includes(O.toLowerCase())||l.nomorKK.includes(O)?N==="kk"?l.statusHubungan==="Kepala Keluarga"&&!l.isMoved:N==="pindah"?l.isMoved:N==="datang"?l.isPendatang&&!l.isMoved:N==="milik"?l.statusHubungan==="Kepala Keluarga"&&!l.isMoved&&l.statusRumah==="Milik Sendiri":N==="sewa"?l.statusHubungan==="Kepala Keluarga"&&!l.isMoved&&l.statusRumah==="Sewa/Kontrak":N==="numpang"?l.statusHubungan==="Kepala Keluarga"&&!l.isMoved&&l.statusRumah==="Menumpang":!1:!1),s=l=>i.filter(t=>t.nomorKK===l);if(U){const l=s(U);return e.jsxs("div",{className:"animate-fade-in pb-20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("button",{onClick:()=>je(null),className:"p-2 bg-white border rounded-full",children:e.jsx(ia,{size:20})}),e.jsxs("h2",{className:"text-xl font-bold",children:["Detail Keluarga (KK: ",U,")"]}),e.jsxs("button",{onClick:()=>{const t=l.find(x=>x.statusHubungan==="Kepala Keluarga")||l[0],g={...E,nomorKK:U,alamat:(t==null?void 0:t.alamat)||"",isPendatang:t==null?void 0:t.isPendatang};P("resident"),u(g)},className:"ml-auto bg-green-600 text-white px-3 py-2 rounded flex items-center gap-1",children:[e.jsx(Pe,{size:16})," Tambah Anggota"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(t=>e.jsx(Ae,{data:t,onEdit:()=>P("resident",t),onDelete:()=>$("residents",t.id),onMove:()=>ye(t),onPreview:g=>L(g)},t.id))})]})}return e.jsxs("div",{className:"pb-20",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-6",children:[e.jsx(z,{icon:e.jsx(J,{}),label:"Total Warga",value:v.totalWarga,color:"bg-blue-600",active:!1,onClick:()=>{}}),e.jsx(z,{icon:e.jsx(oa,{}),label:"Kepala Keluarga",value:v.totalKK,color:"bg-indigo-500",active:N==="kk",onClick:()=>R("kk")}),e.jsx(z,{icon:e.jsx(Fe,{}),label:"Warga Pindah",value:v.totalPindah,color:"bg-red-500",active:N==="pindah",onClick:()=>R("pindah")}),e.jsx(z,{icon:e.jsx(Pe,{}),label:"Warga Datang",value:v.totalPendatang,color:"bg-green-500",active:N==="datang",onClick:()=>R("datang")})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xs font-bold text-gray-500 mb-2",children:"FILTER STATUS RUMAH (KK)"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx(z,{icon:e.jsx(Ce,{}),label:"Milik Sendiri",value:v.rumahMilik,color:"bg-emerald-600",active:N==="milik",onClick:()=>R("milik")}),e.jsx(z,{icon:e.jsx(da,{}),label:"Sewa",value:v.rumahSewa,color:"bg-orange-500",active:N==="sewa",onClick:()=>R("sewa")}),e.jsx(z,{icon:e.jsx(ca,{}),label:"Menumpang",value:v.rumahMenumpang,color:"bg-purple-500",active:N==="numpang",onClick:()=>R("numpang")})]})]}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs("div",{className:"relative w-full",children:[e.jsx(ua,{className:"absolute left-3 top-2.5 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Cari Nama / KK...",value:O,onChange:l=>Le(l.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("button",{onClick:()=>P("resident"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[e.jsx(ie,{size:18})," Baru"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(l=>["kk","milik","sewa","numpang"].includes(N)?e.jsx(Na,{data:l,memberCount:s(l.nomorKK).length,onClick:()=>je(l.nomorKK)},l.id):e.jsx(Ae,{data:l,onEdit:()=>P("resident",l),onDelete:()=>$("residents",l.id),onMove:()=>ye(l),onPreview:t=>L(t)},l.id))})]})},Je=()=>{const a=h.filter(s=>!(H&&s.tanggal<H||_&&s.tanggal>_));return e.jsxs("div",{className:"pb-20",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Kegiatan RT"}),e.jsxs("button",{onClick:()=>P("activity"),className:"bg-purple-600 text-white px-3 py-2 rounded flex items-center gap-1",children:[e.jsx(ie,{size:18})," Tambah"]})]}),e.jsxs("div",{className:"flex gap-2 mb-4 items-center bg-white p-2 rounded border",children:[e.jsxs("span",{className:"text-xs font-bold text-gray-500",children:[e.jsx(Se,{size:14,className:"inline"})," Periode:"]}),e.jsx("input",{type:"date",value:H,onChange:s=>be(s.target.value),className:"border rounded text-sm px-1"}),e.jsx("span",{className:"text-gray-400",children:"-"}),e.jsx("input",{type:"date",value:_,onChange:s=>fe(s.target.value),className:"border rounded text-sm px-1"}),(H||_)&&e.jsx("button",{onClick:()=>{be(""),fe("")},className:"text-xs text-red-500",children:"Reset"})]}),e.jsx("div",{className:"space-y-4",children:a.map(s=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border shadow-sm flex flex-col gap-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"font-bold text-lg",children:s.namaKegiatan}),e.jsx("span",{className:"text-sm bg-purple-100 text-purple-700 px-2 py-1 rounded h-fit",children:s.tanggal})]}),e.jsx("p",{className:"text-gray-600 text-sm whitespace-pre-wrap",children:s.deskripsi}),s.keterangan&&e.jsx("div",{className:"text-xs bg-gray-50 p-2 rounded border",children:s.keterangan}),ke(s.files),e.jsxs("div",{className:"flex gap-2 justify-end mt-2",children:[e.jsxs("button",{onClick:()=>P("activity",s),className:"text-blue-600 text-sm flex items-center gap-1",children:[e.jsx(ue,{size:14})," Edit"]}),e.jsxs("button",{onClick:()=>$("activities",s.id),className:"text-red-600 text-sm flex items-center gap-1",children:[e.jsx(xe,{size:14})," Hapus"]})]})]},s.id))})]})},Xe=()=>{const a=b.filter(s=>!(ee!=="Semua"&&s.status!==ee));return e.jsxs("div",{className:"pb-20",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Pengaduan"}),e.jsxs("button",{onClick:()=>P("complaint"),className:"bg-orange-600 text-white px-3 py-2 rounded flex items-center gap-1",children:[e.jsx(ie,{size:18})," Buat"]})]}),e.jsxs("div",{className:"flex gap-2 mb-4 items-center bg-white p-2 rounded border",children:[e.jsxs("span",{className:"text-xs font-bold text-gray-500",children:[e.jsx(xa,{size:14,className:"inline"})," Status:"]}),e.jsxs("select",{value:ee,onChange:s=>Be(s.target.value),className:"border rounded text-sm px-2 py-1",children:[e.jsx("option",{value:"Semua",children:"Semua"}),e.jsx("option",{value:"Menunggu",children:"Menunggu"}),e.jsx("option",{value:"Proses",children:"Proses"}),e.jsx("option",{value:"Selesai",children:"Selesai"})]})]}),e.jsx("div",{className:"space-y-4",children:a.map(s=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border shadow-sm",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"font-bold",children:s.namaPelapor}),e.jsx("span",{className:`text-xs px-2 py-1 rounded font-bold ${s.status==="Selesai"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:s.status})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:s.deskripsi}),ke(s.files),s.status==="Selesai"&&e.jsxs("div",{className:"bg-green-50 p-2 rounded text-xs text-green-800 border border-green-200",children:["âœ… ",s.tanggapan]}),e.jsxs("div",{className:"flex gap-2 justify-end mt-2 pt-2 border-t flex-wrap",children:[["Menunggu","Proses"].map(l=>e.jsx("button",{onClick:()=>$e(s.id,l),className:"text-xs border px-2 py-1 rounded hover:bg-gray-50",children:l},l)),e.jsx("button",{onClick:()=>Oe(s.id),className:"text-xs border px-2 py-1 rounded hover:bg-green-50 text-green-700 font-bold",children:"Selesai"}),e.jsxs("div",{className:"ml-auto flex gap-2",children:[e.jsx("button",{onClick:()=>P("complaint",s),className:"text-blue-500",children:e.jsx(ue,{size:16})}),e.jsx("button",{onClick:()=>$("complaints",s.id),className:"text-red-500",children:e.jsx(xe,{size:16})})]})]})]},s.id))})]})};return e.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-800 font-sans",children:[e.jsxs("header",{className:"bg-white border-b sticky top-0 z-30 shadow-sm p-4 print:hidden",children:[e.jsxs("div",{className:"max-w-6xl mx-auto flex items-center gap-3",children:[e.jsx("div",{className:"bg-blue-600 text-white p-2 rounded",children:e.jsx(J,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold text-sm leading-tight",children:"RT. 05 RW. 09 Buana Permai"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Sistem Data"})]})]}),e.jsxs("div",{className:"flex mt-4 border-t pt-2 gap-4 overflow-x-auto",children:[e.jsx(Y,{active:o==="penduduk",onClick:()=>p("penduduk"),icon:e.jsx(J,{size:16}),label:"Warga"}),e.jsx(Y,{active:o==="kegiatan",onClick:()=>p("kegiatan"),icon:e.jsx(Se,{size:16}),label:"Kegiatan"}),e.jsx(Y,{active:o==="pengaduan",onClick:()=>p("pengaduan"),icon:e.jsx(ea,{size:16}),label:"Aduan"}),e.jsx(Y,{active:o==="laporan",onClick:()=>p("laporan"),icon:e.jsx(Ke,{size:16}),label:"Laporan"})]})]}),e.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-4",children:[o==="penduduk"&&qe(),o==="kegiatan"&&Je(),o==="pengaduan"&&Xe(),o==="laporan"&&Ge()]}),he&&e.jsxs("div",{className:"fixed inset-0 z-[60] bg-black/90 flex items-center justify-center p-4 cursor-pointer print:hidden",onClick:()=>L(null),children:[e.jsx("img",{src:he,className:"max-w-full max-h-full rounded shadow-lg object-contain"}),e.jsx("button",{className:"absolute top-4 right-4 text-white bg-black/50 rounded-full p-2 hover:bg-black/70 transition",children:e.jsx(X,{size:24})})]}),ge&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 overflow-y-auto print:hidden",children:e.jsxs("div",{className:"bg-white w-full rounded-xl max-w-lg relative flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gray-50 rounded-t-xl sticky top-0 z-10",children:[e.jsxs("h2",{className:"font-bold text-lg capitalize",children:[se?"Edit":"Tambah"," ",j]}),e.jsx("button",{onClick:I,children:e.jsx(X,{size:24,className:"text-gray-500"})})]}),e.jsxs("form",{onSubmit:He,className:"p-4 overflow-y-auto space-y-6",children:[j==="resident"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm space-y-4",children:[e.jsxs("h3",{className:"font-bold text-blue-700 border-b pb-2 flex gap-2",children:[e.jsx(Re,{size:18})," Data Pribadi"]}),e.jsx(S,{label:"NIK",value:r.nik,onChange:a=>u({...r,nik:a.target.value}),required:!0}),e.jsx(S,{label:"Nama Lengkap",value:r.nama,onChange:a=>u({...r,nama:a.target.value}),required:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(S,{label:"Tempat Lahir",value:r.tempatLahir,onChange:a=>u({...r,tempatLahir:a.target.value})}),e.jsx(S,{label:"Tgl Lahir",type:"date",value:r.tanggalLahir,onChange:a=>u({...r,tanggalLahir:a.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(D,{label:"Jenis Kelamin",value:r.jenisKelamin,onChange:a=>u({...r,jenisKelamin:a.target.value}),options:["Laki-laki","Perempuan"]}),e.jsx(D,{label:"Gol. Darah",value:r.golDarah,onChange:a=>u({...r,golDarah:a.target.value}),options:["-","A","B","AB","O"]})]}),e.jsx(D,{label:"Agama",value:r.agama,onChange:a=>u({...r,agama:a.target.value}),options:["Islam","Kristen","Katolik","Hindu","Buddha","Konghucu"]}),e.jsx(D,{label:"Pendidikan Terakhir",value:r.pendidikan,onChange:a=>u({...r,pendidikan:a.target.value}),options:["Tidak/Belum Sekolah","SD/Sederajat","SMP/Sederajat","SMA/Sederajat","D1","D2","D3","S1","S2","S3"]}),e.jsx(S,{label:"Pekerjaan",value:r.pekerjaan,onChange:a=>u({...r,pekerjaan:a.target.value})}),e.jsx(D,{label:"Status Kawin",value:r.statusPerkawinan,onChange:a=>u({...r,statusPerkawinan:a.target.value}),options:["Belum Kawin","Kawin","Cerai Hidup","Cerai Mati"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm space-y-4",children:[e.jsxs("h3",{className:"font-bold text-blue-700 border-b pb-2 flex gap-2",children:[e.jsx(J,{size:18})," Data Keluarga"]}),e.jsx(S,{label:"Nomor KK",value:r.nomorKK,onChange:a=>u({...r,nomorKK:a.target.value}),required:!0}),e.jsx(D,{label:"Hubungan",value:r.statusHubungan,onChange:a=>u({...r,statusHubungan:a.target.value}),options:["Kepala Keluarga","Suami","Istri","Anak","Menantu","Orang Tua","Mertua","Famili Lain"]}),e.jsx(S,{label:"Alamat Domisili",value:r.alamat,onChange:a=>u({...r,alamat:a.target.value})}),e.jsxs("div",{className:"flex items-center gap-2 bg-green-50 p-3 rounded border border-green-200",children:[e.jsx("input",{type:"checkbox",checked:r.isPendatang,onChange:a=>u({...r,isPendatang:a.target.checked}),className:"w-5 h-5 text-green-600 rounded"}),e.jsx("label",{className:"text-sm font-medium text-green-800",children:"Warga Pendatang (Baru Masuk)"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm space-y-4",children:[e.jsxs("h3",{className:"font-bold text-blue-700 border-b pb-2 flex gap-2",children:[e.jsx(Ce,{size:18})," Aset & Kepemilikan"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(D,{label:"Status Rumah",value:r.statusRumah,onChange:a=>u({...r,statusRumah:a.target.value}),options:["Milik Sendiri","Sewa/Kontrak","Menumpang"]}),e.jsx(D,{label:"BPJS",value:r.jenisBpjs,onChange:a=>u({...r,jenisBpjs:a.target.value}),options:["Tidak Memiliki","BPJS Mandiri","BPJS Kantor","BPJS PBI"]})]}),e.jsxs("div",{className:"bg-slate-50 p-3 rounded border border-slate-200 space-y-3",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Kendaraan"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:r.hasMobil,onChange:a=>u({...r,hasMobil:a.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm w-16",children:"Mobil"}),e.jsx("input",{type:"text",disabled:!r.hasMobil,value:r.platMobil,onChange:a=>u({...r,platMobil:a.target.value}),placeholder:"Plat Nomor",className:"flex-1 border rounded px-2 py-1 text-sm disabled:bg-slate-100"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:r.hasMotor,onChange:a=>u({...r,hasMotor:a.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm w-16",children:"Motor"}),e.jsx("input",{type:"text",disabled:!r.hasMotor,value:r.platMotor,onChange:a=>u({...r,platMotor:a.target.value}),placeholder:"Plat Nomor",className:"flex-1 border rounded px-2 py-1 text-sm disabled:bg-slate-100"})]})]}),e.jsxs("div",{className:"border-t pt-2",children:[e.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Catatan Tambahan"}),e.jsx("textarea",{value:r.catatan,onChange:a=>u({...r,catatan:a.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Contoh: Sakit menahun, butuh bantuan, dll."})]}),e.jsxs("div",{className:"border-t pt-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Foto Dokumen"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:le,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),G(r.files)]})]})]}),j==="activity"&&e.jsxs(e.Fragment,{children:[e.jsx(S,{label:"Nama Kegiatan",value:K.namaKegiatan,onChange:a=>C({...K,namaKegiatan:a.target.value}),required:!0}),e.jsx(S,{label:"Tanggal",type:"date",value:K.tanggal,onChange:a=>C({...K,tanggal:a.target.value}),required:!0}),e.jsx("textarea",{className:"w-full border p-2 rounded",rows:3,placeholder:"Deskripsi",value:K.deskripsi,onChange:a=>C({...K,deskripsi:a.target.value})}),e.jsx(S,{label:"Keterangan",value:K.keterangan,onChange:a=>C({...K,keterangan:a.target.value})}),e.jsxs("div",{className:"border-t pt-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Foto"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:le,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),G(K.files)]})]}),j==="complaint"&&e.jsxs(e.Fragment,{children:[e.jsx(S,{label:"Nama Pelapor",value:F.namaPelapor,onChange:a=>T({...F,namaPelapor:a.target.value}),required:!0}),e.jsx("textarea",{className:"w-full border p-2 rounded",rows:4,placeholder:"Isi Pengaduan...",value:F.deskripsi,onChange:a=>T({...F,deskripsi:a.target.value}),required:!0}),e.jsxs("div",{className:"border-t pt-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Foto Bukti"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:le,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),G(F.files)]})]}),e.jsx("div",{className:"pt-4 border-t sticky bottom-0 bg-white",children:e.jsx("button",{type:"submit",disabled:k,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-bold shadow hover:bg-blue-700 disabled:bg-blue-300 flex justify-center items-center gap-2",children:k?e.jsxs(e.Fragment,{children:[e.jsx(aa,{className:"animate-spin"})," Menyimpan..."]}):"SIMPAN DATA"})})]})]})}),Ee&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 print:hidden",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 relative",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-lg font-bold text-green-700 flex items-center gap-2",children:[e.jsx(sa,{size:20})," Selesaikan Pengaduan"]}),e.jsx("button",{onClick:I,className:"text-gray-500 hover:text-red-500",children:e.jsx(X,{size:20})})]}),e.jsxs("form",{onSubmit:We,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Catatan / Tanggapan Penyelesaian"}),e.jsx("textarea",{value:M.tanggapan,onChange:a=>W({...M,tanggapan:a.target.value}),placeholder:"Contoh: Masalah telah diperbaiki pada hari Senin...",className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-24 resize-none",required:!0})]}),e.jsxs("div",{className:"border-t pt-2 mt-2",children:[e.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Bukti Foto Penyelesaian"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:Ue,className:"text-sm w-full file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),G(M.files,a=>W(s=>({...s,files:s.files.filter((l,t)=>t!==a)})))]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:I,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-medium",children:"Batal"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 shadow-sm",children:"Simpan Selesai"})]})]})]})})]})}function Y({active:n,onClick:d,icon:o,label:p}){return e.jsxs("button",{onClick:d,className:`flex items-center gap-1 px-3 py-2 text-sm font-medium border-b-2 transition ${n?"border-blue-600 text-blue-600":"border-transparent text-gray-500"}`,children:[o," ",p]})}function z({icon:n,label:d,value:o,color:p,active:i,onClick:c}){return e.jsxs("div",{onClick:c,className:`p-3 rounded-lg border flex items-center gap-3 cursor-pointer ${i?"ring-2 ring-blue-400 bg-blue-50":"bg-white"}`,children:[e.jsx("div",{className:`${p} text-white p-2 rounded shadow`,children:n}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-500 uppercase",children:d}),e.jsx("p",{className:"text-xl font-bold",children:o})]})]})}function Ae({data:n,onEdit:d,onDelete:o,onMove:p,onPreview:i}){const c=n.statusHubungan==="Kepala Keluarga";return e.jsxs("div",{className:`p-4 rounded-xl border shadow-sm ${n.isMoved?"bg-red-50":"bg-white"}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center border",children:n.files&&n.files.length>0?e.jsx("img",{src:n.files[0],className:"w-full h-full object-cover cursor-pointer",onClick:()=>i(n.files[0])}):e.jsx(Re,{size:20,className:"text-gray-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold truncate",children:n.nama}),e.jsx("p",{className:"text-xs text-gray-500",children:n.statusHubungan})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[n.isMoved&&e.jsx("span",{className:"text-[10px] bg-red-600 text-white px-2 py-0.5 rounded",children:"PINDAH"}),n.isPendatang&&!n.isMoved&&e.jsx("span",{className:"text-[10px] bg-green-600 text-white px-2 py-0.5 rounded",children:"PENDATANG"})]})]}),e.jsxs("div",{className:"mt-3 text-xs space-y-1 text-gray-600 border-t pt-2",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-bold",children:"NIK:"})," ",n.nik]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-bold",children:"KK:"})," ",n.nomorKK]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-bold",children:"JK:"})," ",n.jenisKelamin]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-bold",children:"Gol.D:"})," ",n.golDarah]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-bold",children:"Agama:"})," ",n.agama]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-bold",children:"Status:"})," ",n.statusPerkawinan]})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-bold",children:"Pekerjaan:"})," ",n.pekerjaan]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-bold",children:"Alamat:"})," ",n.alamat]}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[n.hasMobil&&e.jsxs("span",{className:"text-[10px] bg-orange-100 text-orange-700 px-1 rounded flex items-center gap-1",children:[e.jsx(ma,{size:10})," ",n.platMobil]}),n.hasMotor&&e.jsxs("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-1 rounded flex items-center gap-1",children:[e.jsx(ga,{size:10})," ",n.platMotor]})]}),n.files&&n.files.length>0&&e.jsx("div",{className:"flex gap-1 mt-2 overflow-x-auto pt-1",children:n.files.map((h,f)=>e.jsx("img",{src:h,className:"w-8 h-8 rounded object-cover border cursor-pointer hover:opacity-80",onClick:()=>i(h)},f))})]}),n.catatan&&e.jsxs("div",{className:"bg-yellow-50 p-2 rounded text-yellow-800 text-[10px] sm:text-xs mt-2 border border-yellow-100 flex gap-1 items-start",children:[e.jsx(pa,{size:12,className:"mt-0.5 flex-shrink-0"})," ",e.jsx("span",{children:n.catatan})]}),c&&!n.isMoved&&e.jsx("div",{className:"flex justify-between border-t pt-2 mt-2",children:e.jsxs("span",{className:"text-gray-500 text-[10px]",children:["Rumah: ",n.statusRumah]})}),n.isMoved&&e.jsxs("div",{className:"bg-red-100 p-2 rounded text-red-700 mt-2 text-xs",children:[e.jsxs("span",{className:"font-bold flex items-center gap-1",children:[e.jsx(Fe,{size:10})," Pindah ke:"]}),n.alamatPindah," (",n.tanggalPindah,")"]}),e.jsxs("div",{className:"mt-3 flex justify-between items-center pt-2 border-t",children:[!n.isMoved&&e.jsxs("button",{onClick:p,className:"text-orange-600 text-xs flex items-center gap-1",children:[e.jsx(ha,{size:12})," Pindah"]}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx("button",{onClick:d,className:"text-blue-600 bg-blue-50 p-1 rounded",children:e.jsx(ue,{size:16})}),e.jsx("button",{onClick:o,className:"text-red-600 bg-red-50 p-1 rounded",children:e.jsx(xe,{size:16})})]})]})]})}function Na({data:n,memberCount:d,onClick:o}){return e.jsxs("div",{onClick:o,className:"p-4 rounded-xl border shadow-sm bg-white cursor-pointer hover:shadow-md flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-blue-100 text-blue-600 p-2 rounded-full font-bold w-10 h-10 flex items-center justify-center overflow-hidden",children:n.files&&n.files.length>0?e.jsx("img",{src:n.files[0],className:"w-full h-full object-cover"}):n.nama[0]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:n.nama}),e.jsxs("p",{className:"text-xs text-gray-500",children:["KK: ",n.nomorKK]})]})]}),e.jsxs("div",{className:"text-xs bg-gray-100 px-2 py-1 rounded text-gray-600",children:[d," Anggota"]})]})}function S({label:n,name:d,type:o="text",value:p,onChange:i,placeholder:c,required:h,disabled:f,className:b}){const y=Q.useMemo(()=>`input-${d}-${Math.random().toString(36).substr(2,9)}`,[d]),k=w=>{if(o==="date"&&w.target.showPicker)try{w.target.showPicker()}catch{}};return e.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[e.jsxs("label",{htmlFor:y,className:"text-sm font-medium text-gray-700 mb-1 block",children:[n," ",h&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:y,type:o,name:d,value:p,onChange:i,onClick:o==="date"?w=>k(w):void 0,placeholder:c,required:h,disabled:f,className:`px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition w-full min-h-[42px] ${b}`})]})}function D({label:n,name:d,value:o,onChange:p,options:i,required:c}){const h=Q.useMemo(()=>`select-${d}-${Math.random().toString(36).substr(2,9)}`,[d]);return e.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[e.jsxs("label",{htmlFor:h,className:"text-sm font-medium text-gray-700 mb-1 block",children:[n," ",c&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{id:h,name:d,value:o,onChange:p,required:c,className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white w-full min-h-[42px]",children:i.map(f=>e.jsx("option",{value:f,children:f},f))})]})}class ya extends Q.Component{constructor(d){super(d),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(d){return{hasError:!0,error:d}}componentDidCatch(d,o){console.error("Uncaught error:",d,o),this.setState({errorInfo:o})}render(){return this.state.hasError?e.jsxs("div",{style:{padding:"20px",color:"#721c24",backgroundColor:"#f8d7da",fontFamily:"sans-serif",height:"100vh",boxSizing:"border-box"},children:[e.jsx("h2",{style:{borderBottom:"1px solid #f5c6cb",paddingBottom:"10px"},children:"Oops, terjadi kesalahan fatal."}),e.jsx("p",{children:"Aplikasi mengalami crash. Mohon screenshot pesan di bawah ini dan kirimkan ke pengembang:"}),e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx("strong",{children:"Error:"}),e.jsx("pre",{style:{background:"#fff",padding:"15px",borderRadius:"5px",overflowX:"auto",border:"1px solid #f5c6cb"},children:this.state.error&&this.state.error.toString()})]}),e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx("strong",{children:"Stack Trace:"}),e.jsxs("details",{style:{whiteSpace:"pre-wrap",cursor:"pointer"},children:[e.jsx("summary",{children:"Klik untuk melihat detail"}),e.jsx("pre",{style:{background:"#fff",padding:"15px",borderRadius:"5px",overflowX:"auto",fontSize:"12px",marginTop:"5px",border:"1px solid #ccc"},children:this.state.errorInfo&&this.state.errorInfo.componentStack})]})]}),e.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"10px 20px",cursor:"pointer",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"5px",fontSize:"16px"},children:"Muat Ulang Halaman"})]}):this.props.children}}const ze=document.getElementById("root");ze?ja(ze).render(e.jsx(Q.StrictMode,{children:e.jsx(ya,{children:e.jsx(va,{})})})):console.error("Gagal menemukan elemen ID 'root' di index.html");
