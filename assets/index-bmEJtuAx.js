import{i as Xe,g as Ve,a as Ye,r as p,s as Qe,o as Ze,b as te,c as _,j as e,U as E,C as le,M as ea,X as ne,d as Ce,H as me,T as aa,e as Se,u as re,f as X,h as Me,k as sa,A as ta,l as Pe,F as la,L as ue,K as na,B as ra,S as ia,P as ie,m as xe,n as ge,p as oa,R as $,q as da,I as Fe,t as ca,v as ma,w as ua,x as xa,y as ga,z as pa}from"./vendor-D69njpU4.js";(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))g(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&g(f)}).observe(document,{childList:!0,subtree:!0});function u(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function g(o){if(o.ep)return;o.ep=!0;const c=u(o);fetch(o.href,c)}})();const Re={apiKey:"AIzaSyBwf0YITW6dueNHMtfD_d-fA0TcVhBT06c",authDomain:"rt-05-rw-09.firebaseapp.com",projectId:"rt-05-rw-09",storageBucket:"rt-05-rw-09.firebasestorage.app",messagingSenderId:"656172952610",appId:"1:656172952610:web:f6c98f827617589e73ae7b"},Be=Xe(Re),D=Ve(Be),Ke=Ye(Be),F="rt-05-rw-09-prod",ze=n=>new Promise((m,u)=>{const g=new FileReader;g.readAsDataURL(n),g.onload=o=>{var f;const c=new Image;c.src=(f=o.target)==null?void 0:f.result,c.onload=()=>{const b=document.createElement("canvas");let v=c.width,N=c.height;const y=800;v>N?v>y&&(N*=y/v,v=y):N>y&&(v*=y/N,N=y),b.width=v,b.height=N;const C=b.getContext("2d");if(!C){u(new Error("Canvas ctx error"));return}C.drawImage(c,0,0,v,N),m(b.toDataURL("image/jpeg",.6))},c.onerror=b=>u(b)},g.onerror=o=>u(o)}),Ae=()=>new Date().toISOString().split("T")[0],O={nomorKK:"",alamat:"",statusHubungan:"Kepala Keluarga",nik:"",nama:"",tempatLahir:"",tanggalLahir:"",jenisKelamin:"Laki-laki",golDarah:"-",agama:"Islam",statusPerkawinan:"Belum Kawin",pendidikan:"SMA/Sederajat",pekerjaan:"",statusRumah:"Milik Sendiri",jenisBpjs:"Tidak Memiliki",hasMobil:!1,platMobil:"",hasMotor:!1,platMotor:"",isMoved:!1,alamatPindah:"",tanggalPindah:"",isPendatang:!1,catatan:"",files:[]},oe={namaKegiatan:"",tanggal:"",deskripsi:"",keterangan:"",files:[]},de={namaPelapor:"",deskripsi:"",status:"Menunggu",tanggapan:"",files:[],tanggalPengaduan:"",tanggalPenyelesaian:""};function ha(){const[n,m]=p.useState(null),[u,g]=p.useState("penduduk"),[o,c]=p.useState([]),[f,b]=p.useState([]),[v,N]=p.useState([]),[y,C]=p.useState(""),[H,pe]=p.useState(""),[V,Ie]=p.useState("Semua"),[Le,Y]=p.useState(!1),[h,he]=p.useState("resident"),[Ee,Q]=p.useState(!1),[S,U]=p.useState({id:"",tanggapan:"",files:[]}),[Z,fe]=p.useState(!1),[be,ee]=p.useState(null),[r,d]=p.useState(O),[k,M]=p.useState(oe),[z,A]=p.useState(de),[q,He]=p.useState(""),[W,je]=p.useState(null),[j,B]=p.useState("kk");p.useEffect(()=>(Qe(Ke).catch(a=>console.error("Auth Error:",a)),Ze(Ke,m)),[]),p.useEffect(()=>{if(!n)return;const a=te(_(D,"artifacts",F,"public","data","residents"),l=>{const x=l.docs.map(i=>({id:i.id,...i.data(),files:i.data().files||[],catatan:i.data().catatan||""}));x.sort((i,L)=>{const Ne=["Kepala Keluarga","Istri","Suami","Anak"],we=Ne.indexOf(i.statusHubungan),ke=Ne.indexOf(L.statusHubungan);return(we===-1?99:we)-(ke===-1?99:ke)}),c(x)},l=>console.error("Firestore Residents Error:",l)),s=te(_(D,"artifacts",F,"public","data","activities"),l=>{const x=l.docs.map(i=>({id:i.id,...i.data(),files:i.data().files||[]}));x.sort((i,L)=>new Date(L.tanggal).getTime()-new Date(i.tanggal).getTime()),b(x)},l=>console.error("Firestore Activity Error:",l)),t=te(_(D,"artifacts",F,"public","data","complaints"),l=>{const x=l.docs.map(i=>({id:i.id,...i.data(),files:i.data().files||[],tanggalPengaduan:i.data().tanggalPengaduan||"",tanggalPenyelesaian:i.data().tanggalPenyelesaian||""}));N(x.sort((i,L)=>i.status==="Menunggu"&&L.status!=="Menunggu"?-1:i.status!=="Menunggu"&&L.status==="Menunggu"?1:0))},l=>console.error("Firestore Complaint Error:",l));return()=>{a(),s(),t()}},[n]);const Oe=async a=>{if(a.preventDefault(),!n)return;let s="",t={};if(h==="resident"||h==="move"?(s="residents",t=r):h==="activity"?(s="activities",t=k):h==="complaint"&&(s="complaints",t=z,!Z&&!t.tanggalPengaduan&&(t.tanggalPengaduan=Ae())),new Blob([JSON.stringify(t)]).size>95e4)return alert("Ukuran data terlalu besar. Kurangi foto.");try{const l=_(D,"artifacts",F,"public","data",s);if(Z&&be)await re(X(l,be),{...t,updatedAt:Me()}),I();else{if(await sa(l,{...t,createdAt:Me()}),h==="resident"&&confirm(`Data berhasil disimpan. 

Klik OK untuk lanjut menambah Anggota Keluarga lain.
Klik Cancel untuk Selesai.`)){d(i=>({...O,nomorKK:i.nomorKK,alamat:i.alamat,statusRumah:i.statusRumah,statusHubungan:"Anak",hasMobil:i.hasMobil,platMobil:i.platMobil,hasMotor:i.hasMotor,platMotor:i.platMotor,isPendatang:i.isPendatang,catatan:""}));return}I()}}catch(l){console.error(l),alert("Gagal menyimpan.")}},J=async(a,s)=>{confirm("Yakin hapus data ini?")&&await ca(X(D,"artifacts",F,"public","data",a,s))},ae=async a=>{const s=Array.from(a.target.files||[]);let t=[];if(h==="resident"?t=r.files:h==="activity"?t=k.files||[]:h==="complaint"&&(t=z.files||[]),t.length+s.length>5)return alert("Maksimal 5 file.");const l=[];for(const x of s)try{const i=await ze(x);i.length<5e5?l.push(i):alert(`File ${x.name} terlalu besar.`)}catch(i){console.error(i)}h==="resident"?d(x=>({...x,files:[...x.files,...l]})):h==="activity"?M(x=>({...x,files:[...x.files||[],...l]})):h==="complaint"&&A(x=>({...x,files:[...x.files||[],...l]})),a.target.value=""},se=a=>{h==="resident"?d(s=>({...s,files:s.files.filter((t,l)=>l!==a)})):h==="activity"?M(s=>({...s,files:(s.files||[]).filter((t,l)=>l!==a)})):h==="complaint"&&A(s=>({...s,files:(s.files||[]).filter((t,l)=>l!==a)}))},$e=a=>{U({id:a,tanggapan:"",files:[]}),Q(!0)},Ue=async a=>{const s=Array.from(a.target.files||[]);if((S.files.length||0)+s.length>5)return alert("Maksimal 5 file.");const t=[];for(const l of s)try{const x=await ze(l);x.length<5e5&&t.push(x)}catch(x){console.error(x)}U(l=>({...l,files:[...l.files,...t]})),a.target.value=""},qe=async a=>{if(a.preventDefault(),!(!n||!S.id))try{const s=v.find(x=>x.id===S.id),l=[...(s==null?void 0:s.files)||[],...S.files];await re(X(D,"artifacts",F,"public","data","complaints",S.id),{status:"Selesai",tanggapan:S.tanggapan,files:l,tanggalPenyelesaian:Ae()}),Q(!1)}catch(s){console.error(s),alert("Gagal menyelesaikan pengaduan.")}},We=async(a,s)=>{try{const t={status:s};s!=="Selesai"&&(t.tanggalPenyelesaian=""),await re(X(D,"artifacts",F,"public","data","complaints",a),t)}catch(t){console.error(t),alert("Gagal update status")}},P=(a,s)=>{he(a),s?(fe(!0),ee(s.id),a==="resident"&&d(s),a==="activity"&&M({...s,files:s.files||[]}),a==="complaint"&&A({...s,files:s.files||[]})):(fe(!1),ee(null),a==="resident"&&d(O),a==="activity"&&M(oe),a==="complaint"&&A(de)),Y(!0)},ve=a=>{d({...a,alamatPindah:"",tanggalPindah:""}),ee(a.id),he("move"),Y(!0)},I=()=>{Y(!1),Q(!1),d(O),M(oe),A(de)},G=(a,s)=>e.jsx("div",{className:"flex gap-2 mt-2 overflow-x-auto pb-2",children:a==null?void 0:a.map((t,l)=>e.jsxs("div",{className:"w-16 h-16 relative flex-shrink-0 group",children:[e.jsx("img",{src:t,className:"w-full h-full object-cover rounded border border-gray-200 cursor-pointer",onClick:()=>window.open(t)}),s&&e.jsx("button",{type:"button",onClick:()=>s(l),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 shadow transition",children:e.jsx(ne,{size:12})})]},l))}),ye=a=>!a||a.length===0?null:e.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-100",children:[e.jsxs("p",{className:"text-xs text-gray-500 mb-1 flex items-center gap-1",children:[e.jsx(Fe,{size:12})," Lampiran (",a.length,")"]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar",children:a.map((s,t)=>e.jsx("div",{className:"w-10 h-10 rounded border border-gray-200 overflow-hidden cursor-pointer hover:opacity-80",onClick:()=>window.open(s),children:e.jsx("img",{src:s,className:"w-full h-full object-cover"})},t))})]}),T=p.useMemo(()=>{const a=o.filter(l=>!l.isMoved),s=o.filter(l=>l.isMoved),t=a.filter(l=>l.statusHubungan==="Kepala Keluarga");return{totalWarga:a.length,totalKK:t.length,totalPindah:s.length,totalPendatang:a.filter(l=>l.isPendatang).length,rumahMilik:t.filter(l=>l.statusRumah==="Milik Sendiri").length,rumahSewa:t.filter(l=>l.statusRumah==="Sewa/Kontrak").length,rumahMenumpang:t.filter(l=>l.statusRumah==="Menumpang").length}},[o]),Je=()=>{const a=o.filter(t=>q===""||t.nama.toLowerCase().includes(q.toLowerCase())||t.nomorKK.includes(q)?j==="kk"?t.statusHubungan==="Kepala Keluarga"&&!t.isMoved:j==="pindah"?t.isMoved:j==="datang"?t.isPendatang&&!t.isMoved:j==="milik"?t.statusHubungan==="Kepala Keluarga"&&!t.isMoved&&t.statusRumah==="Milik Sendiri":j==="sewa"?t.statusHubungan==="Kepala Keluarga"&&!t.isMoved&&t.statusRumah==="Sewa/Kontrak":j==="numpang"?t.statusHubungan==="Kepala Keluarga"&&!t.isMoved&&t.statusRumah==="Menumpang":!1:!1),s=t=>o.filter(l=>l.nomorKK===t);if(W){const t=s(W);return e.jsxs("div",{className:"animate-fade-in pb-20",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 mb-6 sticky top-0 bg-slate-50 z-20 pt-2 pb-2 shadow-sm sm:shadow-none px-2 sm:px-0 -mx-4 sm:mx-0",children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx("button",{onClick:()=>je(null),className:"p-2 bg-white border rounded-full hover:bg-gray-100 shadow-sm",children:e.jsx(ta,{size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-lg sm:text-2xl font-bold",children:"Detail Keluarga"}),e.jsxs("span",{className:"font-mono text-gray-500 text-xs sm:text-sm",children:["KK: ",W]})]}),e.jsxs("button",{onClick:()=>{const l=t.find(i=>i.statusHubungan==="Kepala Keluarga")||t[0],x={...O,nomorKK:W,alamat:(l==null?void 0:l.alamat)||"",isPendatang:l==null?void 0:l.isPendatang};P("resident"),d(x)},className:"bg-green-600 text-white px-3 py-2 rounded-lg text-xs sm:text-sm font-medium flex items-center gap-1 hover:bg-green-700 shadow-sm",children:[e.jsx(Pe,{size:16})," ",e.jsx("span",{className:"hidden sm:inline",children:"Tambah Anggota"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 px-2 sm:px-0",children:t.map(l=>e.jsx(Te,{data:l,onEdit:()=>P("resident",l),onDelete:()=>J("residents",l.id),onMove:()=>ve(l)},l.id))})]})}return e.jsxs("div",{className:"pb-20",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 mb-6",children:[e.jsx(R,{icon:e.jsx(E,{}),label:"Total Warga",value:T.totalWarga,color:"bg-blue-600",active:!1,onClick:()=>{}}),e.jsx(R,{icon:e.jsx(la,{}),label:"Kepala Keluarga",value:T.totalKK,color:"bg-indigo-500",active:j==="kk",onClick:()=>B("kk")}),e.jsx(R,{icon:e.jsx(ue,{}),label:"Warga Pindah",value:T.totalPindah,color:"bg-red-500",active:j==="pindah",onClick:()=>B("pindah")}),e.jsx(R,{icon:e.jsx(Pe,{}),label:"Warga Datang",value:T.totalPendatang,color:"bg-green-500",active:j==="datang",onClick:()=>B("datang")})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xs font-bold text-gray-500 mb-3 uppercase tracking-wide ml-1",children:"Status Kepemilikan Rumah (KK)"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsx(R,{icon:e.jsx(me,{}),label:"Milik Sendiri",value:T.rumahMilik,color:"bg-emerald-600",active:j==="milik",onClick:()=>B("milik")}),e.jsx(R,{icon:e.jsx(na,{}),label:"Sewa / Kontrak",value:T.rumahSewa,color:"bg-orange-500",active:j==="sewa",onClick:()=>B("sewa")}),e.jsx(R,{icon:e.jsx(ra,{}),label:"Menumpang",value:T.rumahMenumpang,color:"bg-purple-500",active:j==="numpang",onClick:()=>B("numpang")})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-3",children:[e.jsxs("div",{className:"relative w-full sm:w-96",children:[e.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Cari Nama / KK...",value:q,onChange:t=>He(t.target.value),className:"w-full pl-10 pr-4 py-3 sm:py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 outline-none text-base"})]}),e.jsxs("button",{onClick:()=>P("resident"),className:"w-full sm:w-auto bg-blue-600 text-white px-4 py-3 sm:py-2 rounded-lg shadow hover:bg-blue-700 flex items-center justify-center gap-2",children:[e.jsx(ie,{size:18})," ",e.jsx("span",{children:"Warga Baru"})]})]}),a.length===0?e.jsxs("div",{className:"text-center py-20 bg-white rounded-xl border border-gray-200",children:[e.jsx(E,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Tidak ada data untuk kategori ini."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:a.map(t=>j==="kk"||j==="milik"||j==="sewa"||j==="numpang"?e.jsx(fa,{data:t,memberCount:s(t.nomorKK).length,onClick:()=>je(t.nomorKK)},t.id):e.jsx(Te,{data:t,onEdit:()=>P("resident",t),onDelete:()=>J("residents",t.id),onMove:()=>ve(t)},t.id))})]})},Ge=()=>{const a=f.filter(s=>!(y&&s.tanggal<y||H&&s.tanggal>H));return e.jsxs("div",{className:"animate-fade-in pb-20",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-3",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-800 w-full sm:w-auto",children:"Agenda Kegiatan RT"}),e.jsxs("button",{onClick:()=>P("activity"),className:"w-full sm:w-auto bg-purple-600 text-white px-4 py-3 sm:py-2 rounded-lg shadow hover:bg-purple-700 flex items-center justify-center gap-2",children:[e.jsx(ie,{size:18})," ",e.jsx("span",{children:"Tambah Kegiatan"})]})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 mb-6 flex flex-col sm:flex-row gap-3 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(le,{size:16})," Filter Periode:"]}),e.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[e.jsx("input",{type:"date",value:y,onChange:s=>C(s.target.value),className:"border rounded px-2 py-1 text-sm w-full sm:w-auto focus:ring-2 focus:ring-purple-500 outline-none"}),e.jsx("span",{className:"text-gray-400",children:"-"}),e.jsx("input",{type:"date",value:H,onChange:s=>pe(s.target.value),className:"border rounded px-2 py-1 text-sm w-full sm:w-auto focus:ring-2 focus:ring-purple-500 outline-none"})]}),(y||H)&&e.jsx("button",{onClick:()=>{C(""),pe("")},className:"text-xs text-red-500 hover:text-red-700 font-medium ml-auto sm:ml-0",children:"Reset Filter"})]}),e.jsxs("div",{className:"space-y-4",children:[a.length===0&&e.jsx("div",{className:"text-center py-10 bg-white rounded border text-gray-500",children:"Belum ada kegiatan pada periode ini."}),a.map(s=>e.jsxs("div",{className:"bg-white p-4 sm:p-5 rounded-xl border border-gray-200 shadow-sm flex flex-col sm:flex-row gap-4 hover:shadow-md transition",children:[e.jsxs("div",{className:"bg-purple-100 text-purple-700 p-3 sm:p-4 rounded-lg flex flex-row sm:flex-col items-center justify-center sm:min-w-[80px] text-center gap-2 sm:gap-0",children:[e.jsx(le,{size:20,className:"sm:w-6 sm:h-6"}),e.jsx("span",{className:"text-xs sm:text-xs font-bold mt-0 sm:mt-1",children:s.tanggal})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:s.namaKegiatan}),e.jsx("p",{className:"text-gray-600 mt-1 whitespace-pre-wrap text-sm",children:s.deskripsi}),s.keterangan&&e.jsxs("div",{className:"mt-2 text-sm bg-gray-50 p-2 rounded text-gray-500 border border-gray-100 flex gap-2",children:[e.jsx("div",{className:"w-1 bg-purple-400 rounded-full"}),s.keterangan]}),ye(s.files)]}),e.jsxs("div",{className:"flex sm:flex-col gap-2 justify-end border-t sm:border-t-0 pt-2 sm:pt-0 mt-2 sm:mt-0",children:[e.jsx("button",{onClick:()=>P("activity",s),className:"p-2 text-blue-600 hover:bg-blue-50 rounded flex-1 sm:flex-none flex justify-center",children:e.jsx(xe,{size:18})}),e.jsx("button",{onClick:()=>J("activities",s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded flex-1 sm:flex-none flex justify-center",children:e.jsx(ge,{size:18})})]})]},s.id))]})]})},_e=()=>{const a=v.filter(s=>!(V!=="Semua"&&s.status!==V));return e.jsxs("div",{className:"animate-fade-in pb-20",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-3",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-800 w-full sm:w-auto",children:"Layanan Pengaduan Warga"}),e.jsxs("button",{onClick:()=>P("complaint"),className:"w-full sm:w-auto bg-orange-600 text-white px-4 py-3 sm:py-2 rounded-lg shadow hover:bg-orange-700 flex items-center justify-center gap-2",children:[e.jsx(ie,{size:18})," ",e.jsx("span",{children:"Buat Pengaduan"})]})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 mb-6 flex items-center gap-3",children:[e.jsx(oa,{size:16,className:"text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),e.jsxs("select",{value:V,onChange:s=>Ie(s.target.value),className:"border rounded px-2 py-1 text-sm focus:ring-2 focus:ring-orange-500 outline-none bg-white",children:[e.jsx("option",{value:"Semua",children:"Semua Status"}),e.jsx("option",{value:"Menunggu",children:"Menunggu"}),e.jsx("option",{value:"Proses",children:"Proses"}),e.jsx("option",{value:"Selesai",children:"Selesai"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.length===0&&e.jsx("div",{className:"col-span-full text-center py-10 bg-white rounded border text-gray-500",children:"Belum ada pengaduan dengan status ini."}),a.map(s=>e.jsxs("div",{className:"bg-white p-4 sm:p-5 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition relative group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{size:16,className:"text-gray-400"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700 text-sm",children:s.namaPelapor}),e.jsx("span",{className:"text-[10px] text-gray-400",children:s.tanggalPengaduan||"Tgl N/A"})]})]}),e.jsx("span",{className:`text-[10px] px-2 py-1 rounded-full font-bold uppercase tracking-wide ${s.status==="Selesai"?"bg-green-100 text-green-700":s.status==="Proses"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:s.status})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 min-h-[3rem] whitespace-pre-wrap",children:s.deskripsi}),ye(s.files),s.status==="Selesai"&&e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200 mt-3 mb-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsxs("div",{className:"font-bold text-green-800 flex items-center gap-1",children:[e.jsx(Se,{size:14})," Penyelesaian:"]}),e.jsx("span",{className:"text-[10px] text-green-600",children:s.tanggalPenyelesaian})]}),e.jsx("div",{className:"text-green-700 whitespace-pre-wrap",children:s.tanggapan||"-"})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-100 flex flex-wrap justify-between items-center mt-3 gap-2",children:[e.jsxs("div",{className:"flex gap-1",children:[["Menunggu","Proses"].map(t=>e.jsx("button",{onClick:()=>We(s.id,t),className:`h-7 px-2 rounded-full flex items-center justify-center text-[10px] border transition ${s.status===t?"ring-2 ring-offset-1 ring-gray-300 border-transparent bg-gray-800 text-white":"border-gray-200 text-gray-400 hover:bg-gray-100"}`,children:t},t)),e.jsx("button",{onClick:()=>$e(s.id),className:`h-7 px-2 rounded-full flex items-center justify-center text-[10px] border transition ${s.status==="Selesai"?"ring-2 ring-offset-1 ring-gray-300 border-transparent bg-green-600 text-white":"border-green-200 text-green-600 hover:bg-green-50"}`,children:"Selesai"})]}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx("button",{onClick:()=>P("complaint",s),className:"text-blue-500 hover:text-blue-700 p-1",children:e.jsx(xe,{size:18})}),e.jsx("button",{onClick:()=>J("complaints",s.id),className:"text-red-500 hover:text-red-700 p-1",children:e.jsx(ge,{size:18})})]})]})]},s.id))]})]})};return Re?e.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-800 font-sans",children:[e.jsxs("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-30 shadow-sm",children:[e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-3 sm:py-4 flex flex-col sm:flex-row items-center justify-between gap-2 sm:gap-0",children:e.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[e.jsx("div",{className:"bg-blue-600 text-white p-2 rounded-lg shadow-sm flex-shrink-0",children:e.jsx(E,{size:20,className:"sm:w-6 sm:h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm sm:text-lg font-bold leading-tight",children:"RT. 05 RW. 09 Perumahan Buana Permai Cipondoh Kota Tangerang"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"Sistem Data Penduduk"})]})]})}),e.jsx("div",{className:"flex overflow-x-auto no-scrollbar border-t border-gray-100",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 w-full flex",children:[e.jsx(ce,{active:u==="penduduk",onClick:()=>g("penduduk"),icon:e.jsx(E,{size:18}),label:"Data Penduduk"}),e.jsx(ce,{active:u==="kegiatan",onClick:()=>g("kegiatan"),icon:e.jsx(le,{size:18}),label:"Kegiatan RT"}),e.jsx(ce,{active:u==="pengaduan",onClick:()=>g("pengaduan"),icon:e.jsx(ea,{size:18}),label:"Pengaduan"})]})})]}),e.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-4 sm:py-6",children:[u==="penduduk"&&Je(),u==="kegiatan"&&Ge(),u==="pengaduan"&&_e()]}),Le&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-0 sm:p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-white w-full sm:rounded-xl sm:max-w-4xl h-full sm:h-auto sm:max-h-[90vh] relative flex flex-col",children:[e.jsxs("div",{className:"p-4 sm:p-6 border-b flex justify-between items-center bg-gray-50 rounded-t-none sm:rounded-t-xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 capitalize",children:h==="move"?"Form Pindah Rumah":Z?`Edit ${h}`:`Tambah ${h}`}),e.jsx("button",{onClick:I,className:"text-gray-500 hover:text-red-500 p-1 bg-white rounded-full shadow-sm",children:e.jsx(ne,{size:24})})]}),e.jsxs("form",{onSubmit:Oe,className:"p-4 sm:p-6 overflow-y-auto bg-slate-50 space-y-6 flex-1",children:[h==="resident"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white p-4 sm:p-5 rounded-xl border border-gray-200 shadow-sm space-y-4",children:[e.jsxs("h3",{className:"font-bold text-blue-700 border-b pb-2 flex gap-2",children:[e.jsx(Ce,{size:20})," Data Pribadi"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(w,{label:"NIK",value:r.nik,onChange:a=>d({...r,nik:a.target.value}),required:!0}),e.jsx(w,{label:"Nama Lengkap",value:r.nama,onChange:a=>d({...r,nama:a.target.value}),required:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(w,{label:"Tempat Lahir",value:r.tempatLahir,onChange:a=>d({...r,tempatLahir:a.target.value})}),e.jsx(w,{label:"Tgl Lahir",type:"date",value:r.tanggalLahir,onChange:a=>d({...r,tanggalLahir:a.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(K,{label:"Jenis Kelamin",value:r.jenisKelamin,onChange:a=>d({...r,jenisKelamin:a.target.value}),options:["Laki-laki","Perempuan"]}),e.jsx(K,{label:"Gol. Darah",value:r.golDarah,onChange:a=>d({...r,golDarah:a.target.value}),options:["-","A","B","AB","O"]})]}),e.jsx(K,{label:"Pendidikan Terakhir",value:r.pendidikan,onChange:a=>d({...r,pendidikan:a.target.value}),options:["Tidak/Belum Sekolah","SD/Sederajat","SMP/Sederajat","SMA/Sederajat","D1","D2","D3","S1","S2","S3"]}),e.jsx(w,{label:"Pekerjaan",value:r.pekerjaan,onChange:a=>d({...r,pekerjaan:a.target.value})}),e.jsx(K,{label:"Agama",value:r.agama,onChange:a=>d({...r,agama:a.target.value}),options:["Islam","Kristen","Katolik","Hindu","Buddha","Konghucu"]}),e.jsx(K,{label:"Status Kawin",value:r.statusPerkawinan,onChange:a=>d({...r,statusPerkawinan:a.target.value}),options:["Belum Kawin","Kawin","Cerai Hidup","Cerai Mati"]})]})]}),e.jsxs("div",{className:"bg-white p-4 sm:p-5 rounded-xl border border-gray-200 shadow-sm space-y-4",children:[e.jsxs("h3",{className:"font-bold text-blue-700 border-b pb-2 flex gap-2",children:[e.jsx(E,{size:20})," Keluarga"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(w,{label:"Nomor KK",value:r.nomorKK,onChange:a=>d({...r,nomorKK:a.target.value}),required:!0}),e.jsx(K,{label:"Hubungan",value:r.statusHubungan,onChange:a=>d({...r,statusHubungan:a.target.value}),options:["Kepala Keluarga","Suami","Istri","Anak","Menantu","Orang Tua","Mertua","Famili Lain"]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(w,{label:"Alamat",value:r.alamat,onChange:a=>d({...r,alamat:a.target.value})})}),e.jsxs("div",{className:"md:col-span-2 flex items-center gap-2 bg-green-50 p-3 rounded border border-green-200",children:[e.jsx("input",{type:"checkbox",checked:r.isPendatang,onChange:a=>d({...r,isPendatang:a.target.checked}),className:"w-5 h-5 text-green-600 rounded"}),e.jsx("label",{className:"text-sm font-medium text-green-800",children:"Warga Pendatang (Baru Masuk)"})]})]})]}),e.jsxs("div",{className:"bg-white p-4 sm:p-5 rounded-xl border border-gray-200 shadow-sm space-y-4",children:[e.jsxs("h3",{className:"font-bold text-blue-700 border-b pb-2 flex gap-2",children:[e.jsx(me,{size:20})," Aset"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(K,{label:"Rumah",value:r.statusRumah,onChange:a=>d({...r,statusRumah:a.target.value}),options:["Milik Sendiri","Sewa/Kontrak","Menumpang"]}),e.jsx(K,{label:"BPJS",value:r.jenisBpjs,onChange:a=>d({...r,jenisBpjs:a.target.value}),options:["Tidak Memiliki","BPJS Mandiri","BPJS Kantor","BPJS PBI"]})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded border space-y-2",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"checkbox",checked:r.hasMobil,onChange:a=>d({...r,hasMobil:a.target.checked}),className:"w-4 h-4"}),e.jsx("span",{children:"Mobil"}),e.jsx("input",{type:"text",disabled:!r.hasMobil,value:r.platMobil,onChange:a=>d({...r,platMobil:a.target.value}),placeholder:"Plat No",className:"ml-auto border rounded px-2 py-1 text-sm"})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"checkbox",checked:r.hasMotor,onChange:a=>d({...r,hasMotor:a.target.checked}),className:"w-4 h-4"}),e.jsx("span",{children:"Motor"}),e.jsx("input",{type:"text",disabled:!r.hasMotor,value:r.platMotor,onChange:a=>d({...r,platMotor:a.target.value}),placeholder:"Plat No",className:"ml-auto border rounded px-2 py-1 text-sm"})]})]}),e.jsxs("div",{className:"border-t pt-2",children:[e.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Catatan Tambahan"}),e.jsx("textarea",{value:r.catatan,onChange:a=>d({...r,catatan:a.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Contoh: Penerima Bansos, Sakit Menahun, dll."})]}),e.jsxs("div",{className:"border-t pt-2",children:[e.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Foto/Dokumen"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:ae,className:"text-sm w-full file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),G(r.files,se)]})]})]}),h==="move"&&e.jsxs("div",{className:"space-y-4 bg-red-50 p-4 rounded border border-red-100",children:[e.jsxs("div",{className:"flex gap-2 text-red-700 text-sm mb-2",children:[e.jsx(aa,{size:16})," ",e.jsx("p",{children:"Menandai warga ini pindah rumah."})]}),e.jsx(w,{label:"Tanggal Pindah",type:"date",value:r.tanggalPindah,onChange:a=>d({...r,tanggalPindah:a.target.value}),required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Alamat Pindah"}),e.jsx("textarea",{className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500",rows:3,value:r.alamatPindah,onChange:a=>d({...r,alamatPindah:a.target.value}),required:!0})]})]}),h==="activity"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(w,{label:"Nama Kegiatan",value:k.namaKegiatan,onChange:a=>M({...k,namaKegiatan:a.target.value}),required:!0}),e.jsx(w,{label:"Tanggal Pelaksanaan",type:"date",value:k.tanggal,onChange:a=>M({...k,tanggal:a.target.value}),required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Deskripsi Kegiatan"}),e.jsx("textarea",{className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500",rows:4,value:k.deskripsi,onChange:a=>M({...k,deskripsi:a.target.value}),required:!0})]}),e.jsx(w,{label:"Keterangan Tambahan",value:k.keterangan,onChange:a=>M({...k,keterangan:a.target.value}),placeholder:"Lokasi, Penanggung Jawab, dll"}),e.jsxs("div",{className:"border-t pt-2 mt-2",children:[e.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Foto Dokumentasi"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:ae,className:"text-sm w-full file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),G(k.files,se)]})]}),h==="complaint"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(w,{label:"Nama Pelapor",value:z.namaPelapor,onChange:a=>A({...z,namaPelapor:a.target.value}),required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Isi Pengaduan"}),e.jsx("textarea",{className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500",rows:5,value:z.deskripsi,onChange:a=>A({...z,deskripsi:a.target.value}),required:!0,placeholder:"Jelaskan masalah, lokasi, dan waktu kejadian..."})]}),e.jsxs("div",{className:"border-t pt-2 mt-2",children:[e.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Bukti Foto"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:ae,className:"text-sm w-full file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),G(z.files,se)]}),e.jsxs("div",{className:"bg-yellow-50 p-3 rounded text-sm text-yellow-800",children:["Status awal pengaduan akan diset sebagai ",e.jsx("strong",{children:"Menunggu"}),". Admin RT akan mengubah status saat diproses."]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t sticky bottom-0 bg-slate-50 -mx-6 -mb-6 p-4 sm:p-6 shadow-md z-20",children:[e.jsx("button",{type:"button",onClick:I,className:"px-4 py-3 sm:py-2 text-gray-600 hover:bg-gray-200 rounded-lg w-full sm:w-auto",children:"Batal"}),e.jsx("button",{type:"submit",className:"px-4 py-3 sm:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-sm w-full sm:w-auto",children:"Simpan Data"})]})]})]})}),Ee&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 relative",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-lg font-bold text-green-700 flex items-center gap-2",children:[e.jsx(Se,{size:20})," Selesaikan Pengaduan"]}),e.jsx("button",{onClick:I,className:"text-gray-500 hover:text-red-500",children:e.jsx(ne,{size:20})})]}),e.jsxs("form",{onSubmit:qe,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Catatan / Tanggapan Penyelesaian"}),e.jsx("textarea",{value:S.tanggapan,onChange:a=>U({...S,tanggapan:a.target.value}),placeholder:"Contoh: Masalah telah diperbaiki pada hari Senin...",className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-24 resize-none",required:!0})]}),e.jsxs("div",{className:"border-t pt-2 mt-2",children:[e.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Bukti Foto Penyelesaian"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:Ue,className:"text-sm w-full file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),G(S.files,a=>U(s=>({...s,files:s.files.filter((t,l)=>l!==a)})))]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:I,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-medium",children:"Batal"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 shadow-sm",children:"Simpan Selesai"})]})]})]})})]}):e.jsx("div",{className:"p-10 text-center",children:"Loading Config..."})}function ce({active:n,onClick:m,icon:u,label:g}){return e.jsxs("button",{onClick:m,className:`flex-shrink-0 sm:flex-1 py-3 sm:py-4 px-4 flex flex-col sm:flex-row items-center justify-center gap-1 sm:gap-2 text-xs sm:text-sm font-medium border-b-2 transition ${n?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[u," ",e.jsx("span",{className:"whitespace-nowrap",children:g})]})}function R({icon:n,label:m,value:u,color:g,active:o,onClick:c}){return e.jsxs("div",{onClick:c,className:`p-4 rounded-xl shadow-sm border flex items-center gap-4 cursor-pointer transition-all ${o?"bg-blue-50 border-blue-300 ring-2 ring-blue-200":"bg-white border-gray-100 hover:shadow-md"}`,children:[e.jsx("div",{className:`${g} text-white p-3 rounded-lg shadow-md`,children:$.cloneElement(n,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-xs font-medium uppercase",children:m}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:u})]})]})}function fa({data:n,memberCount:m,onClick:u}){var g;return e.jsxs("div",{onClick:u,className:"bg-white rounded-xl shadow-sm hover:shadow-lg transition border border-gray-100 overflow-hidden flex flex-col cursor-pointer relative group",children:[e.jsxs("div",{className:"absolute top-0 right-0 bg-blue-50 text-blue-600 text-[10px] px-2 py-1 rounded-bl-lg font-mono",children:["KK: ",n.nomorKK]}),n.isPendatang&&e.jsx("div",{className:"absolute top-0 left-0 bg-green-600 text-white text-[10px] px-2 py-1 rounded-br-lg font-bold",children:"PENDATANG"}),e.jsxs("div",{className:"p-4 sm:p-5 flex gap-4 items-center",children:[e.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-full bg-gray-200 flex-shrink-0 overflow-hidden border-2 border-white",children:(g=n.files)!=null&&g[0]?e.jsx("img",{src:n.files[0],className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-xl text-blue-500",children:n.nama[0]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 truncate",children:n.nama}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[e.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:[e.jsx(E,{size:12})," ",m," Anggota"]}),n.alamat&&e.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded truncate max-w-[150px]",children:[e.jsx(ma,{size:12})," ",n.alamat]})]})]}),e.jsx(ua,{className:"text-gray-300 group-hover:text-blue-500"})]}),e.jsxs("div",{className:"px-4 sm:px-5 py-3 border-t border-gray-100 text-xs sm:text-sm flex justify-between items-center text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(me,{size:14,className:"text-gray-400"})," ",n.statusRumah]}),e.jsxs("div",{className:"flex gap-2",children:[n.hasMobil&&e.jsx("span",{className:"flex items-center gap-1 text-orange-600",children:e.jsx(xa,{size:14})}),n.hasMotor&&e.jsx("span",{className:"flex items-center gap-1 text-purple-600",children:e.jsx(ga,{size:14})})]})]})]})}function Te({data:n,onEdit:m,onDelete:u,onMove:g}){var c,f;const o=n.statusHubungan==="Kepala Keluarga";return e.jsxs("div",{className:`rounded-xl shadow-sm hover:shadow-md transition border overflow-hidden flex flex-col relative ${n.isMoved?"bg-red-50 border-red-200":"bg-white border-gray-100"}`,children:[e.jsxs("div",{className:"absolute top-0 right-0 flex flex-col items-end z-10",children:[n.isMoved&&e.jsx("span",{className:"bg-red-600 text-white text-[9px] px-2 py-0.5 rounded-bl-lg font-bold",children:"PINDAH"}),n.isPendatang&&!n.isMoved&&e.jsx("span",{className:"bg-green-500 text-white text-[9px] px-2 py-0.5 rounded-bl-lg font-bold",children:"PENDATANG"})]}),e.jsxs("div",{className:"p-4 sm:p-5 flex gap-3 sm:gap-4 items-start",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-gray-200 flex-shrink-0 overflow-hidden border-2 border-white",children:(c=n.files)!=null&&c[0]?e.jsx("img",{src:n.files[0],className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-xl text-blue-500",children:n.nama[0]})}),e.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[e.jsx("h3",{className:"text-sm sm:text-base font-bold text-gray-900 truncate",children:n.nama}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-1",children:[e.jsx("span",{className:"text-[10px] sm:text-xs font-semibold uppercase px-2 py-0.5 rounded bg-blue-50 text-blue-600",children:n.statusHubungan}),e.jsx("span",{className:"text-[10px] sm:text-xs bg-gray-100 px-2 py-0.5 rounded",children:n.jenisKelamin==="Perempuan"?"P":"L"})]}),e.jsxs("p",{className:"text-[10px] sm:text-xs text-gray-400",children:["NIK: ",n.nik]})]})]}),e.jsxs("div",{className:"px-4 sm:px-5 py-3 border-t border-b border-gray-100 text-xs space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"TTL"}),e.jsxs("span",{className:"font-medium text-right",children:[n.tempatLahir,", ",n.tanggalLahir]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Gol. Darah"}),e.jsx("span",{className:"font-medium",children:n.golDarah})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Pendidikan"}),e.jsx("span",{className:"font-medium text-right",children:n.pendidikan})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Agama"}),e.jsx("span",{className:"font-medium",children:n.agama})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Status"}),e.jsx("span",{className:"font-medium",children:n.statusPerkawinan})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Pekerjaan"}),e.jsx("span",{className:"font-medium text-right",children:n.pekerjaan})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"BPJS"}),e.jsx("span",{className:n.jenisBpjs==="Tidak Memiliki"?"text-red-500":"text-green-600",children:n.jenisBpjs})]}),n.catatan&&e.jsxs("div",{className:"bg-yellow-50 p-2 rounded text-yellow-800 text-[10px] sm:text-xs mt-1 border border-yellow-100",children:[e.jsxs("span",{className:"font-bold flex items-center gap-1 mb-0.5",children:[e.jsx(da,{size:10})," Catatan:"]}),n.catatan]}),o&&!n.isMoved&&e.jsxs("div",{className:"flex justify-between border-t pt-2 mt-2",children:[e.jsx("span",{className:"text-gray-500",children:"Status Rumah"}),e.jsx("span",{className:"font-medium",children:n.statusRumah})]}),n.isMoved&&e.jsxs("div",{className:"bg-red-100 p-2 rounded text-red-700 mt-2",children:[e.jsxs("span",{className:"font-bold flex items-center gap-1",children:[e.jsx(ue,{size:10})," Pindah ke:"]})," ",n.alamatPindah," (",n.tanggalPindah,")"]}),((f=n.files)==null?void 0:f.length)>0&&e.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100",children:[e.jsxs("p",{className:"text-gray-500 mb-1 flex items-center gap-1",children:[e.jsx(Fe,{size:12})," Lampiran"]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto",children:n.files.map((b,v)=>e.jsx("div",{className:"w-8 h-8 rounded border overflow-hidden cursor-pointer flex-shrink-0",onClick:()=>window.open(b),children:e.jsx("img",{src:b,className:"w-full h-full object-cover"})},v))})]})]}),e.jsxs("div",{className:"p-3 mt-auto flex justify-between gap-2 bg-white",children:[!n.isMoved&&e.jsxs("button",{onClick:g,className:"text-red-600 hover:bg-red-50 text-xs px-2 py-1 rounded flex items-center gap-1",children:[e.jsx(ue,{size:14})," Pindah"]}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx("button",{onClick:m,className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded",children:e.jsx(xe,{size:16})}),e.jsx("button",{onClick:u,className:"p-1.5 text-red-600 hover:bg-red-50 rounded",children:e.jsx(ge,{size:16})})]})]})]})}function w({label:n,name:m,type:u="text",value:g,onChange:o,placeholder:c,required:f,disabled:b,className:v}){const N=$.useMemo(()=>`input-${m}-${Math.random().toString(36).substr(2,9)}`,[m]),y=C=>{if(u==="date"&&C.target.showPicker)try{C.target.showPicker()}catch{}};return e.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[e.jsxs("label",{htmlFor:N,className:"text-sm font-medium text-gray-700 mb-1 block",children:[n," ",f&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:N,type:u,name:m,value:g,onChange:o,onClick:u==="date"?C=>y(C):void 0,placeholder:c,required:f,disabled:b,className:`px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition w-full min-h-[42px] ${v}`})]})}function K({label:n,name:m,value:u,onChange:g,options:o,required:c}){const f=$.useMemo(()=>`select-${m}-${Math.random().toString(36).substr(2,9)}`,[m]);return e.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[e.jsxs("label",{htmlFor:f,className:"text-sm font-medium text-gray-700 mb-1 block",children:[n," ",c&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{id:f,name:m,value:u,onChange:g,required:c,className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white w-full min-h-[42px]",children:o.map(b=>e.jsx("option",{value:b,children:b},b))})]})}class ba extends $.Component{constructor(m){super(m),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(m){return{hasError:!0,error:m}}componentDidCatch(m,u){console.error("Uncaught error:",m,u),this.setState({errorInfo:u})}render(){return this.state.hasError?e.jsxs("div",{style:{padding:"20px",color:"#721c24",backgroundColor:"#f8d7da",fontFamily:"sans-serif",height:"100vh",boxSizing:"border-box"},children:[e.jsx("h2",{style:{borderBottom:"1px solid #f5c6cb",paddingBottom:"10px"},children:"Oops, terjadi kesalahan fatal."}),e.jsx("p",{children:"Aplikasi mengalami crash. Mohon screenshot pesan di bawah ini dan kirimkan ke pengembang:"}),e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx("strong",{children:"Error:"}),e.jsx("pre",{style:{background:"#fff",padding:"15px",borderRadius:"5px",overflowX:"auto",border:"1px solid #f5c6cb"},children:this.state.error&&this.state.error.toString()})]}),e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx("strong",{children:"Stack Trace:"}),e.jsxs("details",{style:{whiteSpace:"pre-wrap",cursor:"pointer"},children:[e.jsx("summary",{children:"Klik untuk melihat detail"}),e.jsx("pre",{style:{background:"#fff",padding:"15px",borderRadius:"5px",overflowX:"auto",fontSize:"12px",marginTop:"5px",border:"1px solid #ccc"},children:this.state.errorInfo&&this.state.errorInfo.componentStack})]})]}),e.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"10px 20px",cursor:"pointer",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"5px",fontSize:"16px"},children:"Muat Ulang Halaman"})]}):this.props.children}}const De=document.getElementById("root");De?pa(De).render(e.jsx($.StrictMode,{children:e.jsx(ba,{children:e.jsx(ha,{})})})):console.error("Gagal menemukan elemen ID 'root' di index.html");
