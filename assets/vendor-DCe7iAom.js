function X1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var vd={exports:{}},cl={};var y_;function Z1(){if(y_)return cl;y_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var p in l)p!=="key"&&(h[p]=l[p])}else h=l;return l=h.ref,{$$typeof:a,type:r,key:d,ref:l!==void 0?l:null,props:h}}return cl.Fragment=t,cl.jsx=i,cl.jsxs=i,cl}var __;function $1(){return __||(__=1,vd.exports=Z1()),vd.exports}var VI=$1(),Ed={exports:{}},yt={};var v_;function J1(){if(v_)return yt;v_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),V=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,Z={};function ht(O,K,tt){this.props=O,this.context=K,this.refs=Z,this.updater=tt||J}ht.prototype.isReactComponent={},ht.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ht.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function vt(){}vt.prototype=ht.prototype;function dt(O,K,tt){this.props=O,this.context=K,this.refs=Z,this.updater=tt||J}var Ft=dt.prototype=new vt;Ft.constructor=dt,et(Ft,ht.prototype),Ft.isPureReactComponent=!0;var $t=Array.isArray;function Ut(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(O,K,tt){var it=tt.ref;return{$$typeof:a,type:O,key:K,ref:it!==void 0?it:null,props:tt}}function M(O,K){return C(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function k(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(tt){return K[tt]})}var R=/\/+/g;function ie(O,K){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):K.toString(36)}function we(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ut,Ut):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function j(O,K,tt,it,gt){var At=typeof O;(At==="undefined"||At==="boolean")&&(O=null);var Mt=!1;if(O===null)Mt=!0;else switch(At){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(O.$$typeof){case a:case t:Mt=!0;break;case A:return Mt=O._init,j(Mt(O._payload),K,tt,it,gt)}}if(Mt)return gt=gt(O),Mt=it===""?"."+ie(O,0):it,$t(gt)?(tt="",Mt!=null&&(tt=Mt.replace(R,"$&/")+"/"),j(gt,K,tt,"",function(er){return er})):gt!=null&&(N(gt)&&(gt=M(gt,tt+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(R,"$&/")+"/")+Mt)),K.push(gt)),1;Mt=0;var Ce=it===""?".":it+":";if($t(O))for(var se=0;se<O.length;se++)it=O[se],At=Ce+ie(it,se),Mt+=j(it,K,tt,At,gt);else if(se=F(O),typeof se=="function")for(O=se.call(O),se=0;!(it=O.next()).done;)it=it.value,At=Ce+ie(it,se++),Mt+=j(it,K,tt,At,gt);else if(At==="object"){if(typeof O.then=="function")return j(we(O),K,tt,it,gt);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function W(O,K,tt){if(O==null)return O;var it=[],gt=0;return j(O,it,"","",function(At){return K.call(tt,At,gt++)}),it}function lt(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(tt){(O._status===0||O._status===-1)&&(O._status=1,O._result=tt)},function(tt){(O._status===0||O._status===-1)&&(O._status=2,O._result=tt)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var kt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},qt={map:W,forEach:function(O,K,tt){W(O,function(){K.apply(this,arguments)},tt)},count:function(O){var K=0;return W(O,function(){K++}),K},toArray:function(O){return W(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return yt.Activity=b,yt.Children=qt,yt.Component=ht,yt.Fragment=i,yt.Profiler=l,yt.PureComponent=dt,yt.StrictMode=r,yt.Suspense=v,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,yt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},yt.cache=function(O){return function(){return O.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(O,K,tt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var it=et({},O.props),gt=O.key;if(K!=null)for(At in K.key!==void 0&&(gt=""+K.key),K)!S.call(K,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&K.ref===void 0||(it[At]=K[At]);var At=arguments.length-2;if(At===1)it.children=tt;else if(1<At){for(var Mt=Array(At),Ce=0;Ce<At;Ce++)Mt[Ce]=arguments[Ce+2];it.children=Mt}return C(O.type,gt,it)},yt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},yt.createElement=function(O,K,tt){var it,gt={},At=null;if(K!=null)for(it in K.key!==void 0&&(At=""+K.key),K)S.call(K,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(gt[it]=K[it]);var Mt=arguments.length-2;if(Mt===1)gt.children=tt;else if(1<Mt){for(var Ce=Array(Mt),se=0;se<Mt;se++)Ce[se]=arguments[se+2];gt.children=Ce}if(O&&O.defaultProps)for(it in Mt=O.defaultProps,Mt)gt[it]===void 0&&(gt[it]=Mt[it]);return C(O,At,gt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(O){return{$$typeof:p,render:O}},yt.isValidElement=N,yt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:lt}},yt.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},yt.startTransition=function(O){var K=I.T,tt={};I.T=tt;try{var it=O(),gt=I.S;gt!==null&&gt(tt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Ut,kt)}catch(At){kt(At)}finally{K!==null&&tt.types!==null&&(K.types=tt.types),I.T=K}},yt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},yt.use=function(O){return I.H.use(O)},yt.useActionState=function(O,K,tt){return I.H.useActionState(O,K,tt)},yt.useCallback=function(O,K){return I.H.useCallback(O,K)},yt.useContext=function(O){return I.H.useContext(O)},yt.useDebugValue=function(){},yt.useDeferredValue=function(O,K){return I.H.useDeferredValue(O,K)},yt.useEffect=function(O,K){return I.H.useEffect(O,K)},yt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},yt.useId=function(){return I.H.useId()},yt.useImperativeHandle=function(O,K,tt){return I.H.useImperativeHandle(O,K,tt)},yt.useInsertionEffect=function(O,K){return I.H.useInsertionEffect(O,K)},yt.useLayoutEffect=function(O,K){return I.H.useLayoutEffect(O,K)},yt.useMemo=function(O,K){return I.H.useMemo(O,K)},yt.useOptimistic=function(O,K){return I.H.useOptimistic(O,K)},yt.useReducer=function(O,K,tt){return I.H.useReducer(O,K,tt)},yt.useRef=function(O){return I.H.useRef(O)},yt.useState=function(O){return I.H.useState(O)},yt.useSyncExternalStore=function(O,K,tt){return I.H.useSyncExternalStore(O,K,tt)},yt.useTransition=function(){return I.H.useTransition()},yt.version="19.2.3",yt}var E_;function lm(){return E_||(E_=1,Ed.exports=J1()),Ed.exports}var Pa=lm();const UI=X1(Pa);var Td={exports:{}},hl={},Ad={exports:{}},Sd={};var T_;function W1(){return T_||(T_=1,(function(a){function t(j,W){var lt=j.length;j.push(W);t:for(;0<lt;){var kt=lt-1>>>1,qt=j[kt];if(0<l(qt,W))j[kt]=W,j[lt]=qt,lt=kt;else break t}}function i(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var W=j[0],lt=j.pop();if(lt!==W){j[0]=lt;t:for(var kt=0,qt=j.length,O=qt>>>1;kt<O;){var K=2*(kt+1)-1,tt=j[K],it=K+1,gt=j[it];if(0>l(tt,lt))it<qt&&0>l(gt,tt)?(j[kt]=gt,j[it]=lt,kt=it):(j[kt]=tt,j[K]=lt,kt=K);else if(it<qt&&0>l(gt,lt))j[kt]=gt,j[it]=lt,kt=it;else break t}}return W}function l(j,W){var lt=j.sortIndex-W.sortIndex;return lt!==0?lt:j.id-W.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,b=null,V=3,F=!1,J=!1,et=!1,Z=!1,ht=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Ft(j){for(var W=i(_);W!==null;){if(W.callback===null)r(_);else if(W.startTime<=j)r(_),W.sortIndex=W.expirationTime,t(v,W);else break;W=i(_)}}function $t(j){if(et=!1,Ft(j),!J)if(i(v)!==null)J=!0,Ut||(Ut=!0,k());else{var W=i(_);W!==null&&we($t,W.startTime-j)}}var Ut=!1,I=-1,S=5,C=-1;function M(){return Z?!0:!(a.unstable_now()-C<S)}function N(){if(Z=!1,Ut){var j=a.unstable_now();C=j;var W=!0;try{t:{J=!1,et&&(et=!1,vt(I),I=-1),F=!0;var lt=V;try{e:{for(Ft(j),b=i(v);b!==null&&!(b.expirationTime>j&&M());){var kt=b.callback;if(typeof kt=="function"){b.callback=null,V=b.priorityLevel;var qt=kt(b.expirationTime<=j);if(j=a.unstable_now(),typeof qt=="function"){b.callback=qt,Ft(j),W=!0;break e}b===i(v)&&r(v),Ft(j)}else r(v);b=i(v)}if(b!==null)W=!0;else{var O=i(_);O!==null&&we($t,O.startTime-j),W=!1}}break t}finally{b=null,V=lt,F=!1}W=void 0}}finally{W?k():Ut=!1}}}var k;if(typeof dt=="function")k=function(){dt(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ie=R.port2;R.port1.onmessage=N,k=function(){ie.postMessage(null)}}else k=function(){ht(N,0)};function we(j,W){I=ht(function(){j(a.unstable_now())},W)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(j){j.callback=null},a.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},a.unstable_getCurrentPriorityLevel=function(){return V},a.unstable_next=function(j){switch(V){case 1:case 2:case 3:var W=3;break;default:W=V}var lt=V;V=W;try{return j()}finally{V=lt}},a.unstable_requestPaint=function(){Z=!0},a.unstable_runWithPriority=function(j,W){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var lt=V;V=j;try{return W()}finally{V=lt}},a.unstable_scheduleCallback=function(j,W,lt){var kt=a.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?kt+lt:kt):lt=kt,j){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=lt+qt,j={id:A++,callback:W,priorityLevel:j,startTime:lt,expirationTime:qt,sortIndex:-1},lt>kt?(j.sortIndex=lt,t(_,j),i(v)===null&&j===i(_)&&(et?(vt(I),I=-1):et=!0,we($t,lt-kt))):(j.sortIndex=qt,t(v,j),J||F||(J=!0,Ut||(Ut=!0,k()))),j},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(j){var W=V;return function(){var lt=V;V=W;try{return j.apply(this,arguments)}finally{V=lt}}}})(Sd)),Sd}var A_;function tA(){return A_||(A_=1,Ad.exports=W1()),Ad.exports}var bd={exports:{}},Qe={};var S_;function eA(){if(S_)return Qe;S_=1;var a=lm();function t(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:v,containerInfo:_,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return h(v,_,null,A)},Qe.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:V,fetchPriority:F}):A==="script"&&r.d.X(v,{crossOrigin:b,integrity:V,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},Qe.requestFormReset=function(v){r.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.3",Qe}var b_;function nA(){if(b_)return bd.exports;b_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),bd.exports=eA(),bd.exports}var R_;function iA(){if(R_)return hl;R_=1;var a=tA(),t=lm(),i=nA();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,o=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return v(c),e;if(f===o)return v(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==o.return)s=c,o=f;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,o=f;break}if(E===o){g=!0,o=c,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=c;break}if(E===o){g=!0,o=f,s=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,V=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Ft=Symbol.for("react.forward_ref"),$t=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ht:return"Profiler";case Z:return"StrictMode";case $t:return"Suspense";case Ut:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case dt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case Ft:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var we=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},kt=[],qt=-1;function O(e){return{current:e}}function K(e){0>qt||(e.current=kt[qt],kt[qt]=null,qt--)}function tt(e,n){qt++,kt[qt]=e.current,e.current=n}var it=O(null),gt=O(null),At=O(null),Mt=O(null);function Ce(e,n){switch(tt(At,n),tt(gt,e),tt(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?By(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=By(n),e=qy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(it),tt(it,e)}function se(){K(it),K(gt),K(At)}function er(e){e.memoizedState!==null&&tt(Mt,e);var n=it.current,s=qy(n,e.type);n!==s&&(tt(gt,e),tt(it,s))}function jr(e){gt.current===e&&(K(it),K(gt)),Mt.current===e&&(K(Mt),al._currentValue=lt)}var Gr,Fr;function Zn(e){if(Gr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Gr=n&&n[1]||"",Fr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gr+e+Fr}var ro=!1;function nr(e,n){if(!e||ro)return"";ro=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var z=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){z=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){z=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var w=g.split(`
`),P=E.split(`
`);for(c=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(o===w.length||c===P.length)for(o=w.length-1,c=P.length-1;1<=o&&0<=c&&w[o]!==P[c];)c--;for(;1<=o&&0<=c;o--,c--)if(w[o]!==P[c]){if(o!==1||c!==1)do if(o--,c--,0>c||w[o]!==P[c]){var H=`
`+w[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=c);break}}}finally{ro=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Zn(s):""}function ao(e,n){switch(e.tag){case 26:case 27:case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return e.child!==n&&n!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return nr(e.type,!1);case 11:return nr(e.type.render,!1);case 1:return nr(e.type,!0);case 31:return Zn("Activity");default:return""}}function oo(e){try{var n="",s=null;do n+=ao(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,Ie=a.unstable_scheduleCallback,ts=a.unstable_cancelCallback,Eh=a.unstable_shouldYield,ql=a.unstable_requestPaint,Je=a.unstable_now,ir=a.unstable_getCurrentPriorityLevel,lo=a.unstable_ImmediatePriority,uo=a.unstable_UserBlockingPriority,es=a.unstable_NormalPriority,Th=a.unstable_LowPriority,Hl=a.unstable_IdlePriority,jl=a.log,Gl=a.unstable_setDisableYieldValue,kn=null,xe=null;function Tn(e){if(typeof jl=="function"&&Gl(e),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(kn,e)}catch{}}var ce=Math.clz32?Math.clz32:Ql,Fl=Math.log,Qr=Math.LN2;function Ql(e){return e>>>=0,e===0?32:31-(Fl(e)/Qr|0)|0}var $n=256,sr=262144,pe=4194304;function Jn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Wn(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=Jn(o):(g&=E,g!==0?c=Jn(g):s||(s=E&~e,s!==0&&(c=Jn(s))))):(E=o&~f,E!==0?c=Jn(E):g!==0?c=Jn(g):s||(s=o&~e,s!==0&&(c=Jn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ah(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kl(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function ti(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function rr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sh(e,n,s,o,c,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var H=31-ce(s),Q=1<<H;E[H]=0,w[H]=-1;var z=P[H];if(z!==null)for(P[H]=null,H=0;H<z.length;H++){var q=z[H];q!==null&&(q.lane&=-536870913)}s&=~Q}o!==0&&ar(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ar(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function co(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ce(s),c=1<<o;c&n|e[o]&n&&(e[o]|=n),s&=~c}}function ho(e,n){var s=n&-n;return s=(s&42)!==0?1:or(s),(s&(e.suspendedLanes|n))!==0?0:s}function or(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ci(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yl(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:c_(e.type))}function xn(e,n){var s=W.p;try{return W.p=e,n()}finally{W.p=s}}var Pn=Math.random().toString(36).slice(2),ye="__reactFiber$"+Pn,Ve="__reactProps$"+Pn,ei="__reactContainer$"+Pn,Kr="__reactEvents$"+Pn,bh="__reactListeners$"+Pn,Xl="__reactHandles$"+Pn,Zl="__reactResources$"+Pn,ni="__reactMarker$"+Pn;function Yr(e){delete e[ye],delete e[Ve],delete e[Kr],delete e[bh],delete e[Xl]}function ii(e){var n=e[ye];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ei]||s[ye]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Yy(e);e!==null;){if(s=e[ye])return s;e=Yy(e)}return n}e=s,s=e.parentNode}return null}function An(e){if(e=e[ye]||e[ei]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function hn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function si(e){var n=e[Zl];return n||(n=e[Zl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[ni]=!0}var fo=new Set,mo={};function ri(e,n){ai(e,n),ai(e+"Capture",n)}function ai(e,n){for(mo[e]=n,e=0;e<n.length;e++)fo.add(n[e])}var go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),po={},yo={};function $l(e){return ge.call(yo,e)?!0:ge.call(po,e)?!1:go.test(e)?yo[e]=!0:(po[e]=!0,!1)}function Xr(e,n,s){if($l(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function fn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function ve(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ns(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _o(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ht(e){if(!e._valueTracker){var n=ns(e)?"checked":"value";e._valueTracker=_o(e,n,""+e[n])}}function lr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ns(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ur=/[\n"\\]/g;function en(e){return e.replace(ur,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Zr(e,n,s,o,c,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?vo(e,g,Ue(n)):s!=null?vo(e,g,Ue(s)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function Jl(e,n,s,o,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ht(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ht(e)}function vo(e,n,s){n==="number"&&oi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function is(e,n,s,o){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Wl(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function ss(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(we(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Ht(e)}function nn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||tu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function To(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&s[c]!==o&&Eo(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&Eo(e,f,n[f])}function $r(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jr(e){return rs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var Ao=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var as=null,li=null;function cr(e){var n=An(e);if(n&&(e=n.stateNode)){var s=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(Zr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var c=o[Ve]||null;if(!c)throw Error(r(90));Zr(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&lr(o)}break t;case"textarea":Wl(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&is(e,!!s.multiple,n,!1)}}}var Wr=!1;function os(e,n,s){if(Wr)return e(n,s);Wr=!0;try{var o=e(n);return o}finally{if(Wr=!1,(as!==null||li!==null)&&(Yu(),as&&(n=as,e=li,li=as=null,cr(n),e)))for(n=0;n<e.length;n++)cr(e[n])}}function Bn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ve]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hr=!1;if(bn)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){hr=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{hr=!1}var ui=null,So=null,fr=null;function bo(){if(fr)return fr;var e,n=So,s=n.length,o,c="value"in ui?ui.value:ui.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===c[f-o];o++);return fr=c.slice(e,1<o?1-o:void 0)}function dr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ii(){return!0}function qn(){return!1}function Pe(e){function n(s,o,c,f,g){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ii:qn,this.isPropagationStopped=qn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=Pe(Di),ls=b({},Di,{view:0,detail:0}),Ro=Pe(ls),us,ta,hi,ea=b({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(us=e.screenX-hi.screenX,ta=e.screenY-hi.screenY):ta=us=0,hi=e),us)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),wo=Pe(ea),mr=b({},ea,{dataTransfer:0}),nu=Pe(mr),iu=b({},ls,{relatedTarget:0}),gr=Pe(iu),Co=b({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),su=Pe(Co),na=b({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ru=Pe(na),au=b({},Di,{data:0}),fi=Pe(au),ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=uu[e])?!!n[e]:!1}function cs(){return cu}var We=b({},ls,{key:function(e){if(e.key){var n=ou[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(e){return e.type==="keypress"?dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hu=Pe(We),fu=b({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ni=Pe(fu),u=b({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),m=Pe(u),y=b({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Pe(y),L=b({},ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Pe(L),$=b({},Di,{newState:0,oldState:0}),Et=Pe($),he=[9,13,27,32],Pt=bn&&"CompositionEvent"in window,re=null;bn&&"documentMode"in document&&(re=document.documentMode);var Rn=bn&&"TextEvent"in window&&!re,di=bn&&(!Pt||re&&8<re&&11>=re),Hn=" ",jn=!1;function pr(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ia(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sa=!1;function v0(e,n){switch(e){case"compositionend":return ia(n);case"keypress":return n.which!==32?null:(jn=!0,Hn);case"textInput":return e=n.data,e===Hn&&jn?null:e;default:return null}}function E0(e,n){if(sa)return e==="compositionend"||!Pt&&pr(e,n)?(e=bo(),fr=So=ui=null,sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return di&&n.locale!=="ko"?null:n.data;default:return null}}var T0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $m(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!T0[e.type]:n==="textarea"}function Jm(e,n,s,o){as?li?li.push(o):li=[o]:as=o,n=ec(n,"onChange"),0<n.length&&(s=new ci("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Io=null,Do=null;function A0(e){Uy(e,0)}function du(e){var n=hn(e);if(lr(n))return e}function Wm(e,n){if(e==="change")return n}var tg=!1;if(bn){var Rh;if(bn){var wh="oninput"in document;if(!wh){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),wh=typeof eg.oninput=="function"}Rh=wh}else Rh=!1;tg=Rh&&(!document.documentMode||9<document.documentMode)}function ng(){Io&&(Io.detachEvent("onpropertychange",ig),Do=Io=null)}function ig(e){if(e.propertyName==="value"&&du(Do)){var n=[];Jm(n,Do,e,Sn(e)),os(A0,n)}}function S0(e,n,s){e==="focusin"?(ng(),Io=n,Do=s,Io.attachEvent("onpropertychange",ig)):e==="focusout"&&ng()}function b0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return du(Do)}function R0(e,n){if(e==="click")return du(n)}function w0(e,n){if(e==="input"||e==="change")return du(n)}function C0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:C0;function No(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!ge.call(n,c)||!dn(e[c],n[c]))return!1}return!0}function sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rg(e,n){var s=sg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=sg(s)}}function ag(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ag(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function og(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=oi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=oi(e.document)}return n}function Ch(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var I0=bn&&"documentMode"in document&&11>=document.documentMode,ra=null,Ih=null,Oo=null,Dh=!1;function lg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Dh||ra==null||ra!==oi(o)||(o=ra,"selectionStart"in o&&Ch(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Oo&&No(Oo,o)||(Oo=o,o=ec(Ih,"onSelect"),0<o.length&&(n=new ci("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ra)))}function yr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var aa={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionrun:yr("Transition","TransitionRun"),transitionstart:yr("Transition","TransitionStart"),transitioncancel:yr("Transition","TransitionCancel"),transitionend:yr("Transition","TransitionEnd")},Nh={},ug={};bn&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function _r(e){if(Nh[e])return Nh[e];if(!aa[e])return e;var n=aa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in ug)return Nh[e]=n[s];return e}var cg=_r("animationend"),hg=_r("animationiteration"),fg=_r("animationstart"),D0=_r("transitionrun"),N0=_r("transitionstart"),O0=_r("transitioncancel"),dg=_r("transitionend"),mg=new Map,Oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oh.push("scrollEnd");function Gn(e,n){mg.set(e,n),ri(n,[e])}var mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],oa=0,Mh=0;function gu(){for(var e=oa,n=Mh=oa=0;n<e;){var s=wn[n];wn[n++]=null;var o=wn[n];wn[n++]=null;var c=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}f!==0&&gg(s,c,f)}}function pu(e,n,s,o){wn[oa++]=e,wn[oa++]=n,wn[oa++]=s,wn[oa++]=o,Mh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Vh(e,n,s,o){return pu(e,n,s,o),yu(e)}function vr(e,n){return pu(e,null,null,n),yu(e)}function gg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-ce(s),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=s|536870912),f):null}function yu(e){if(50<Wo)throw Wo=0,jf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var la={};function M0(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,s,o){return new M0(e,n,s,o)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oi(e,n){var s=e.alternate;return s===null?(s=mn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function pg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _u(e,n,s,o,c,f){var g=0;if(o=e,typeof e=="function")Uh(e)&&(g=1);else if(typeof e=="string")g=x1(e,s,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=mn(31,s,n,c),e.elementType=C,e.lanes=f,e;case et:return Er(s.children,c,f,n);case Z:g=8,c|=24;break;case ht:return e=mn(12,s,n,c|2),e.elementType=ht,e.lanes=f,e;case $t:return e=mn(13,s,n,c),e.elementType=$t,e.lanes=f,e;case Ut:return e=mn(19,s,n,c),e.elementType=Ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case vt:g=9;break t;case Ft:g=11;break t;case I:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=mn(g,s,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function Er(e,n,s,o){return e=mn(7,e,o,n),e.lanes=s,e}function kh(e,n,s){return e=mn(6,e,null,n),e.lanes=s,e}function yg(e){var n=mn(18,null,null,0);return n.stateNode=e,n}function Lh(e,n,s){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var _g=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var s=_g.get(e);return s!==void 0?s:(n={value:e,source:n,stack:oo(n)},_g.set(e,n),n)}return{value:e,source:n,stack:oo(n)}}var ua=[],ca=0,vu=null,Mo=0,In=[],Dn=0,hs=null,mi=1,gi="";function Mi(e,n){ua[ca++]=Mo,ua[ca++]=vu,vu=e,Mo=n}function vg(e,n,s){In[Dn++]=mi,In[Dn++]=gi,In[Dn++]=hs,hs=e;var o=mi;e=gi;var c=32-ce(o)-1;o&=~(1<<c),s+=1;var f=32-ce(n)+c;if(30<f){var g=c-c%5;f=(o&(1<<g)-1).toString(32),o>>=g,c-=g,mi=1<<32-ce(n)+c|s<<c|o,gi=f+e}else mi=1<<f|s<<c|o,gi=e}function xh(e){e.return!==null&&(Mi(e,1),vg(e,1,0))}function Ph(e){for(;e===vu;)vu=ua[--ca],ua[ca]=null,Mo=ua[--ca],ua[ca]=null;for(;e===hs;)hs=In[--Dn],In[Dn]=null,gi=In[--Dn],In[Dn]=null,mi=In[--Dn],In[Dn]=null}function Eg(e,n){In[Dn++]=mi,In[Dn++]=gi,In[Dn++]=hs,mi=n.id,gi=n.overflow,hs=e}var ze=null,Jt=null,Ot=!1,fs=null,Nn=!1,zh=Error(r(519));function ds(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vo(Cn(n,e)),zh}function Tg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ye]=e,n[Ve]=o,s){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(s=0;s<el.length;s++)Rt(el[s],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),Jl(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),ss(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Py(n.textContent,s)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||ds(e,!0)}function Ag(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:ze=ze.return}}function ha(e){if(e!==ze)return!1;if(!Ot)return Ag(e),Ot=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||sd(e.type,e.memoizedProps)),s=!s),s&&Jt&&ds(e),Ag(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Jt=Ky(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Jt=Ky(e)}else n===27?(n=Jt,Cs(e.type)?(e=ud,ud=null,Jt=e):Jt=n):Jt=ze?Mn(e.stateNode.nextSibling):null;return!0}function Tr(){Jt=ze=null,Ot=!1}function Bh(){var e=fs;return e!==null&&(on===null?on=e:on.push.apply(on,e),fs=null),e}function Vo(e){fs===null?fs=[e]:fs.push(e)}var qh=O(null),Ar=null,Vi=null;function ms(e,n,s){tt(qh,n._currentValue),n._currentValue=s}function Ui(e){e._currentValue=qh.current,K(qh)}function Hh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function jh(e,n,s,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Hh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Hh(g,s,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function fa(e,n,s,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;dn(c.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(c===Mt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}c=c.return}e!==null&&jh(n,e,s,o),n.flags|=262144}function Eu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sr(e){Ar=e,Vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Sg(Ar,e)}function Tu(e,n){return Ar===null&&Sr(e),Sg(e,n)}function Sg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Vi===null){if(e===null)throw Error(r(308));Vi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Vi=Vi.next=n;return s}var V0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},U0=a.unstable_scheduleCallback,k0=a.unstable_NormalPriority,Ee={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gh(){return{controller:new V0,data:new Map,refCount:0}}function Uo(e){e.refCount--,e.refCount===0&&U0(k0,function(){e.controller.abort()})}var ko=null,Fh=0,da=0,ma=null;function L0(e,n){if(ko===null){var s=ko=[];Fh=0,da=Xf(),ma={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Fh++,n.then(bg,bg),n}function bg(){if(--Fh===0&&ko!==null){ma!==null&&(ma.status="fulfilled");var e=ko;ko=null,da=0,ma=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function x0(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),o}var Rg=j.S;j.S=function(e,n){ly=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&L0(e,n),Rg!==null&&Rg(e,n)};var br=O(null);function Qh(){var e=br.current;return e!==null?e:Zt.pooledCache}function Au(e,n){n===null?tt(br,br.current):tt(br,n.pool)}function wg(){var e=Qh();return e===null?null:{parent:Ee._currentValue,pool:e}}var ga=Error(r(460)),Kh=Error(r(474)),Su=Error(r(542)),bu={then:function(){}};function Cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ig(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(zn,zn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ng(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ng(e),e}throw wr=n,ga}}function Rr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(wr=s,ga):s}}var wr=null;function Dg(){if(wr===null)throw Error(r(459));var e=wr;return wr=null,e}function Ng(e){if(e===ga||e===Su)throw Error(r(483))}var pa=null,Lo=0;function Ru(e){var n=Lo;return Lo+=1,pa===null&&(pa=[]),Ig(pa,e,n)}function xo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function wu(e,n){throw n.$$typeof===V?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Og(e){function n(U,D){if(e){var x=U.deletions;x===null?(U.deletions=[D],U.flags|=16):x.push(D)}}function s(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function c(U,D){return U=Oi(U,D),U.index=0,U.sibling=null,U}function f(U,D,x){return U.index=x,e?(x=U.alternate,x!==null?(x=x.index,x<D?(U.flags|=67108866,D):x):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,x,G){return D===null||D.tag!==6?(D=kh(x,U.mode,G),D.return=U,D):(D=c(D,x),D.return=U,D)}function w(U,D,x,G){var ot=x.type;return ot===et?H(U,D,x.props.children,G,x.key):D!==null&&(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Rr(ot)===D.type)?(D=c(D,x.props),xo(D,x),D.return=U,D):(D=_u(x.type,x.key,x.props,null,U.mode,G),xo(D,x),D.return=U,D)}function P(U,D,x,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==x.containerInfo||D.stateNode.implementation!==x.implementation?(D=Lh(x,U.mode,G),D.return=U,D):(D=c(D,x.children||[]),D.return=U,D)}function H(U,D,x,G,ot){return D===null||D.tag!==7?(D=Er(x,U.mode,G,ot),D.return=U,D):(D=c(D,x),D.return=U,D)}function Q(U,D,x){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=kh(""+D,U.mode,x),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return x=_u(D.type,D.key,D.props,null,U.mode,x),xo(x,D),x.return=U,x;case J:return D=Lh(D,U.mode,x),D.return=U,D;case S:return D=Rr(D),Q(U,D,x)}if(we(D)||k(D))return D=Er(D,U.mode,x,null),D.return=U,D;if(typeof D.then=="function")return Q(U,Ru(D),x);if(D.$$typeof===dt)return Q(U,Tu(U,D),x);wu(U,D)}return null}function z(U,D,x,G){var ot=D!==null?D.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return ot!==null?null:E(U,D,""+x,G);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case F:return x.key===ot?w(U,D,x,G):null;case J:return x.key===ot?P(U,D,x,G):null;case S:return x=Rr(x),z(U,D,x,G)}if(we(x)||k(x))return ot!==null?null:H(U,D,x,G,null);if(typeof x.then=="function")return z(U,D,Ru(x),G);if(x.$$typeof===dt)return z(U,D,Tu(U,x),G);wu(U,x)}return null}function q(U,D,x,G,ot){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(x)||null,E(D,U,""+G,ot);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case F:return U=U.get(G.key===null?x:G.key)||null,w(D,U,G,ot);case J:return U=U.get(G.key===null?x:G.key)||null,P(D,U,G,ot);case S:return G=Rr(G),q(U,D,x,G,ot)}if(we(G)||k(G))return U=U.get(x)||null,H(D,U,G,ot,null);if(typeof G.then=="function")return q(U,D,x,Ru(G),ot);if(G.$$typeof===dt)return q(U,D,x,Tu(D,G),ot);wu(D,G)}return null}function st(U,D,x,G){for(var ot=null,Lt=null,rt=D,St=D=0,Ct=null;rt!==null&&St<x.length;St++){rt.index>St?(Ct=rt,rt=null):Ct=rt.sibling;var xt=z(U,rt,x[St],G);if(xt===null){rt===null&&(rt=Ct);break}e&&rt&&xt.alternate===null&&n(U,rt),D=f(xt,D,St),Lt===null?ot=xt:Lt.sibling=xt,Lt=xt,rt=Ct}if(St===x.length)return s(U,rt),Ot&&Mi(U,St),ot;if(rt===null){for(;St<x.length;St++)rt=Q(U,x[St],G),rt!==null&&(D=f(rt,D,St),Lt===null?ot=rt:Lt.sibling=rt,Lt=rt);return Ot&&Mi(U,St),ot}for(rt=o(rt);St<x.length;St++)Ct=q(rt,U,St,x[St],G),Ct!==null&&(e&&Ct.alternate!==null&&rt.delete(Ct.key===null?St:Ct.key),D=f(Ct,D,St),Lt===null?ot=Ct:Lt.sibling=Ct,Lt=Ct);return e&&rt.forEach(function(Ms){return n(U,Ms)}),Ot&&Mi(U,St),ot}function ct(U,D,x,G){if(x==null)throw Error(r(151));for(var ot=null,Lt=null,rt=D,St=D=0,Ct=null,xt=x.next();rt!==null&&!xt.done;St++,xt=x.next()){rt.index>St?(Ct=rt,rt=null):Ct=rt.sibling;var Ms=z(U,rt,xt.value,G);if(Ms===null){rt===null&&(rt=Ct);break}e&&rt&&Ms.alternate===null&&n(U,rt),D=f(Ms,D,St),Lt===null?ot=Ms:Lt.sibling=Ms,Lt=Ms,rt=Ct}if(xt.done)return s(U,rt),Ot&&Mi(U,St),ot;if(rt===null){for(;!xt.done;St++,xt=x.next())xt=Q(U,xt.value,G),xt!==null&&(D=f(xt,D,St),Lt===null?ot=xt:Lt.sibling=xt,Lt=xt);return Ot&&Mi(U,St),ot}for(rt=o(rt);!xt.done;St++,xt=x.next())xt=q(rt,U,St,xt.value,G),xt!==null&&(e&&xt.alternate!==null&&rt.delete(xt.key===null?St:xt.key),D=f(xt,D,St),Lt===null?ot=xt:Lt.sibling=xt,Lt=xt);return e&&rt.forEach(function(Y1){return n(U,Y1)}),Ot&&Mi(U,St),ot}function Xt(U,D,x,G){if(typeof x=="object"&&x!==null&&x.type===et&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case F:t:{for(var ot=x.key;D!==null;){if(D.key===ot){if(ot=x.type,ot===et){if(D.tag===7){s(U,D.sibling),G=c(D,x.props.children),G.return=U,U=G;break t}}else if(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Rr(ot)===D.type){s(U,D.sibling),G=c(D,x.props),xo(G,x),G.return=U,U=G;break t}s(U,D);break}else n(U,D);D=D.sibling}x.type===et?(G=Er(x.props.children,U.mode,G,x.key),G.return=U,U=G):(G=_u(x.type,x.key,x.props,null,U.mode,G),xo(G,x),G.return=U,U=G)}return g(U);case J:t:{for(ot=x.key;D!==null;){if(D.key===ot)if(D.tag===4&&D.stateNode.containerInfo===x.containerInfo&&D.stateNode.implementation===x.implementation){s(U,D.sibling),G=c(D,x.children||[]),G.return=U,U=G;break t}else{s(U,D);break}else n(U,D);D=D.sibling}G=Lh(x,U.mode,G),G.return=U,U=G}return g(U);case S:return x=Rr(x),Xt(U,D,x,G)}if(we(x))return st(U,D,x,G);if(k(x)){if(ot=k(x),typeof ot!="function")throw Error(r(150));return x=ot.call(x),ct(U,D,x,G)}if(typeof x.then=="function")return Xt(U,D,Ru(x),G);if(x.$$typeof===dt)return Xt(U,D,Tu(U,x),G);wu(U,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,D!==null&&D.tag===6?(s(U,D.sibling),G=c(D,x),G.return=U,U=G):(s(U,D),G=kh(x,U.mode,G),G.return=U,U=G),g(U)):s(U,D)}return function(U,D,x,G){try{Lo=0;var ot=Xt(U,D,x,G);return pa=null,ot}catch(rt){if(rt===ga||rt===Su)throw rt;var Lt=mn(29,rt,null,U.mode);return Lt.lanes=G,Lt.return=U,Lt}}}var Cr=Og(!0),Mg=Og(!1),gs=!1;function Yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ps(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ys(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(zt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=yu(e),gg(e,null,s),n}return pu(e,o,n,s),yu(e)}function Po(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,co(e,s)}}function Zh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var $h=!1;function zo(){if($h){var e=ma;if(e!==null)throw e}}function Bo(e,n,s,o){$h=!1;var c=e.updateQueue;gs=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,P=w.next;w.next=null,g===null?f=P:g.next=P,g=w;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=w))}if(f!==null){var Q=c.baseState;g=0,H=P=w=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(wt&z)===z:(o&z)===z){z!==0&&z===da&&($h=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,ct=E;z=n;var Xt=s;switch(ct.tag){case 1:if(st=ct.payload,typeof st=="function"){Q=st.call(Xt,Q,z);break t}Q=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ct.payload,z=typeof st=="function"?st.call(Xt,Q,z):st,z==null)break t;Q=b({},Q,z);break t;case 2:gs=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=c.callbacks,q===null?c.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=q,w=Q):H=H.next=q,g|=z;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(w=Q),c.baseState=w,c.firstBaseUpdate=P,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),As|=g,e.lanes=g,e.memoizedState=Q}}function Vg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Ug(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Vg(s[e],n)}var ya=O(null),Cu=O(0);function kg(e,n){e=ji,tt(Cu,e),tt(ya,n),ji=e|n.baseLanes}function Jh(){tt(Cu,ji),tt(ya,ya.current)}function Wh(){ji=Cu.current,K(ya),K(Cu)}var gn=O(null),On=null;function _s(e){var n=e.alternate;tt(fe,fe.current&1),tt(gn,e),On===null&&(n===null||ya.current!==null||n.memoizedState!==null)&&(On=e)}function tf(e){tt(fe,fe.current),tt(gn,e),On===null&&(On=e)}function Lg(e){e.tag===22?(tt(fe,fe.current),tt(gn,e),On===null&&(On=e)):vs()}function vs(){tt(fe,fe.current),tt(gn,gn.current)}function pn(e){K(gn),On===e&&(On=null),K(fe)}var fe=O(0);function Iu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||od(s)||ld(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ki=0,Tt=null,Kt=null,Te=null,Du=!1,_a=!1,Ir=!1,Nu=0,qo=0,va=null,P0=0;function le(){throw Error(r(321))}function ef(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!dn(e[s],n[s]))return!1;return!0}function nf(e,n,s,o,c,f){return ki=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=e===null||e.memoizedState===null?vp:_f,Ir=!1,f=s(o,c),Ir=!1,_a&&(f=Pg(n,s,o,c)),xg(e),f}function xg(e){j.H=Go;var n=Kt!==null&&Kt.next!==null;if(ki=0,Te=Kt=Tt=null,Du=!1,qo=0,va=null,n)throw Error(r(300));e===null||Ae||(e=e.dependencies,e!==null&&Eu(e)&&(Ae=!0))}function Pg(e,n,s,o){Tt=e;var c=0;do{if(_a&&(va=null),qo=0,_a=!1,25<=c)throw Error(r(301));if(c+=1,Te=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=Ep,f=n(s,o)}while(_a);return f}function z0(){var e=j.H,n=e.useState()[0];return n=typeof n.then=="function"?Ho(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(Tt.flags|=1024),n}function sf(){var e=Nu!==0;return Nu=0,e}function rf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function af(e){if(Du){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Du=!1}ki=0,Te=Kt=Tt=null,_a=!1,qo=Nu=0,va=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Tt.memoizedState=Te=e:Te=Te.next=e,Te}function de(){if(Kt===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=Te===null?Tt.memoizedState:Te.next;if(n!==null)Te=n,Kt=e;else{if(e===null)throw Tt.alternate===null?Error(r(467)):Error(r(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Te===null?Tt.memoizedState=Te=e:Te=Te.next=e}return Te}function Ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var n=qo;return qo+=1,va===null&&(va=[]),e=Ig(va,e,n),n=Tt,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?vp:_f),e}function Mu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===dt)return Be(e)}throw Error(r(438,String(e)))}function of(e){var n=null,s=Tt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Tt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Ou(),Tt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function Li(e,n){return typeof n=="function"?n(e):n}function Vu(e){var n=de();return lf(n,Kt,e)}function lf(e,n,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=g=null,w=null,P=n,H=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(wt&Q)===Q:(ki&Q)===Q){var z=P.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===da&&(H=!0);else if((ki&z)===z){P=P.next,z===da&&(H=!0);continue}else Q={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},w===null?(E=w=Q,g=f):w=w.next=Q,Tt.lanes|=z,As|=z;Q=P.action,Ir&&s(f,Q),f=P.hasEagerState?P.eagerState:s(f,Q)}else z={lane:Q,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},w===null?(E=w=z,g=f):w=w.next=z,Tt.lanes|=Q,As|=Q;P=P.next}while(P!==null&&P!==n);if(w===null?g=f:w.next=E,!dn(f,e.memoizedState)&&(Ae=!0,H&&(s=ma,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=w,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function uf(e){var n=de(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);dn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function zg(e,n,s){var o=Tt,c=de(),f=Ot;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!dn((Kt||c).memoizedState,s);if(g&&(c.memoizedState=s,Ae=!0),c=c.queue,ff(Hg.bind(null,o,c,e),[e]),c.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,Ea(9,{destroy:void 0},qg.bind(null,o,c,s,n),null),Zt===null)throw Error(r(349));f||(ki&127)!==0||Bg(o,n,s)}return s}function Bg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Tt.updateQueue,n===null?(n=Ou(),Tt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function qg(e,n,s,o){n.value=s,n.getSnapshot=o,jg(n)&&Gg(e)}function Hg(e,n,s){return s(function(){jg(n)&&Gg(e)})}function jg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!dn(e,s)}catch{return!0}}function Gg(e){var n=vr(e,2);n!==null&&ln(n,e,2)}function cf(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Ir){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},n}function Fg(e,n,s,o){return e.baseState=s,lf(e,Kt,typeof o=="function"?o:Li)}function B0(e,n,s,o,c){if(Lu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};j.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Qg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Qg(e,n){var s=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=j.T,g={};j.T=g;try{var E=s(c,o),w=j.S;w!==null&&w(g,E),Kg(e,n,E)}catch(P){hf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),j.T=f}}else try{f=s(c,o),Kg(e,n,f)}catch(P){hf(e,n,P)}}function Kg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Yg(e,n,o)},function(o){return hf(e,n,o)}):Yg(e,n,s)}function Yg(e,n,s){n.status="fulfilled",n.value=s,Xg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Qg(e,s)))}function hf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Xg(n),n=n.next;while(n!==o)}e.action=null}function Xg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Zg(e,n){return n}function $g(e,n){if(Ot){var s=Zt.formState;if(s!==null){t:{var o=Tt;if(Ot){if(Jt){e:{for(var c=Jt,f=Nn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Mn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Jt=Mn(c.nextSibling),o=c.data==="F!";break t}}ds(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zg,lastRenderedState:n},s.queue=o,s=pp.bind(null,Tt,o),o.dispatch=s,o=cf(!1),f=yf.bind(null,Tt,!1,o.queue),o=tn(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,s=B0.bind(null,Tt,c,f,s),c.dispatch=s,o.memoizedState=e,[n,s,!1]}function Jg(e){var n=de();return Wg(n,Kt,e)}function Wg(e,n,s){if(n=lf(e,n,Zg)[0],e=Vu(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ho(n)}catch(g){throw g===ga?Su:g}else o=n;n=de();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Tt.flags|=2048,Ea(9,{destroy:void 0},q0.bind(null,c,s),null)),[o,f,e]}function q0(e,n){e.action=n}function tp(e){var n=de(),s=Kt;if(s!==null)return Wg(n,s,e);de(),n=n.memoizedState,s=de();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ea(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=Ou(),Tt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function ep(){return de().memoizedState}function Uu(e,n,s,o){var c=tn();Tt.flags|=e,c.memoizedState=Ea(1|n,{destroy:void 0},s,o===void 0?null:o)}function ku(e,n,s,o){var c=de();o=o===void 0?null:o;var f=c.memoizedState.inst;Kt!==null&&o!==null&&ef(o,Kt.memoizedState.deps)?c.memoizedState=Ea(n,f,s,o):(Tt.flags|=e,c.memoizedState=Ea(1|n,f,s,o))}function np(e,n){Uu(8390656,8,e,n)}function ff(e,n){ku(2048,8,e,n)}function H0(e){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=Ou(),Tt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function ip(e){var n=de().memoizedState;return H0({ref:n,nextImpl:e}),function(){if((zt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function sp(e,n){return ku(4,2,e,n)}function rp(e,n){return ku(4,4,e,n)}function ap(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function op(e,n,s){s=s!=null?s.concat([e]):null,ku(4,4,ap.bind(null,n,e),s)}function df(){}function lp(e,n){var s=de();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&ef(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function up(e,n){var s=de();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&ef(n,o[1]))return o[0];if(o=e(),Ir){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[o,n],o}function mf(e,n,s){return s===void 0||(ki&1073741824)!==0&&(wt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=cy(),Tt.lanes|=e,As|=e,s)}function cp(e,n,s,o){return dn(s,n)?s:ya.current!==null?(e=mf(e,s,o),dn(e,n)||(Ae=!0),e):(ki&42)===0||(ki&1073741824)!==0&&(wt&261930)===0?(Ae=!0,e.memoizedState=s):(e=cy(),Tt.lanes|=e,As|=e,n)}function hp(e,n,s,o,c){var f=W.p;W.p=f!==0&&8>f?f:8;var g=j.T,E={};j.T=E,yf(e,!1,n,s);try{var w=c(),P=j.S;if(P!==null&&P(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var H=x0(w,o);jo(e,n,H,vn(e))}else jo(e,n,o,vn(e))}catch(Q){jo(e,n,{then:function(){},status:"rejected",reason:Q},vn())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),j.T=g}}function j0(){}function gf(e,n,s,o){if(e.tag!==5)throw Error(r(476));var c=fp(e).queue;hp(e,c,n,lt,s===null?j0:function(){return dp(e),s(o)})}function fp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:lt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function dp(e){var n=fp(e);n.next===null&&(n=e.alternate.memoizedState),jo(e,n.next.queue,{},vn())}function pf(){return Be(al)}function mp(){return de().memoizedState}function gp(){return de().memoizedState}function G0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=vn();e=ps(s);var o=ys(n,e,s);o!==null&&(ln(o,n,s),Po(o,n,s)),n={cache:Gh()},e.payload=n;return}n=n.return}}function F0(e,n,s){var o=vn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Lu(e)?yp(n,s):(s=Vh(e,n,s,o),s!==null&&(ln(s,e,o),_p(s,n,o)))}function pp(e,n,s){var o=vn();jo(e,n,s,o)}function jo(e,n,s,o){var c={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Lu(e))yp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(c.hasEagerState=!0,c.eagerState=E,dn(E,g))return pu(e,n,c,0),Zt===null&&gu(),!1}catch{}if(s=Vh(e,n,c,o),s!==null)return ln(s,e,o),_p(s,n,o),!0}return!1}function yf(e,n,s,o){if(o={lane:2,revertLane:Xf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lu(e)){if(n)throw Error(r(479))}else n=Vh(e,s,o,2),n!==null&&ln(n,e,2)}function Lu(e){var n=e.alternate;return e===Tt||n!==null&&n===Tt}function yp(e,n){_a=Du=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function _p(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,co(e,s)}}var Go={readContext:Be,use:Mu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Go.useEffectEvent=le;var vp={readContext:Be,use:Mu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:np,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Uu(4194308,4,ap.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Uu(4194308,4,e,n)},useInsertionEffect:function(e,n){Uu(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(Ir){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var c=s(n);if(Ir){Tn(!0);try{s(n)}finally{Tn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=F0.bind(null,Tt,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=cf(e);var n=e.queue,s=pp.bind(null,Tt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:df,useDeferredValue:function(e,n){var s=tn();return mf(s,e,n)},useTransition:function(){var e=cf(!1);return e=hp.bind(null,Tt,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Tt,c=tn();if(Ot){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Zt===null)throw Error(r(349));(wt&127)!==0||Bg(o,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,np(Hg.bind(null,o,f,e),[e]),o.flags|=2048,Ea(9,{destroy:void 0},qg.bind(null,o,f,s,n),null),s},useId:function(){var e=tn(),n=Zt.identifierPrefix;if(Ot){var s=gi,o=mi;s=(o&~(1<<32-ce(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Nu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=P0++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:pf,useFormState:$g,useActionState:$g,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=yf.bind(null,Tt,!0,s),s.dispatch=n,[e,n]},useMemoCache:of,useCacheRefresh:function(){return tn().memoizedState=G0.bind(null,Tt)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((zt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},_f={readContext:Be,use:Mu,useCallback:lp,useContext:Be,useEffect:ff,useImperativeHandle:op,useInsertionEffect:sp,useLayoutEffect:rp,useMemo:up,useReducer:Vu,useRef:ep,useState:function(){return Vu(Li)},useDebugValue:df,useDeferredValue:function(e,n){var s=de();return cp(s,Kt.memoizedState,e,n)},useTransition:function(){var e=Vu(Li)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:zg,useId:mp,useHostTransitionStatus:pf,useFormState:Jg,useActionState:Jg,useOptimistic:function(e,n){var s=de();return Fg(s,Kt,e,n)},useMemoCache:of,useCacheRefresh:gp};_f.useEffectEvent=ip;var Ep={readContext:Be,use:Mu,useCallback:lp,useContext:Be,useEffect:ff,useImperativeHandle:op,useInsertionEffect:sp,useLayoutEffect:rp,useMemo:up,useReducer:uf,useRef:ep,useState:function(){return uf(Li)},useDebugValue:df,useDeferredValue:function(e,n){var s=de();return Kt===null?mf(s,e,n):cp(s,Kt.memoizedState,e,n)},useTransition:function(){var e=uf(Li)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:zg,useId:mp,useHostTransitionStatus:pf,useFormState:tp,useActionState:tp,useOptimistic:function(e,n){var s=de();return Kt!==null?Fg(s,Kt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:of,useCacheRefresh:gp};Ep.useEffectEvent=ip;function vf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ef={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=vn(),c=ps(o);c.payload=n,s!=null&&(c.callback=s),n=ys(e,c,o),n!==null&&(ln(n,e,o),Po(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=vn(),c=ps(o);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=ys(e,c,o),n!==null&&(ln(n,e,o),Po(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=vn(),o=ps(s);o.tag=2,n!=null&&(o.callback=n),n=ys(e,o,s),n!==null&&(ln(n,e,s),Po(n,e,s))}};function Tp(e,n,s,o,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!No(s,o)||!No(c,f):!0}function Ap(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Ef.enqueueReplaceState(n,n.state,null)}function Dr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function Sp(e){mu(e)}function bp(e){console.error(e)}function Rp(e){mu(e)}function xu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function wp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Tf(e,n,s){return s=ps(s),s.tag=3,s.payload={element:null},s.callback=function(){xu(e,n)},s}function Cp(e){return e=ps(e),e.tag=3,e}function Ip(e,n,s,o){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){wp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){wp(n,s,o),typeof c!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function Q0(e,n,s,o,c){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&fa(n,s,c,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return On===null?Xu():s.alternate===null&&ue===0&&(ue=3),s.flags&=-257,s.flags|=65536,s.lanes=c,o===bu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Qf(e,o,c)),!1;case 22:return s.flags|=65536,o===bu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Qf(e,o,c)),!1}throw Error(r(435,s.tag))}return Qf(e,o,c),Xu(),!1}if(Ot)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==zh&&(e=Error(r(422),{cause:o}),Vo(Cn(e,s)))):(o!==zh&&(n=Error(r(423),{cause:o}),Vo(Cn(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=Cn(o,s),c=Tf(e.stateNode,o,c),Zh(e,c),ue!==4&&(ue=2)),!1;var f=Error(r(520),{cause:o});if(f=Cn(f,s),Jo===null?Jo=[f]:Jo.push(f),ue!==4&&(ue=2),n===null)return!0;o=Cn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=Tf(s.stateNode,o,e),Zh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ss===null||!Ss.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Cp(c),Ip(c,e,s,o),Zh(s,c),!1}s=s.return}while(s!==null);return!1}var Af=Error(r(461)),Ae=!1;function qe(e,n,s,o){n.child=e===null?Mg(n,null,s,o):Cr(n,e.child,s,o)}function Dp(e,n,s,o,c){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Sr(n),o=nf(e,n,s,g,f,c),E=sf(),e!==null&&!Ae?(rf(e,n,c),xi(e,n,c)):(Ot&&E&&xh(n),n.flags|=1,qe(e,n,o,c),n.child)}function Np(e,n,s,o,c){if(e===null){var f=s.type;return typeof f=="function"&&!Uh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Op(e,n,f,o,c)):(e=_u(s.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Nf(e,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:No,s(g,o)&&e.ref===n.ref)return xi(e,n,c)}return n.flags|=1,e=Oi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Op(e,n,s,o,c){if(e!==null){var f=e.memoizedProps;if(No(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,Nf(e,c))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,xi(e,n,c)}return Sf(e,n,s,o,c)}function Mp(e,n,s,o){var c=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,n.child=null;return Vp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Au(n,f!==null?f.cachePool:null),f!==null?kg(n,f):Jh(),Lg(n);else return o=n.lanes=536870912,Vp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Au(n,f.cachePool),kg(n,f),vs(),n.memoizedState=null):(e!==null&&Au(n,null),Jh(),vs());return qe(e,n,c,s),n.child}function Fo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Vp(e,n,s,o,c){var f=Qh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Au(n,null),Jh(),Lg(n),e!==null&&fa(e,n,o,!0),n.childLanes=c,null}function Pu(e,n){return n=Bu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Up(e,n,s){return Cr(n,e.child,null,s),e=Pu(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function K0(e,n,s){var o=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ot){if(o.mode==="hidden")return e=Pu(n,o),n.lanes=536870912,Fo(null,e);if(tf(n),(e=Jt)?(e=Qy(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:hs!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},s=yg(e),s.return=n,n.child=s,ze=n,Jt=null)):e=null,e===null)throw ds(n);return n.lanes=536870912,null}return Pu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(tf(n),c)if(n.flags&256)n.flags&=-257,n=Up(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ae||fa(e,n,s,!1),c=(s&e.childLanes)!==0,Ae||c){if(o=Zt,o!==null&&(g=ho(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,vr(e,g),ln(o,e,g),Af;Xu(),n=Up(e,n,s)}else e=f.treeContext,Jt=Mn(g.nextSibling),ze=n,Ot=!0,fs=null,Nn=!1,e!==null&&Eg(n,e),n=Pu(n,o),n.flags|=4096;return n}return e=Oi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function zu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Sf(e,n,s,o,c){return Sr(n),s=nf(e,n,s,o,void 0,c),o=sf(),e!==null&&!Ae?(rf(e,n,c),xi(e,n,c)):(Ot&&o&&xh(n),n.flags|=1,qe(e,n,s,c),n.child)}function kp(e,n,s,o,c,f){return Sr(n),n.updateQueue=null,s=Pg(n,o,s,c),xg(e),o=sf(),e!==null&&!Ae?(rf(e,n,f),xi(e,n,f)):(Ot&&o&&xh(n),n.flags|=1,qe(e,n,s,f),n.child)}function Lp(e,n,s,o,c){if(Sr(n),n.stateNode===null){var f=la,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ef,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Yh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):la,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(vf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ef.enqueueReplaceState(f,f.state,null),Bo(n,o,f,c),zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,w=Dr(s,E);f.props=w;var P=f.context,H=s.contextType;g=la,typeof H=="object"&&H!==null&&(g=Be(H));var Q=s.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Ap(n,f,o,g),gs=!1;var z=n.memoizedState;f.state=z,Bo(n,o,f,c),zo(),P=n.memoizedState,E||z!==P||gs?(typeof Q=="function"&&(vf(n,s,Q,o),P=n.memoizedState),(w=gs||Tp(n,s,w,o,z,P,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Xh(e,n),g=n.memoizedProps,H=Dr(s,g),f.props=H,Q=n.pendingProps,z=f.context,P=s.contextType,w=la,typeof P=="object"&&P!==null&&(w=Be(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==w)&&Ap(n,f,o,w),gs=!1,z=n.memoizedState,f.state=z,Bo(n,o,f,c),zo();var q=n.memoizedState;g!==Q||z!==q||gs||e!==null&&e.dependencies!==null&&Eu(e.dependencies)?(typeof E=="function"&&(vf(n,s,E,o),q=n.memoizedState),(H=gs||Tp(n,s,H,o,z,q,w)||e!==null&&e.dependencies!==null&&Eu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=w,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,zu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Cr(n,e.child,null,c),n.child=Cr(n,null,s,c)):qe(e,n,s,c),n.memoizedState=f.state,e=n.child):e=xi(e,n,c),e}function xp(e,n,s,o){return Tr(),n.flags|=256,qe(e,n,s,o),n.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(e){return{baseLanes:e,cachePool:wg()}}function wf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=_n),e}function Pp(e,n,s){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ot){if(c?_s(n):vs(),(e=Jt)?(e=Qy(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:hs!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},s=yg(e),s.return=n,n.child=s,ze=n,Jt=null)):e=null,e===null)throw ds(n);return ld(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,c?(vs(),c=n.mode,E=Bu({mode:"hidden",children:E},c),o=Er(o,c,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Rf(s),o.childLanes=wf(e,g,s),n.memoizedState=bf,Fo(null,o)):(_s(n),Cf(n,E))}var w=e.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(_s(n),n.flags&=-257,n=If(e,n,s)):n.memoizedState!==null?(vs(),n.child=e.child,n.flags|=128,n=null):(vs(),E=o.fallback,c=n.mode,o=Bu({mode:"visible",children:o.children},c),E=Er(E,c,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Cr(n,e.child,null,s),o=n.child,o.memoizedState=Rf(s),o.childLanes=wf(e,g,s),n.memoizedState=bf,n=Fo(null,o));else if(_s(n),ld(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(r(419)),o.stack="",o.digest=g,Vo({value:o,source:null,stack:null}),n=If(e,n,s)}else if(Ae||fa(e,n,s,!1),g=(s&e.childLanes)!==0,Ae||g){if(g=Zt,g!==null&&(o=ho(g,s),o!==0&&o!==w.retryLane))throw w.retryLane=o,vr(e,o),ln(g,e,o),Af;od(E)||Xu(),n=If(e,n,s)}else od(E)?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,Jt=Mn(E.nextSibling),ze=n,Ot=!0,fs=null,Nn=!1,e!==null&&Eg(n,e),n=Cf(n,o.children),n.flags|=4096);return n}return c?(vs(),E=o.fallback,c=n.mode,w=e.child,P=w.sibling,o=Oi(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,P!==null?E=Oi(P,E):(E=Er(E,c,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Fo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Rf(s):(c=E.cachePool,c!==null?(w=Ee._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=wg(),E={baseLanes:E.baseLanes|s,cachePool:c}),o.memoizedState=E,o.childLanes=wf(e,g,s),n.memoizedState=bf,Fo(e.child,o)):(_s(n),s=e.child,e=s.sibling,s=Oi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Cf(e,n){return n=Bu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Bu(e,n){return e=mn(22,e,null,n),e.lanes=0,e}function If(e,n,s){return Cr(n,e.child,null,s),e=Cf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function zp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Hh(e.return,n,s)}function Df(e,n,s,o,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function Bp(e,n,s){var o=n.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,tt(fe,g),qe(e,n,o,s),o=Ot?Mo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zp(e,s,n);else if(e.tag===19)zp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Iu(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Df(n,!1,c,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Iu(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Df(n,!0,s,null,f,o);break;case"together":Df(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function xi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),As|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(fa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Oi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Oi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Nf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Eu(e)))}function Y0(e,n,s){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),ms(n,Ee,e.memoizedState.cache),Tr();break;case 27:case 5:er(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:ms(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,tf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(_s(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Pp(e,n,s):(_s(n),e=xi(e,n,s),e!==null?e.sibling:null);_s(n);break;case 19:var c=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(fa(e,n,s,!1),o=(s&n.childLanes)!==0),c){if(o)return Bp(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),tt(fe,fe.current),o)break;return null;case 22:return n.lanes=0,Mp(e,n,s,n.pendingProps);case 24:ms(n,Ee,e.memoizedState.cache)}return xi(e,n,s)}function qp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Nf(e,s)&&(n.flags&128)===0)return Ae=!1,Y0(e,n,s);Ae=(e.flags&131072)!==0}else Ae=!1,Ot&&(n.flags&1048576)!==0&&vg(n,Mo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Rr(n.elementType),n.type=e,typeof e=="function")Uh(e)?(o=Dr(e,o),n.tag=1,n=Lp(null,n,e,o,s)):(n.tag=0,n=Sf(null,n,e,o,s));else{if(e!=null){var c=e.$$typeof;if(c===Ft){n.tag=11,n=Dp(null,n,e,o,s);break t}else if(c===I){n.tag=14,n=Np(null,n,e,o,s);break t}}throw n=ie(e)||e,Error(r(306,n,""))}}return n;case 0:return Sf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,c=Dr(o,n.pendingProps),Lp(e,n,o,c,s);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,Xh(e,n),Bo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,ms(n,Ee,o),o!==f.cache&&jh(n,[Ee],s,!0),zo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=xp(e,n,o,s);break t}else if(o!==c){c=Cn(Error(r(424)),n),Vo(c),n=xp(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Jt=Mn(e.firstChild),ze=n,Ot=!0,fs=null,Nn=!0,s=Mg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Tr(),o===c){n=xi(e,n,s);break t}qe(e,n,o,s)}n=n.child}return n;case 26:return zu(e,n),e===null?(s=Jy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ot||(s=n.type,e=n.pendingProps,o=nc(At.current).createElement(s),o[ye]=n,o[Ve]=e,He(o,s,e),_e(o),n.stateNode=o):n.memoizedState=Jy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return er(n),e===null&&Ot&&(o=n.stateNode=Xy(n.type,n.pendingProps,At.current),ze=n,Nn=!0,c=Jt,Cs(n.type)?(ud=c,Jt=Mn(o.firstChild)):Jt=c),qe(e,n,n.pendingProps.children,s),zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ot&&((c=o=Jt)&&(o=b1(o,n.type,n.pendingProps,Nn),o!==null?(n.stateNode=o,ze=n,Jt=Mn(o.firstChild),Nn=!1,c=!0):c=!1),c||ds(n)),er(n),c=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,sd(c,f)?o=null:g!==null&&sd(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=nf(e,n,z0,null,null,s),al._currentValue=c),zu(e,n),qe(e,n,o,s),n.child;case 6:return e===null&&Ot&&((e=s=Jt)&&(s=R1(s,n.pendingProps,Nn),s!==null?(n.stateNode=s,ze=n,Jt=null,e=!0):e=!1),e||ds(n)),null;case 13:return Pp(e,n,s);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Cr(n,null,o,s):qe(e,n,o,s),n.child;case 11:return Dp(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ms(n,n.type,o.value),qe(e,n,o.children,s),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,Sr(n),c=Be(c),o=o(c),n.flags|=1,qe(e,n,o,s),n.child;case 14:return Np(e,n,n.type,n.pendingProps,s);case 15:return Op(e,n,n.type,n.pendingProps,s);case 19:return Bp(e,n,s);case 31:return K0(e,n,s);case 22:return Mp(e,n,s,n.pendingProps);case 24:return Sr(n),o=Be(Ee),e===null?(c=Qh(),c===null&&(c=Zt,f=Gh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:o,cache:c},Yh(n),ms(n,Ee,c)):((e.lanes&s)!==0&&(Xh(e,n),Bo(n,null,null,s),zo()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ms(n,Ee,o)):(o=f.cache,ms(n,Ee,o),o!==c.cache&&jh(n,[Ee],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Pi(e){e.flags|=4}function Of(e,n,s,o,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(my())e.flags|=8192;else throw wr=bu,Kh}else e.flags&=-16777217}function Hp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!i_(n))if(my())e.flags|=8192;else throw wr=bu,Kh}function qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Kl():536870912,e.lanes|=n,ba|=n)}function Qo(e,n){if(!Ot)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Wt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function X0(e,n,s){var o=n.pendingProps;switch(Ph(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(Ee),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ha(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bh())),Wt(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(Pi(n),f!==null?(Wt(n),Hp(n,f)):(Wt(n),Of(n,c,null,o,s))):f?f!==e.memoizedState?(Pi(n),Wt(n),Hp(n,f)):(Wt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Pi(n),Wt(n),Of(n,c,e,o,s)),null;case 27:if(jr(n),s=At.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Wt(n),null}e=it.current,ha(n)?Tg(n):(e=Xy(c,o,s),n.stateNode=e,Pi(n))}return Wt(n),null;case 5:if(jr(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Wt(n),null}if(f=it.current,ha(n))Tg(n);else{var g=nc(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(c,{is:o.is}):g.createElement(c)}}f[ye]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Pi(n)}}return Wt(n),Of(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=At.current,ha(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,c=ze,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[ye]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Py(e.nodeValue,s)),e||ds(n,!0)}else e=nc(e).createTextNode(o),e[ye]=n,n.stateNode=e}return Wt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ha(n),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ye]=n}else Tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),e=!1}else s=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Wt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ha(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ye]=n}else Tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),c=!1}else c=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),qu(n,n.updateQueue),Wt(n),null);case 4:return se(),e===null&&Wf(n.stateNode.containerInfo),Wt(n),null;case 10:return Ui(n.type),Wt(n),null;case 19:if(K(fe),o=n.memoizedState,o===null)return Wt(n),null;if(c=(n.flags&128)!==0,f=o.rendering,f===null)if(c)Qo(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Iu(e),f!==null){for(n.flags|=128,Qo(o,!1),e=f.updateQueue,n.updateQueue=e,qu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)pg(s,e),s=s.sibling;return tt(fe,fe.current&1|2),Ot&&Mi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Je()>Qu&&(n.flags|=128,c=!0,Qo(o,!1),n.lanes=4194304)}else{if(!c)if(e=Iu(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,qu(n,e),Qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ot)return Wt(n),null}else 2*Je()-o.renderingStartTime>Qu&&s!==536870912&&(n.flags|=128,c=!0,Qo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,s=fe.current,tt(fe,c?s&1|2:s&1),Ot&&Mi(n,o.treeForkCount),e):(Wt(n),null);case 22:case 23:return pn(n),Wh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),s=n.updateQueue,s!==null&&qu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(br),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(Ee),Wt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Z0(e,n){switch(Ph(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Ee),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return jr(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(r(340));Tr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Tr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(fe),null;case 4:return se(),null;case 10:return Ui(n.type),null;case 22:case 23:return pn(n),Wh(),e!==null&&K(br),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Ee),null;case 25:return null;default:return null}}function jp(e,n){switch(Ph(n),n.tag){case 3:Ui(Ee),se();break;case 26:case 27:case 5:jr(n);break;case 4:se();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:K(fe);break;case 10:Ui(n.type);break;case 22:case 23:pn(n),Wh(),e!==null&&K(br);break;case 24:Ui(Ee)}}function Ko(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==c)}}catch(E){Gt(n,n.return,E)}}function Es(e,n,s){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var w=s,P=E;try{P()}catch(H){Gt(c,w,H)}}}o=o.next}while(o!==f)}}catch(H){Gt(n,n.return,H)}}function Gp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Ug(n,s)}catch(o){Gt(e,e.return,o)}}}function Fp(e,n,s){s.props=Dr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Gt(e,n,o)}}function Yo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(c){Gt(e,n,c)}}function pi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(c){Gt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Gt(e,n,c)}else s.current=null}function Qp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(c){Gt(e,e.return,c)}}function Mf(e,n,s){try{var o=e.stateNode;_1(o,e.type,s,n),o[Ve]=n}catch(c){Gt(e,e.return,c)}}function Kp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Cs(e.type)||e.tag===4}function Vf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Kp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Cs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=zn));else if(o!==4&&(o===27&&Cs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Uf(e,n,s),e=e.sibling;e!==null;)Uf(e,n,s),e=e.sibling}function Hu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Cs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Hu(e,n,s),e=e.sibling;e!==null;)Hu(e,n,s),e=e.sibling}function Yp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);He(n,o,s),n[ye]=e,n[Ve]=s}catch(f){Gt(e,e.return,f)}}var zi=!1,Se=!1,kf=!1,Xp=typeof WeakSet=="function"?WeakSet:Set,ke=null;function $0(e,n){if(e=e.containerInfo,nd=uc,e=og(e),Ch(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,w=-1,P=0,H=0,Q=e,z=null;e:for(;;){for(var q;Q!==s||c!==0&&Q.nodeType!==3||(E=g+c),Q!==f||o!==0&&Q.nodeType!==3||(w=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(q=Q.firstChild)!==null;)z=Q,Q=q;for(;;){if(Q===e)break e;if(z===s&&++P===c&&(E=g),z===f&&++H===o&&(w=g),(q=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=q}s=E===-1||w===-1?null:{start:E,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(id={focusedElem:e,selectionRange:s},uc=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var st=Dr(s.type,c);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ct){Gt(s,s.return,ct)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)ad(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}}function Zp(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:qi(e,s),o&4&&Ko(5,s);break;case 1:if(qi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Gt(s,s.return,g)}else{var c=Dr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Gt(s,s.return,g)}}o&64&&Gp(s),o&512&&Yo(s,s.return);break;case 3:if(qi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Ug(e,n)}catch(g){Gt(s,s.return,g)}}break;case 27:n===null&&o&4&&Yp(s);case 26:case 5:qi(e,s),n===null&&o&4&&Qp(s),o&512&&Yo(s,s.return);break;case 12:qi(e,s);break;case 31:qi(e,s),o&4&&Wp(e,s);break;case 13:qi(e,s),o&4&&ty(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=a1.bind(null,s),w1(e,s))));break;case 22:if(o=s.memoizedState!==null||zi,!o){n=n!==null&&n.memoizedState!==null||Se,c=zi;var f=Se;zi=o,(Se=n)&&!f?Hi(e,s,(s.subtreeFlags&8772)!==0):qi(e,s),zi=c,Se=f}break;case 30:break;default:qi(e,s)}}function $p(e){var n=e.alternate;n!==null&&(e.alternate=null,$p(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Yr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,sn=!1;function Bi(e,n,s){for(s=s.child;s!==null;)Jp(e,n,s),s=s.sibling}function Jp(e,n,s){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(kn,s)}catch{}switch(s.tag){case 26:Se||pi(s,n),Bi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Se||pi(s,n);var o=ae,c=sn;Cs(s.type)&&(ae=s.stateNode,sn=!1),Bi(e,n,s),il(s.stateNode),ae=o,sn=c;break;case 5:Se||pi(s,n);case 6:if(o=ae,c=sn,ae=null,Bi(e,n,s),ae=o,sn=c,ae!==null)if(sn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Gt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Gt(s,n,f)}break;case 18:ae!==null&&(sn?(e=ae,Gy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ma(e)):Gy(ae,s.stateNode));break;case 4:o=ae,c=sn,ae=s.stateNode.containerInfo,sn=!0,Bi(e,n,s),ae=o,sn=c;break;case 0:case 11:case 14:case 15:Es(2,s,n),Se||Es(4,s,n),Bi(e,n,s);break;case 1:Se||(pi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Fp(s,n,o)),Bi(e,n,s);break;case 21:Bi(e,n,s);break;case 22:Se=(o=Se)||s.memoizedState!==null,Bi(e,n,s),Se=o;break;default:Bi(e,n,s)}}function Wp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ma(e)}catch(s){Gt(n,n.return,s)}}}function ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ma(e)}catch(s){Gt(n,n.return,s)}}function J0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Xp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Xp),n;default:throw Error(r(435,e.tag))}}function ju(e,n){var s=J0(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var c=o1.bind(null,e,o);o.then(c,c)}})}function rn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Cs(E.type)){ae=E.stateNode,sn=!1;break t}break;case 5:ae=E.stateNode,sn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(ae===null)throw Error(r(160));Jp(f,g,c),ae=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ey(n,e),n=n.sibling}var Fn=null;function ey(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(n,e),an(e),o&4&&(Es(3,e,e.return),Ko(3,e),Es(5,e,e.return));break;case 1:rn(n,e),an(e),o&512&&(Se||s===null||pi(s,s.return)),o&64&&zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var c=Fn;if(rn(n,e),an(e),o&512&&(Se||s===null||pi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ni]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),He(f,o,s),f[ye]=e,_e(f),o=f;break t;case"link":var g=e_("link","href",c).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(o),He(f,o,s),c.head.appendChild(f);break;case"meta":if(g=e_("meta","content",c).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=c.createElement(o),He(f,o,s),c.head.appendChild(f);break;default:throw Error(r(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else n_(c,e.type,e.stateNode);else e.stateNode=t_(c,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?n_(c,e.type,e.stateNode):t_(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Mf(e,e.memoizedProps,s.memoizedProps)}break;case 27:rn(n,e),an(e),o&512&&(Se||s===null||pi(s,s.return)),s!==null&&o&4&&Mf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(rn(n,e),an(e),o&512&&(Se||s===null||pi(s,s.return)),e.flags&32){c=e.stateNode;try{nn(c,"")}catch(st){Gt(e,e.return,st)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Mf(e,c,s!==null?s.memoizedProps:c)),o&1024&&(kf=!0);break;case 6:if(rn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(st){Gt(e,e.return,st)}}break;case 3:if(rc=null,c=Fn,Fn=ic(n.containerInfo),rn(n,e),Fn=c,an(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ma(n.containerInfo)}catch(st){Gt(e,e.return,st)}kf&&(kf=!1,ny(e));break;case 4:o=Fn,Fn=ic(e.stateNode.containerInfo),rn(n,e),an(e),Fn=o;break;case 12:rn(n,e),an(e);break;case 31:rn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ju(e,o)));break;case 13:rn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Fu=Je()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ju(e,o)));break;case 22:c=e.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,P=zi,H=Se;if(zi=P||c,Se=H||w,rn(n,e),Se=H,zi=P,an(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||w||zi||Se||Nr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){w=s=n;try{if(f=w.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var Q=w.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Gt(w,w.return,st)}}}else if(n.tag===6){if(s===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(st){Gt(w,w.return,st)}}}else if(n.tag===18){if(s===null){w=n;try{var q=w.stateNode;c?Fy(q,!0):Fy(w.stateNode,!1)}catch(st){Gt(w,w.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ju(e,s))));break;case 19:rn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ju(e,o)));break;case 30:break;case 21:break;default:rn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Kp(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=Vf(e);Hu(e,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(nn(g,""),s.flags&=-33);var E=Vf(e);Hu(e,E,g);break;case 3:case 4:var w=s.stateNode.containerInfo,P=Vf(e);Uf(e,P,w);break;default:throw Error(r(161))}}catch(H){Gt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Zp(e,n.alternate,n),n=n.sibling}function Nr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Es(4,n,n.return),Nr(n);break;case 1:pi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Fp(n,n.return,s),Nr(n);break;case 27:il(n.stateNode);case 26:case 5:pi(n,n.return),Nr(n);break;case 22:n.memoizedState===null&&Nr(n);break;case 30:Nr(n);break;default:Nr(n)}e=e.sibling}}function Hi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(c,f,s),Ko(4,f);break;case 1:if(Hi(c,f,s),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Gt(o,o.return,P)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Vg(w[c],E)}catch(P){Gt(o,o.return,P)}}s&&g&64&&Gp(f),Yo(f,f.return);break;case 27:Yp(f);case 26:case 5:Hi(c,f,s),s&&o===null&&g&4&&Qp(f),Yo(f,f.return);break;case 12:Hi(c,f,s);break;case 31:Hi(c,f,s),s&&g&4&&Wp(c,f);break;case 13:Hi(c,f,s),s&&g&4&&ty(c,f);break;case 22:f.memoizedState===null&&Hi(c,f,s),Yo(f,f.return);break;case 30:break;default:Hi(c,f,s)}n=n.sibling}}function Lf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Uo(s))}function xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e))}function Qn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)iy(e,n,s,o),n=n.sibling}function iy(e,n,s,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,s,o),c&2048&&Ko(9,n);break;case 1:Qn(e,n,s,o);break;case 3:Qn(e,n,s,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e)));break;case 12:if(c&2048){Qn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Gt(n,n.return,w)}}else Qn(e,n,s,o);break;case 31:Qn(e,n,s,o);break;case 13:Qn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,s,o):Xo(e,n):f._visibility&2?Qn(e,n,s,o):(f._visibility|=2,Ta(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Lf(g,n);break;case 24:Qn(e,n,s,o),c&2048&&xf(n.alternate,n);break;default:Qn(e,n,s,o)}}function Ta(e,n,s,o,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,w=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ta(f,g,E,w,c),Ko(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Ta(f,g,E,w,c):Xo(f,g):(H._visibility|=2,Ta(f,g,E,w,c)),c&&P&2048&&Lf(g.alternate,g);break;case 24:Ta(f,g,E,w,c),c&&P&2048&&xf(g.alternate,g);break;default:Ta(f,g,E,w,c)}n=n.sibling}}function Xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,c=o.flags;switch(o.tag){case 22:Xo(s,o),c&2048&&Lf(o.alternate,o);break;case 24:Xo(s,o),c&2048&&xf(o.alternate,o);break;default:Xo(s,o)}n=n.sibling}}var Zo=8192;function Aa(e,n,s){if(e.subtreeFlags&Zo)for(e=e.child;e!==null;)sy(e,n,s),e=e.sibling}function sy(e,n,s){switch(e.tag){case 26:Aa(e,n,s),e.flags&Zo&&e.memoizedState!==null&&P1(s,Fn,e.memoizedState,e.memoizedProps);break;case 5:Aa(e,n,s);break;case 3:case 4:var o=Fn;Fn=ic(e.stateNode.containerInfo),Aa(e,n,s),Fn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Zo,Zo=16777216,Aa(e,n,s),Zo=o):Aa(e,n,s));break;default:Aa(e,n,s)}}function ry(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function $o(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,oy(o,e)}ry(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ay(e),e=e.sibling}function ay(e){switch(e.tag){case 0:case 11:case 15:$o(e),e.flags&2048&&Es(9,e,e.return);break;case 3:$o(e);break;case 12:$o(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Gu(e)):$o(e);break;default:$o(e)}}function Gu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,oy(o,e)}ry(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Es(8,n,n.return),Gu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Gu(n));break;default:Gu(n)}e=e.sibling}}function oy(e,n){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:Es(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Uo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,ke=o;else t:for(s=e;ke!==null;){o=ke;var c=o.sibling,f=o.return;if($p(o),o===s){ke=null;break t}if(c!==null){c.return=f,ke=c;break t}ke=f}}}var W0={getCacheForType:function(e){var n=Be(Ee),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(Ee).controller.signal}},t1=typeof WeakMap=="function"?WeakMap:Map,zt=0,Zt=null,bt=null,wt=0,jt=0,yn=null,Ts=!1,Sa=!1,Pf=!1,ji=0,ue=0,As=0,Or=0,zf=0,_n=0,ba=0,Jo=null,on=null,Bf=!1,Fu=0,ly=0,Qu=1/0,Ku=null,Ss=null,De=0,bs=null,Ra=null,Gi=0,qf=0,Hf=null,uy=null,Wo=0,jf=null;function vn(){return(zt&2)!==0&&wt!==0?wt&-wt:j.T!==null?Xf():Yl()}function cy(){if(_n===0)if((wt&536870912)===0||Ot){var e=sr;sr<<=1,(sr&3932160)===0&&(sr=262144),_n=e}else _n=536870912;return e=gn.current,e!==null&&(e.flags|=32),_n}function ln(e,n,s){(e===Zt&&(jt===2||jt===9)||e.cancelPendingCommit!==null)&&(wa(e,0),Rs(e,wt,_n,!1)),rr(e,s),((zt&2)===0||e!==Zt)&&(e===Zt&&((zt&2)===0&&(Or|=s),ue===4&&Rs(e,wt,_n,!1)),yi(e))}function hy(e,n,s){if((zt&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),c=o?i1(e,n):Ff(e,n,!0),f=o;do{if(c===0){Sa&&!o&&Rs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!e1(s)){c=Ff(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;c=Jo;var w=E.current.memoizedState.isDehydrated;if(w&&(wa(E,g).flags|=256),g=Ff(E,g,!1),g!==2){if(Pf&&!w){E.errorRecoveryDisabledLanes|=f,Or|=f,c=4;break t}f=on,on=c,f!==null&&(on===null?on=f:on.push.apply(on,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){wa(e,0),Rs(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Rs(o,n,_n,!Ts);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Fu+300-Je(),10<c)){if(Rs(o,n,_n,!Ts),Wn(o,0,!0)!==0)break t;Gi=n,o.timeoutHandle=Hy(fy.bind(null,o,s,on,Ku,Bf,n,_n,Or,ba,Ts,f,"Throttled",-0,0),c);break t}fy(o,s,on,Ku,Bf,n,_n,Or,ba,Ts,f,null,-0,0)}}break}while(!0);yi(e)}function fy(e,n,s,o,c,f,g,E,w,P,H,Q,z,q){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},sy(n,f,Q);var st=(f&62914560)===f?Fu-Je():(f&4194048)===f?ly-Je():0;if(st=z1(Q,st),st!==null){Gi=f,e.cancelPendingCommit=st(Ey.bind(null,e,n,f,s,o,c,g,E,w,H,Q,null,z,q)),Rs(e,f,g,!P);return}}Ey(e,n,f,s,o,c,g,E,w)}function e1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var c=s[o],f=c.getSnapshot;c=c.value;try{if(!dn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Rs(e,n,s,o){n&=~zf,n&=~Or,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-ce(c),g=1<<f;o[f]=-1,c&=~g}s!==0&&ar(e,s,n)}function Yu(){return(zt&6)===0?(tl(0),!1):!0}function Gf(){if(bt!==null){if(jt===0)var e=bt.return;else e=bt,Vi=Ar=null,af(e),pa=null,Lo=0,e=bt;for(;e!==null;)jp(e.alternate,e),e=e.return;bt=null}}function wa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,T1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Gi=0,Gf(),Zt=e,bt=s=Oi(e.current,null),wt=n,jt=0,yn=null,Ts=!1,Sa=Ln(e,n),Pf=!1,ba=_n=zf=Or=As=ue=0,on=Jo=null,Bf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-ce(o),f=1<<c;n|=e[c],o&=~f}return ji=n,gu(),s}function dy(e,n){Tt=null,j.H=Go,n===ga||n===Su?(n=Dg(),jt=3):n===Kh?(n=Dg(),jt=4):jt=n===Af?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,bt===null&&(ue=1,xu(e,Cn(n,e.current)))}function my(){var e=gn.current;return e===null?!0:(wt&4194048)===wt?On===null:(wt&62914560)===wt||(wt&536870912)!==0?e===On:!1}function gy(){var e=j.H;return j.H=Go,e===null?Go:e}function py(){var e=j.A;return j.A=W0,e}function Xu(){ue=4,Ts||(wt&4194048)!==wt&&gn.current!==null||(Sa=!0),(As&134217727)===0&&(Or&134217727)===0||Zt===null||Rs(Zt,wt,_n,!1)}function Ff(e,n,s){var o=zt;zt|=2;var c=gy(),f=py();(Zt!==e||wt!==n)&&(Ku=null,wa(e,n)),n=!1;var g=ue;t:do try{if(jt!==0&&bt!==null){var E=bt,w=yn;switch(jt){case 8:Gf(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var P=jt;if(jt=0,yn=null,Ca(e,E,w,P),s&&Sa){g=0;break t}break;default:P=jt,jt=0,yn=null,Ca(e,E,w,P)}}n1(),g=ue;break}catch(H){dy(e,H)}while(!0);return n&&e.shellSuspendCounter++,Vi=Ar=null,zt=o,j.H=c,j.A=f,bt===null&&(Zt=null,wt=0,gu()),g}function n1(){for(;bt!==null;)yy(bt)}function i1(e,n){var s=zt;zt|=2;var o=gy(),c=py();Zt!==e||wt!==n?(Ku=null,Qu=Je()+500,wa(e,n)):Sa=Ln(e,n);t:do try{if(jt!==0&&bt!==null){n=bt;var f=yn;e:switch(jt){case 1:jt=0,yn=null,Ca(e,n,f,1);break;case 2:case 9:if(Cg(f)){jt=0,yn=null,_y(n);break}n=function(){jt!==2&&jt!==9||Zt!==e||(jt=7),yi(e)},f.then(n,n);break t;case 3:jt=7;break t;case 4:jt=5;break t;case 7:Cg(f)?(jt=0,yn=null,_y(n)):(jt=0,yn=null,Ca(e,n,f,7));break;case 5:var g=null;switch(bt.tag){case 26:g=bt.memoizedState;case 5:case 27:var E=bt;if(g?i_(g):E.stateNode.complete){jt=0,yn=null;var w=E.sibling;if(w!==null)bt=w;else{var P=E.return;P!==null?(bt=P,Zu(P)):bt=null}break e}}jt=0,yn=null,Ca(e,n,f,5);break;case 6:jt=0,yn=null,Ca(e,n,f,6);break;case 8:Gf(),ue=6;break t;default:throw Error(r(462))}}s1();break}catch(H){dy(e,H)}while(!0);return Vi=Ar=null,j.H=o,j.A=c,zt=s,bt!==null?0:(Zt=null,wt=0,gu(),ue)}function s1(){for(;bt!==null&&!Eh();)yy(bt)}function yy(e){var n=qp(e.alternate,e,ji);e.memoizedProps=e.pendingProps,n===null?Zu(e):bt=n}function _y(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=kp(s,n,n.pendingProps,n.type,void 0,wt);break;case 11:n=kp(s,n,n.pendingProps,n.type.render,n.ref,wt);break;case 5:af(n);default:jp(s,n),n=bt=pg(n,ji),n=qp(s,n,ji)}e.memoizedProps=e.pendingProps,n===null?Zu(e):bt=n}function Ca(e,n,s,o){Vi=Ar=null,af(n),pa=null,Lo=0;var c=n.return;try{if(Q0(e,c,n,s,wt)){ue=1,xu(e,Cn(s,e.current)),bt=null;return}}catch(f){if(c!==null)throw bt=c,f;ue=1,xu(e,Cn(s,e.current)),bt=null;return}n.flags&32768?(Ot||o===1?e=!0:Sa||(wt&536870912)!==0?e=!1:(Ts=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),vy(n,e)):Zu(n)}function Zu(e){var n=e;do{if((n.flags&32768)!==0){vy(n,Ts);return}e=n.return;var s=X0(n.alternate,n,ji);if(s!==null){bt=s;return}if(n=n.sibling,n!==null){bt=n;return}bt=n=e}while(n!==null);ue===0&&(ue=5)}function vy(e,n){do{var s=Z0(e.alternate,e);if(s!==null){s.flags&=32767,bt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){bt=e;return}bt=e=s}while(e!==null);ue=6,bt=null}function Ey(e,n,s,o,c,f,g,E,w){e.cancelPendingCommit=null;do $u();while(De!==0);if((zt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Mh,Sh(e,s,f,g,E,w),e===Zt&&(bt=Zt=null,wt=0),Ra=n,bs=e,Gi=s,qf=f,Hf=c,uy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,l1(es,function(){return Ry(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=j.T,j.T=null,c=W.p,W.p=2,g=zt,zt|=4;try{$0(e,n,s)}finally{zt=g,W.p=c,j.T=o}}De=1,Ty(),Ay(),Sy()}}function Ty(){if(De===1){De=0;var e=bs,n=Ra,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=j.T,j.T=null;var o=W.p;W.p=2;var c=zt;zt|=4;try{ey(n,e);var f=id,g=og(e.containerInfo),E=f.focusedElem,w=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&ag(E.ownerDocument.documentElement,E)){if(w!==null&&Ch(E)){var P=w.start,H=w.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var q=z.getSelection(),st=E.textContent.length,ct=Math.min(w.start,st),Xt=w.end===void 0?ct:Math.min(w.end,st);!q.extend&&ct>Xt&&(g=Xt,Xt=ct,ct=g);var U=rg(E,ct),D=rg(E,Xt);if(U&&D&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var x=Q.createRange();x.setStart(U.node,U.offset),q.removeAllRanges(),ct>Xt?(q.addRange(x),q.extend(D.node,D.offset)):(x.setEnd(D.node,D.offset),q.addRange(x))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var G=Q[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}uc=!!nd,id=nd=null}finally{zt=c,W.p=o,j.T=s}}e.current=n,De=2}}function Ay(){if(De===2){De=0;var e=bs,n=Ra,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=j.T,j.T=null;var o=W.p;W.p=2;var c=zt;zt|=4;try{Zp(e,n.alternate,n)}finally{zt=c,W.p=o,j.T=s}}De=3}}function Sy(){if(De===4||De===3){De=0,ql();var e=bs,n=Ra,s=Gi,o=uy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Ra=bs=null,by(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ss=null),Ci(s),n=n.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(kn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=j.T,c=W.p,W.p=2,j.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{j.T=n,W.p=c}}(Gi&3)!==0&&$u(),yi(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===jf?Wo++:(Wo=0,jf=e):Wo=0,tl(0)}}function by(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Uo(n)))}function $u(){return Ty(),Ay(),Sy(),Ry()}function Ry(){if(De!==5)return!1;var e=bs,n=qf;qf=0;var s=Ci(Gi),o=j.T,c=W.p;try{W.p=32>s?32:s,j.T=null,s=Hf,Hf=null;var f=bs,g=Gi;if(De=0,Ra=bs=null,Gi=0,(zt&6)!==0)throw Error(r(331));var E=zt;if(zt|=4,ay(f.current),iy(f,f.current,g,s),zt=E,tl(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(kn,f)}catch{}return!0}finally{W.p=c,j.T=o,by(e,n)}}function wy(e,n,s){n=Cn(s,n),n=Tf(e.stateNode,n,2),e=ys(e,n,2),e!==null&&(rr(e,2),yi(e))}function Gt(e,n,s){if(e.tag===3)wy(e,e,s);else for(;n!==null;){if(n.tag===3){wy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ss===null||!Ss.has(o))){e=Cn(s,e),s=Cp(2),o=ys(n,s,2),o!==null&&(Ip(s,o,n,e),rr(o,2),yi(o));break}}n=n.return}}function Qf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new t1;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(s)||(Pf=!0,c.add(s),e=r1.bind(null,e,n,s),n.then(e,e))}function r1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Zt===e&&(wt&s)===s&&(ue===4||ue===3&&(wt&62914560)===wt&&300>Je()-Fu?(zt&2)===0&&wa(e,0):zf|=s,ba===wt&&(ba=0)),yi(e)}function Cy(e,n){n===0&&(n=Kl()),e=vr(e,n),e!==null&&(rr(e,n),yi(e))}function a1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Cy(e,s)}function o1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Cy(e,s)}function l1(e,n){return Ie(e,n)}var Ju=null,Ia=null,Kf=!1,Wu=!1,Yf=!1,ws=0;function yi(e){e!==Ia&&e.next===null&&(Ia===null?Ju=Ia=e:Ia=Ia.next=e),Wu=!0,Kf||(Kf=!0,c1())}function tl(e,n){if(!Yf&&Wu){Yf=!0;do for(var s=!1,o=Ju;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Oy(o,f))}else f=wt,f=Wn(o,o===Zt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(s=!0,Oy(o,f));o=o.next}while(s);Yf=!1}}function u1(){Iy()}function Iy(){Wu=Kf=!1;var e=0;ws!==0&&E1()&&(e=ws);for(var n=Je(),s=null,o=Ju;o!==null;){var c=o.next,f=Dy(o,n);f===0?(o.next=null,s===null?Ju=c:s.next=c,c===null&&(Ia=s)):(s=o,(e!==0||(f&3)!==0)&&(Wu=!0)),o=c}De!==0&&De!==5||tl(e),ws!==0&&(ws=0)}function Dy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,w=c[g];w===-1?((E&s)===0||(E&o)!==0)&&(c[g]=Ah(E,n)):w<=n&&(e.expiredLanes|=E),f&=~E}if(n=Zt,s=wt,s=Wn(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(jt===2||jt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ts(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ln(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ts(o),Ci(s)){case 2:case 8:s=uo;break;case 32:s=es;break;case 268435456:s=Hl;break;default:s=es}return o=Ny.bind(null,e),s=Ie(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ts(o),e.callbackPriority=2,e.callbackNode=null,2}function Ny(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if($u()&&e.callbackNode!==s)return null;var o=wt;return o=Wn(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(hy(e,o,n),Dy(e,Je()),e.callbackNode!=null&&e.callbackNode===s?Ny.bind(null,e):null)}function Oy(e,n){if($u())return null;hy(e,n,!0)}function c1(){A1(function(){(zt&6)!==0?Ie(lo,u1):Iy()})}function Xf(){if(ws===0){var e=da;e===0&&(e=$n,$n<<=1,($n&261888)===0&&($n=256)),ws=e}return ws}function My(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Jr(""+e)}function Vy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function h1(e,n,s,o,c){if(n==="submit"&&s&&s.stateNode===c){var f=My((c[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?My(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new ci("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ws!==0){var w=g?Vy(c,g):new FormData(c);gf(s,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=g?Vy(c,g):new FormData(c),gf(s,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var Zf=0;Zf<Oh.length;Zf++){var $f=Oh[Zf],f1=$f.toLowerCase(),d1=$f[0].toUpperCase()+$f.slice(1);Gn(f1,"on"+d1)}Gn(cg,"onAnimationEnd"),Gn(hg,"onAnimationIteration"),Gn(fg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(D0,"onTransitionRun"),Gn(N0,"onTransitionStart"),Gn(O0,"onTransitionCancel"),Gn(dg,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function Uy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],w=E.instance,P=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){mu(H)}c.currentTarget=null,f=w}else for(g=0;g<o.length;g++){if(E=o[g],w=E.instance,P=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){mu(H)}c.currentTarget=null,f=w}}}}function Rt(e,n){var s=n[Kr];s===void 0&&(s=n[Kr]=new Set);var o=e+"__bubble";s.has(o)||(ky(n,e,2,!1),s.add(o))}function Jf(e,n,s){var o=0;n&&(o|=4),ky(s,e,o,n)}var tc="_reactListening"+Math.random().toString(36).slice(2);function Wf(e){if(!e[tc]){e[tc]=!0,fo.forEach(function(s){s!=="selectionchange"&&(m1.has(s)||Jf(s,!1,e),Jf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[tc]||(n[tc]=!0,Jf("selectionchange",!1,n))}}function ky(e,n,s,o){switch(c_(n)){case 2:var c=H1;break;case 8:c=j1;break;default:c=md}s=c.bind(null,n,s,e),c=void 0,!hr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function td(e,n,s,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=o.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ii(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){o=f=g;continue t}E=E.parentNode}}o=o.return}os(function(){var P=f,H=Sn(s),Q=[];t:{var z=mg.get(e);if(z!==void 0){var q=ci,st=e;switch(e){case"keypress":if(dr(s)===0)break t;case"keydown":case"keyup":q=hu;break;case"focusin":st="focus",q=gr;break;case"focusout":st="blur",q=gr;break;case"beforeblur":case"afterblur":q=gr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case cg:case hg:case fg:q=su;break;case dg:q=T;break;case"scroll":case"scrollend":q=Ro;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ni;break;case"toggle":case"beforetoggle":q=Et}var ct=(n&4)!==0,Xt=!ct&&(e==="scroll"||e==="scrollend"),U=ct?z!==null?z+"Capture":null:z;ct=[];for(var D=P,x;D!==null;){var G=D;if(x=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||x===null||U===null||(G=Bn(D,U),G!=null&&ct.push(nl(D,G,x))),Xt)break;D=D.return}0<ct.length&&(z=new q(z,st,null,s,H),Q.push({event:z,listeners:ct}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&s!==Ao&&(st=s.relatedTarget||s.fromElement)&&(ii(st)||st[ei]))break t;if((q||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,q?(st=s.relatedTarget||s.toElement,q=P,st=st?ii(st):null,st!==null&&(Xt=h(st),ct=st.tag,st!==Xt||ct!==5&&ct!==27&&ct!==6)&&(st=null)):(q=null,st=P),q!==st)){if(ct=wo,G="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ct=Ni,G="onPointerLeave",U="onPointerEnter",D="pointer"),Xt=q==null?z:hn(q),x=st==null?z:hn(st),z=new ct(G,D+"leave",q,s,H),z.target=Xt,z.relatedTarget=x,G=null,ii(H)===P&&(ct=new ct(U,D+"enter",st,s,H),ct.target=x,ct.relatedTarget=Xt,G=ct),Xt=G,q&&st)e:{for(ct=g1,U=q,D=st,x=0,G=U;G;G=ct(G))x++;G=0;for(var ot=D;ot;ot=ct(ot))G++;for(;0<x-G;)U=ct(U),x--;for(;0<G-x;)D=ct(D),G--;for(;x--;){if(U===D||D!==null&&U===D.alternate){ct=U;break e}U=ct(U),D=ct(D)}ct=null}else ct=null;q!==null&&Ly(Q,z,q,ct,!1),st!==null&&Xt!==null&&Ly(Q,Xt,st,ct,!0)}}t:{if(z=P?hn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Lt=Wm;else if($m(z))if(tg)Lt=w0;else{Lt=b0;var rt=S0}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&$r(P.elementType)&&(Lt=Wm):Lt=R0;if(Lt&&(Lt=Lt(e,P))){Jm(Q,Lt,s,H);break t}rt&&rt(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&vo(z,"number",z.value)}switch(rt=P?hn(P):window,e){case"focusin":($m(rt)||rt.contentEditable==="true")&&(ra=rt,Ih=P,Oo=null);break;case"focusout":Oo=Ih=ra=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,lg(Q,s,H);break;case"selectionchange":if(I0)break;case"keydown":case"keyup":lg(Q,s,H)}var St;if(Pt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else sa?pr(e,s)&&(Ct="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ct="onCompositionStart");Ct&&(di&&s.locale!=="ko"&&(sa||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&sa&&(St=bo()):(ui=H,So="value"in ui?ui.value:ui.textContent,sa=!0)),rt=ec(P,Ct),0<rt.length&&(Ct=new fi(Ct,e,null,s,H),Q.push({event:Ct,listeners:rt}),St?Ct.data=St:(St=ia(s),St!==null&&(Ct.data=St)))),(St=Rn?v0(e,s):E0(e,s))&&(Ct=ec(P,"onBeforeInput"),0<Ct.length&&(rt=new fi("onBeforeInput","beforeinput",null,s,H),Q.push({event:rt,listeners:Ct}),rt.data=St)),h1(Q,e,P,s,H)}Uy(Q,n)})}function nl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ec(e,n){for(var s=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Bn(e,s),c!=null&&o.unshift(nl(e,c,f)),c=Bn(e,n),c!=null&&o.push(nl(e,c,f))),e.tag===3)return o;e=e.return}return[]}function g1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ly(e,n,s,o,c){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,w=E.alternate,P=E.stateNode;if(E=E.tag,w!==null&&w===o)break;E!==5&&E!==26&&E!==27||P===null||(w=P,c?(P=Bn(s,f),P!=null&&g.unshift(nl(s,P,w))):c||(P=Bn(s,f),P!=null&&g.push(nl(s,P,w)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var p1=/\r\n?/g,y1=/\u0000|\uFFFD/g;function xy(e){return(typeof e=="string"?e:""+e).replace(p1,`
`).replace(y1,"")}function Py(e,n){return n=xy(n),xy(e)===n}function Yt(e,n,s,o,c,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":fn(e,"class",o);break;case"tabIndex":fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,s,o);break;case"style":To(e,o,f);break;case"data":if(n!=="object"){fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Jr(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Yt(e,n,"name",c.name,c,null),Yt(e,n,"formEncType",c.formEncType,c,null),Yt(e,n,"formMethod",c.formMethod,c,null),Yt(e,n,"formTarget",c.formTarget,c,null)):(Yt(e,n,"encType",c.encType,c,null),Yt(e,n,"method",c.method,c,null),Yt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Jr(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=zn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Jr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),Xr(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Xr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=eu.get(s)||s,Xr(e,s,o))}}function ed(e,n,s,o,c,f){switch(s){case"style":To(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,c);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Xr(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(e,n,f,g,s,null)}}c&&Yt(e,n,"srcSet",s.srcSet,s,null),o&&Yt(e,n,"src",s.src,s,null);return;case"input":Rt("invalid",e);var E=f=g=c=null,w=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var H=s[o];if(H!=null)switch(o){case"name":c=H;break;case"type":g=H;break;case"checked":w=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Yt(e,n,o,H,s,null)}}Jl(e,f,E,w,P,g,c,!1);return;case"select":Rt("invalid",e),o=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Yt(e,n,c,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?is(e,!!o,n,!1):s!=null&&is(e,!!o,s,!0);return;case"textarea":Rt("invalid",e),f=c=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Yt(e,n,g,E,s,null)}ss(e,o,c,f);return;case"option":for(w in s)s.hasOwnProperty(w)&&(o=s[w],o!=null)&&(w==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Yt(e,n,w,o,s,null));return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<el.length;o++)Rt(el[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(e,n,P,o,s,null)}return;default:if($r(n)){for(H in s)s.hasOwnProperty(H)&&(o=s[H],o!==void 0&&ed(e,n,H,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Yt(e,n,E,o,s,null))}function _1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,w=null,P=null,H=null;for(q in s){var Q=s[q];if(s.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":w=Q;default:o.hasOwnProperty(q)||Yt(e,n,q,null,o,Q)}}for(var z in o){var q=o[z];if(Q=s[z],o.hasOwnProperty(z)&&(q!=null||Q!=null))switch(z){case"type":f=q;break;case"name":c=q;break;case"checked":P=q;break;case"defaultChecked":H=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==Q&&Yt(e,n,z,q,o,Q)}}Zr(e,g,E,w,P,H,f,c);return;case"select":q=g=E=z=null;for(f in s)if(w=s[f],s.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":q=w;default:o.hasOwnProperty(f)||Yt(e,n,f,null,o,w)}for(c in o)if(f=o[c],w=s[c],o.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==w&&Yt(e,n,c,f,o,w)}n=E,s=g,o=q,z!=null?is(e,!!s,z,!1):!!o!=!!s&&(n!=null?is(e,!!s,n,!0):is(e,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,n,E,null,o,c)}for(g in o)if(c=o[g],f=s[g],o.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":z=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Yt(e,n,g,c,o,f)}Wl(e,z,q);return;case"option":for(var st in s)z=s[st],s.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st)&&(st==="selected"?e.selected=!1:Yt(e,n,st,null,o,z));for(w in o)z=o[w],q=s[w],o.hasOwnProperty(w)&&z!==q&&(z!=null||q!=null)&&(w==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Yt(e,n,w,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in s)z=s[ct],s.hasOwnProperty(ct)&&z!=null&&!o.hasOwnProperty(ct)&&Yt(e,n,ct,null,o,z);for(P in o)if(z=o[P],q=s[P],o.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Yt(e,n,P,z,o,q)}return;default:if($r(n)){for(var Xt in s)z=s[Xt],s.hasOwnProperty(Xt)&&z!==void 0&&!o.hasOwnProperty(Xt)&&ed(e,n,Xt,void 0,o,z);for(H in o)z=o[H],q=s[H],!o.hasOwnProperty(H)||z===q||z===void 0&&q===void 0||ed(e,n,H,z,o,q);return}}for(var U in s)z=s[U],s.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Yt(e,n,U,null,o,z);for(Q in o)z=o[Q],q=s[Q],!o.hasOwnProperty(Q)||z===q||z==null&&q==null||Yt(e,n,Q,z,o,q)}function zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function v1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var c=s[o],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&zy(g)){for(g=0,E=c.responseEnd,o+=1;o<s.length;o++){var w=s[o],P=w.startTime;if(P>E)break;var H=w.transferSize,Q=w.initiatorType;H&&zy(Q)&&(w=w.responseEnd,g+=H*(w<E?1:(E-P)/(w-P)))}if(--o,n+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var nd=null,id=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function By(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function sd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var rd=null;function E1(){var e=window.event;return e&&e.type==="popstate"?e===rd?!1:(rd=e,!0):(rd=null,!1)}var Hy=typeof setTimeout=="function"?setTimeout:void 0,T1=typeof clearTimeout=="function"?clearTimeout:void 0,jy=typeof Promise=="function"?Promise:void 0,A1=typeof queueMicrotask=="function"?queueMicrotask:typeof jy<"u"?function(e){return jy.resolve(null).then(e).catch(S1)}:Hy;function S1(e){setTimeout(function(){throw e})}function Cs(e){return e==="head"}function Gy(e,n){var s=n,o=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(c),Ma(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")il(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,il(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ni]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&il(e.ownerDocument.body);s=c}while(s);Ma(n)}function Fy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function ad(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ad(s),Yr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function b1(e,n,s,o){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ni])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function R1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Mn(e.nextSibling),e===null))return null;return e}function Qy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function od(e){return e.data==="$?"||e.data==="$~"}function ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function w1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ud=null;function Ky(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Mn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Yy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Xy(e,n,s){switch(n=nc(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Yr(e)}var Vn=new Map,Zy=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fi=W.d;W.d={f:C1,r:I1,D:D1,C:N1,L:O1,m:M1,X:U1,S:V1,M:k1};function C1(){var e=Fi.f(),n=Yu();return e||n}function I1(e){var n=An(e);n!==null&&n.tag===5&&n.type==="form"?dp(n):Fi.r(e)}var Da=typeof document>"u"?null:document;function $y(e,n,s){var o=Da;if(o&&typeof n=="string"&&n){var c=en(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Zy.has(c)||(Zy.add(c),e={rel:e,crossOrigin:s,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),He(n,"link",e),_e(n),o.head.appendChild(n)))}}function D1(e){Fi.D(e),$y("dns-prefetch",e,null)}function N1(e,n){Fi.C(e,n),$y("preconnect",e,n)}function O1(e,n,s){Fi.L(e,n,s);var o=Da;if(o&&e&&n){var c='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+en(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+en(s.imageSizes)+'"]')):c+='[href="'+en(e)+'"]';var f=c;switch(n){case"style":f=Na(e);break;case"script":f=Oa(e)}Vn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Vn.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(sl(f))||n==="script"&&o.querySelector(rl(f))||(n=o.createElement("link"),He(n,"link",e),_e(n),o.head.appendChild(n)))}}function M1(e,n){Fi.m(e,n);var s=Da;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oa(e)}if(!Vn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Vn.set(f,e),s.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(rl(f)))return}o=s.createElement("link"),He(o,"link",e),_e(o),s.head.appendChild(o)}}}function V1(e,n,s){Fi.S(e,n,s);var o=Da;if(o&&e){var c=si(o).hoistableStyles,f=Na(e);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(sl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Vn.get(f))&&cd(e,s);var w=g=o.createElement("link");_e(w),He(w,"link",e),w._p=new Promise(function(P,H){w.onload=P,w.onerror=H}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,sc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function U1(e,n){Fi.X(e,n);var s=Da;if(s&&e){var o=si(s).hoistableScripts,c=Oa(e),f=o.get(c);f||(f=s.querySelector(rl(c)),f||(e=b({src:e,async:!0},n),(n=Vn.get(c))&&hd(e,n),f=s.createElement("script"),_e(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function k1(e,n){Fi.M(e,n);var s=Da;if(s&&e){var o=si(s).hoistableScripts,c=Oa(e),f=o.get(c);f||(f=s.querySelector(rl(c)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Vn.get(c))&&hd(e,n),f=s.createElement("script"),_e(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Jy(e,n,s,o){var c=(c=At.current)?ic(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Na(s.href),s=si(c).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Na(s.href);var f=si(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(sl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vn.set(e,s),f||L1(c,e,s,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Oa(s),s=si(c).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Na(e){return'href="'+en(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function Wy(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function L1(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),_e(n),e.head.appendChild(n))}function Oa(e){return'[src="'+en(e)+'"]'}function rl(e){return"script[async]"+e}function t_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(s.href)+'"]');if(o)return n.instance=o,_e(o),o;var c=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),He(o,"style",c),sc(o,s.precedence,e),n.instance=o;case"stylesheet":c=Na(s.href);var f=e.querySelector(sl(c));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=Wy(s),(c=Vn.get(c))&&cd(o,c),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),He(f,"link",o),n.state.loading|=4,sc(f,s.precedence,e),n.instance=f;case"script":return f=Oa(s.src),(c=e.querySelector(rl(f)))?(n.instance=c,_e(c),c):(o=s,(c=Vn.get(f))&&(o=b({},s),hd(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),_e(c),He(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,sc(o,s.precedence,e));return n.instance}function sc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var rc=null;function e_(e,n,s){if(rc===null){var o=new Map,c=rc=new Map;c.set(s,o)}else c=rc,o=c.get(s),o||(o=new Map,c.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[ni]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function n_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function x1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function i_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function P1(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Na(o.href),f=n.querySelector(sl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ac.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,_e(f);return}f=n.ownerDocument||n,o=Wy(o),(c=Vn.get(c))&&cd(o,c),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=ac.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var fd=0;function z1(e,n){return e.stylesheets&&e.count===0&&lc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&fd===0&&(fd=62500*v1());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>fd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oc=null;function lc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oc=new Map,n.forEach(B1,e),oc=null,ac.call(e))}function B1(e,n){if(!(n.state.loading&4)){var s=oc.get(e);if(s)var o=s.get(null);else{s=new Map,oc.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,c),s.set(g,c),this.count++,o=ac.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var al={$$typeof:dt,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function q1(e,n,s,o,c,f,g,E,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function s_(e,n,s,o,c,f,g,E,w,P,H,Q){return e=new q1(e,n,s,g,w,P,H,Q,E),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),e.current=f,f.stateNode=e,n=Gh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Yh(f),e}function r_(e){return e?(e=la,e):la}function a_(e,n,s,o,c,f){c=r_(c),o.context===null?o.context=c:o.pendingContext=c,o=ps(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=ys(e,o,n),s!==null&&(ln(s,e,n),Po(s,e,n))}function o_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function dd(e,n){o_(e,n),(e=e.alternate)&&o_(e,n)}function l_(e){if(e.tag===13||e.tag===31){var n=vr(e,67108864);n!==null&&ln(n,e,67108864),dd(e,67108864)}}function u_(e){if(e.tag===13||e.tag===31){var n=vn();n=or(n);var s=vr(e,n);s!==null&&ln(s,e,n),dd(e,n)}}var uc=!0;function H1(e,n,s,o){var c=j.T;j.T=null;var f=W.p;try{W.p=2,md(e,n,s,o)}finally{W.p=f,j.T=c}}function j1(e,n,s,o){var c=j.T;j.T=null;var f=W.p;try{W.p=8,md(e,n,s,o)}finally{W.p=f,j.T=c}}function md(e,n,s,o){if(uc){var c=gd(o);if(c===null)td(e,n,o,cc,s),h_(e,o);else if(F1(c,e,n,s,o))o.stopPropagation();else if(h_(e,o),n&4&&-1<G1.indexOf(e)){for(;c!==null;){var f=An(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Jn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-ce(g);E.entanglements[1]|=w,g&=~w}yi(f),(zt&6)===0&&(Qu=Je()+500,tl(0))}}break;case 31:case 13:E=vr(f,2),E!==null&&ln(E,f,2),Yu(),dd(f,2)}if(f=gd(o),f===null&&td(e,n,o,cc,s),f===c)break;c=f}c!==null&&o.stopPropagation()}else td(e,n,o,null,s)}}function gd(e){return e=Sn(e),pd(e)}var cc=null;function pd(e){if(cc=null,e=ii(e),e!==null){var n=h(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return cc=e,null}function c_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ir()){case lo:return 2;case uo:return 8;case es:case Th:return 32;case Hl:return 268435456;default:return 32}default:return 32}}var yd=!1,Is=null,Ds=null,Ns=null,ol=new Map,ll=new Map,Os=[],G1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(e,n){switch(e){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(n.pointerId)}}function ul(e,n,s,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=An(n),n!==null&&l_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function F1(e,n,s,o,c){switch(n){case"focusin":return Is=ul(Is,e,n,s,o,c),!0;case"dragenter":return Ds=ul(Ds,e,n,s,o,c),!0;case"mouseover":return Ns=ul(Ns,e,n,s,o,c),!0;case"pointerover":var f=c.pointerId;return ol.set(f,ul(ol.get(f)||null,e,n,s,o,c)),!0;case"gotpointercapture":return f=c.pointerId,ll.set(f,ul(ll.get(f)||null,e,n,s,o,c)),!0}return!1}function f_(e){var n=ii(e.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,xn(e.priority,function(){u_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,xn(e.priority,function(){u_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=gd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Ao=o,s.target.dispatchEvent(o),Ao=null}else return n=An(s),n!==null&&l_(n),e.blockedOn=s,!1;n.shift()}return!0}function d_(e,n,s){hc(e)&&s.delete(n)}function Q1(){yd=!1,Is!==null&&hc(Is)&&(Is=null),Ds!==null&&hc(Ds)&&(Ds=null),Ns!==null&&hc(Ns)&&(Ns=null),ol.forEach(d_),ll.forEach(d_)}function fc(e,n){e.blockedOn===n&&(e.blockedOn=null,yd||(yd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Q1)))}var dc=null;function m_(e){dc!==e&&(dc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(pd(o||s)===null)continue;break}var f=An(s);f!==null&&(e.splice(n,3),n-=3,gf(f,{pending:!0,data:c,method:s.method,action:o},o,c))}}))}function Ma(e){function n(w){return fc(w,e)}Is!==null&&fc(Is,e),Ds!==null&&fc(Ds,e),Ns!==null&&fc(Ns,e),ol.forEach(n),ll.forEach(n);for(var s=0;s<Os.length;s++){var o=Os[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Os.length&&(s=Os[0],s.blockedOn===null);)f_(s),s.blockedOn===null&&Os.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var c=s[o],f=s[o+1],g=c[Ve]||null;if(typeof f=="function")g||m_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Ve]||null)E=g.formAction;else if(pd(c)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),m_(s)}}}function g_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function _d(e){this._internalRoot=e}mc.prototype.render=_d.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=vn();a_(s,o,e,n,null,null)},mc.prototype.unmount=_d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;a_(e.current,2,null,e,null,null),Yu(),n[ei]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Yl();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Os.length&&n!==0&&n<Os[s].priority;s++);Os.splice(s,0,e),s===0&&f_(e)}};var p_=t.version;if(p_!=="19.2.3")throw Error(r(527,p_,"19.2.3"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var K1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{kn=gc.inject(K1),xe=gc}catch{}}return hl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var s=!1,o="",c=Sp,f=bp,g=Rp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=s_(e,1,!1,null,null,s,o,null,c,f,g,g_),e[ei]=n.current,Wf(e),new _d(n)},hl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(r(299));var o=!1,c="",f=Sp,g=bp,E=Rp,w=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(w=s.formState)),n=s_(e,1,!0,n,s??null,o,c,w,f,g,E,g_),n.context=r_(null),s=n.current,o=vn(),o=or(o),c=ps(o),c.callback=null,ys(s,c,o),s=o,n.current.lanes=s,rr(n,s),yi(n),e[ei]=n.current,Wf(e),new mc(n)},hl.version="19.2.3",hl}var w_;function sA(){if(w_)return Td.exports;w_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Td.exports=iA(),Td.exports}var kI=sA();const rA=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aA=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),C_=a=>{const t=aA(a);return t.charAt(0).toUpperCase()+t.slice(1)},tE=(...a)=>a.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),oA=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var lA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uA=Pa.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:h,iconNode:d,...p},v)=>Pa.createElement("svg",{ref:v,...lA,width:t,height:t,stroke:a,strokeWidth:r?Number(i)*24/Number(t):i,className:tE("lucide",l),...!h&&!oA(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>Pa.createElement(_,A)),...Array.isArray(h)?h:[h]]));const ne=(a,t)=>{const i=Pa.forwardRef(({className:r,...l},h)=>Pa.createElement(uA,{ref:h,iconNode:t,className:tE(`lucide-${rA(C_(a))}`,`lucide-${a}`,r),...l}));return i.displayName=C_(a),i};const cA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],LI=ne("arrow-left",cA);const hA=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],xI=ne("bike",hA);const fA=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],PI=ne("building",fA);const dA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zI=ne("calendar",dA);const mA=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],BI=ne("car",mA);const gA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qI=ne("chevron-right",gA);const pA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],HI=ne("circle-check-big",pA);const yA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],jI=ne("file-text",yA);const _A=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],GI=ne("funnel",_A);const vA=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],FI=ne("house",vA);const EA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],QI=ne("image",EA);const TA=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],KI=ne("key",TA);const AA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],YI=ne("log-out",AA);const SA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],XI=ne("map-pin",SA);const bA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ZI=ne("message-square",bA);const RA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$I=ne("pen",RA);const wA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],JI=ne("plus",wA);const CA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],WI=ne("search",CA);const IA=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],tD=ne("sticky-note",IA);const DA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],eD=ne("trash-2",DA);const NA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nD=ne("triangle-alert",NA);const OA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],iD=ne("user-plus",OA);const MA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sD=ne("user",MA);const VA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rD=ne("users",VA);const UA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],aD=ne("x",UA),kA=()=>{};var I_={};const eE=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},LA=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const h=a[i++];t[r++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=a[i++],d=a[i++],p=a[i++],v=((l&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(v>>10)),t[r++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];t[r++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},nE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const h=a[l],d=l+1<a.length,p=d?a[l+1]:0,v=l+2<a.length,_=v?a[l+2]:0,A=h>>2,b=(h&3)<<4|p>>4;let V=(p&15)<<2|_>>6,F=_&63;v||(F=64,d||(V=64)),r.push(i[A],i[b],i[V],i[F])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(eE(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):LA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const h=i[a.charAt(l++)],p=l<a.length?i[a.charAt(l)]:0;++l;const _=l<a.length?i[a.charAt(l)]:64;++l;const b=l<a.length?i[a.charAt(l)]:64;if(++l,h==null||p==null||_==null||b==null)throw new xA;const V=h<<2|p>>4;if(r.push(V),_!==64){const F=p<<4&240|_>>2;if(r.push(F),b!==64){const J=_<<6&192|b;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class xA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PA=function(a){const t=eE(a);return nE.encodeByteArray(t,!0)},Mc=function(a){return PA(a).replace(/\./g,"")},iE=function(a){try{return nE.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function zA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const BA=()=>zA().__FIREBASE_DEFAULTS__,qA=()=>{if(typeof process>"u"||typeof I_>"u")return;const a=I_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},HA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&iE(a[1]);return t&&JSON.parse(t)},$c=()=>{try{return kA()||BA()||qA()||HA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},sE=a=>$c()?.emulatorHosts?.[a],jA=a=>{const t=sE(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},rE=()=>$c()?.config,aE=a=>$c()?.[`_${a}`];class GA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function Ja(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oE(a){return(await fetch(a,{credentials:"include"})).ok}function FA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Mc(JSON.stringify(i)),Mc(JSON.stringify(d)),""].join(".")}const pl={};function QA(){const a={prod:[],emulator:[]};for(const t of Object.keys(pl))pl[t]?a.emulator.push(t):a.prod.push(t);return a}function KA(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let D_=!1;function lE(a,t){if(typeof window>"u"||typeof document>"u"||!Ja(window.location.host)||pl[a]===t||pl[a]||D_)return;pl[a]=t;function i(V){return`__firebase__banner__${V}`}const r="__firebase__banner",h=QA().prod.length>0;function d(){const V=document.getElementById(r);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,F){V.setAttribute("width","24"),V.setAttribute("id",F),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{D_=!0,d()},V}function A(V,F){V.setAttribute("id",F),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function b(){const V=KA(r),F=i("text"),J=document.getElementById(F)||document.createElement("span"),et=i("learnmore"),Z=document.getElementById(et)||document.createElement("a"),ht=i("preprendIcon"),vt=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const dt=V.element;p(dt),A(Z,et);const Ft=_();v(vt,ht),dt.append(vt,J,Z,Ft),document.body.appendChild(dt)}h?(J.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function XA(){const a=$c()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $A(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function JA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WA(){const a=Ze();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function tS(){return!XA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eS(){try{return typeof indexedDB=="object"}catch{return!1}}function nS(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const iS="FirebaseError";class Wi extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=iS,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?sS(h,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Wi(l,p,r)}}function sS(a,t){return a.replace(rS,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const rS=/\{\$([^}]+)}/g;function aS(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Lr(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const h=a[l],d=t[l];if(N_(h)&&N_(d)){if(!Lr(h,d))return!1}else if(h!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function N_(a){return a!==null&&typeof a=="object"}function Ml(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function oS(a,t){const i=new lS(a,t);return i.subscribe.bind(i)}class lS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");uS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Rd),l.error===void 0&&(l.error=Rd),l.complete===void 0&&(l.complete=Rd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uS(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Rd(){}function $e(a){return a&&a._delegate?a._delegate:a}class xr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Mr="[DEFAULT]";class cS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new GA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(fS(t))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});r.resolve(h)}catch{}}}}clearInstance(t=Mr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Mr){return this.instances.has(t)}getOptions(t=Mr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const h=this.instances.get(r);return h&&t(h,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Mr){return this.component?this.component.multipleInstances?t:Mr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hS(a){return a===Mr?void 0:a}function fS(a){return a.instantiationMode==="EAGER"}class dS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new cS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var It;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(It||(It={}));const mS={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},gS=It.INFO,pS={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},yS=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),l=pS[t];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class um{constructor(t){this.name=t,this._logLevel=gS,this._logHandler=yS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in It))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?mS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...t),this._logHandler(this,It.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...t),this._logHandler(this,It.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,It.INFO,...t),this._logHandler(this,It.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,It.WARN,...t),this._logHandler(this,It.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...t),this._logHandler(this,It.ERROR,...t)}}const _S=(a,t)=>t.some(i=>a instanceof i);let O_,M_;function vS(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ES(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uE=new WeakMap,xd=new WeakMap,cE=new WeakMap,wd=new WeakMap,cm=new WeakMap;function TS(a){const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(zs(a.result)),l()},d=()=>{r(a.error),l()};a.addEventListener("success",h),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&uE.set(i,a)}).catch(()=>{}),cm.set(t,a),t}function AS(a){if(xd.has(a))return;const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});xd.set(a,t)}let Pd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return xd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||cE.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return zs(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function SS(a){Pd=a(Pd)}function bS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(Cd(this),t,...i);return cE.set(r,t.sort?t.sort():[t]),zs(r)}:ES().includes(a)?function(...t){return a.apply(Cd(this),t),zs(uE.get(this))}:function(...t){return zs(a.apply(Cd(this),t))}}function RS(a){return typeof a=="function"?bS(a):(a instanceof IDBTransaction&&AS(a),_S(a,vS())?new Proxy(a,Pd):a)}function zs(a){if(a instanceof IDBRequest)return TS(a);if(wd.has(a))return wd.get(a);const t=RS(a);return t!==a&&(wd.set(a,t),cm.set(t,a)),t}const Cd=a=>cm.get(a);function wS(a,t,{blocked:i,upgrade:r,blocking:l,terminated:h}={}){const d=indexedDB.open(a,t),p=zs(d);return r&&d.addEventListener("upgradeneeded",v=>{r(zs(d.result),v.oldVersion,v.newVersion,zs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const CS=["get","getKey","getAll","getAllKeys","count"],IS=["put","add","delete","clear"],Id=new Map;function V_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Id.get(t))return Id.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=IS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||CS.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&v.done]))[0]};return Id.set(t,h),h}SS(a=>({...a,get:(t,i,r)=>V_(t,i)||a.get(t,i,r),has:(t,i)=>!!V_(t,i)||a.has(t,i)}));class DS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(NS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function NS(a){return a.getComponent()?.type==="VERSION"}const zd="@firebase/app",U_="0.14.6";const Yi=new um("@firebase/app"),OS="@firebase/app-compat",MS="@firebase/analytics-compat",VS="@firebase/analytics",US="@firebase/app-check-compat",kS="@firebase/app-check",LS="@firebase/auth",xS="@firebase/auth-compat",PS="@firebase/database",zS="@firebase/data-connect",BS="@firebase/database-compat",qS="@firebase/functions",HS="@firebase/functions-compat",jS="@firebase/installations",GS="@firebase/installations-compat",FS="@firebase/messaging",QS="@firebase/messaging-compat",KS="@firebase/performance",YS="@firebase/performance-compat",XS="@firebase/remote-config",ZS="@firebase/remote-config-compat",$S="@firebase/storage",JS="@firebase/storage-compat",WS="@firebase/firestore",tb="@firebase/ai",eb="@firebase/firestore-compat",nb="firebase",ib="12.6.0";const Bd="[DEFAULT]",sb={[zd]:"fire-core",[OS]:"fire-core-compat",[VS]:"fire-analytics",[MS]:"fire-analytics-compat",[kS]:"fire-app-check",[US]:"fire-app-check-compat",[LS]:"fire-auth",[xS]:"fire-auth-compat",[PS]:"fire-rtdb",[zS]:"fire-data-connect",[BS]:"fire-rtdb-compat",[qS]:"fire-fn",[HS]:"fire-fn-compat",[jS]:"fire-iid",[GS]:"fire-iid-compat",[FS]:"fire-fcm",[QS]:"fire-fcm-compat",[KS]:"fire-perf",[YS]:"fire-perf-compat",[XS]:"fire-rc",[ZS]:"fire-rc-compat",[$S]:"fire-gcs",[JS]:"fire-gcs-compat",[WS]:"fire-fst",[eb]:"fire-fst-compat",[tb]:"fire-vertex","fire-js":"fire-js",[nb]:"fire-js-all"};const Vc=new Map,rb=new Map,qd=new Map;function k_(a,t){try{a.container.addComponent(t)}catch(i){Yi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ga(a){const t=a.name;if(qd.has(t))return Yi.debug(`There were multiple attempts to register component ${t}.`),!1;qd.set(t,a);for(const i of Vc.values())k_(i,a);for(const i of rb.values())k_(i,a);return!0}function hm(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Kn(a){return a==null?!1:a.settings!==void 0}const ab={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new Ol("app","Firebase",ab);class ob{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}const Wa=ib;function lb(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:Bd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Bs.create("bad-app-name",{appName:String(l)});if(i||(i=rE()),!i)throw Bs.create("no-options");const h=Vc.get(l);if(h){if(Lr(i,h.options)&&Lr(r,h.config))return h;throw Bs.create("duplicate-app",{appName:l})}const d=new dS(l);for(const v of qd.values())d.addComponent(v);const p=new ob(i,r,d);return Vc.set(l,p),p}function hE(a=Bd){const t=Vc.get(a);if(!t&&a===Bd&&rE())return lb();if(!t)throw Bs.create("no-app",{appName:a});return t}function qs(a,t,i){let r=sb[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yi.warn(d.join(" "));return}Ga(new xr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const ub="firebase-heartbeat-database",cb=1,Al="firebase-heartbeat-store";let Dd=null;function fE(){return Dd||(Dd=wS(ub,cb,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Al)}catch(i){console.warn(i)}}}}).catch(a=>{throw Bs.create("idb-open",{originalErrorMessage:a.message})})),Dd}async function hb(a){try{const i=(await fE()).transaction(Al),r=await i.objectStore(Al).get(dE(a));return await i.done,r}catch(t){if(t instanceof Wi)Yi.warn(t.message);else{const i=Bs.create("idb-get",{originalErrorMessage:t?.message});Yi.warn(i.message)}}}async function L_(a,t){try{const r=(await fE()).transaction(Al,"readwrite");await r.objectStore(Al).put(t,dE(a)),await r.done}catch(i){if(i instanceof Wi)Yi.warn(i.message);else{const r=Bs.create("idb-set",{originalErrorMessage:i?.message});Yi.warn(r.message)}}}function dE(a){return`${a.name}!${a.options.appId}`}const fb=1024,db=30;class mb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new pb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=x_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>db){const l=yb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Yi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=x_(),{heartbeatsToSend:i,unsentEntries:r}=gb(this._heartbeatsCache.heartbeats),l=Mc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Yi.warn(t),""}}}function x_(){return new Date().toISOString().substring(0,10)}function gb(a,t=fb){const i=[];let r=a.slice();for(const l of a){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),P_(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),P_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class pb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eS()?nS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await hb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return L_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return L_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function P_(a){return Mc(JSON.stringify({version:2,heartbeats:a})).length}function yb(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}function _b(a){Ga(new xr("platform-logger",t=>new DS(t),"PRIVATE")),Ga(new xr("heartbeat",t=>new mb(t),"PRIVATE")),qs(zd,U_,a),qs(zd,U_,"esm2020"),qs("fire-js","")}_b("");var vb="firebase",Eb="12.7.0";qs(vb,Eb,"app");var z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hs,mE;(function(){var a;function t(I,S){function C(){}C.prototype=S.prototype,I.F=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(M,N,k){for(var R=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)R[ie-2]=arguments[ie];return S.prototype[N].apply(M,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,C){C||(C=0);const M=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)M[N]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(N=0;N<16;++N)M[N]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],N=I.g[2];let k=I.g[3],R;R=S+(k^C&(N^k))+M[0]+3614090360&4294967295,S=C+(R<<7&4294967295|R>>>25),R=k+(N^S&(C^N))+M[1]+3905402710&4294967295,k=S+(R<<12&4294967295|R>>>20),R=N+(C^k&(S^C))+M[2]+606105819&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(S^N&(k^S))+M[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(k^C&(N^k))+M[4]+4118548399&4294967295,S=C+(R<<7&4294967295|R>>>25),R=k+(N^S&(C^N))+M[5]+1200080426&4294967295,k=S+(R<<12&4294967295|R>>>20),R=N+(C^k&(S^C))+M[6]+2821735955&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(S^N&(k^S))+M[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(k^C&(N^k))+M[8]+1770035416&4294967295,S=C+(R<<7&4294967295|R>>>25),R=k+(N^S&(C^N))+M[9]+2336552879&4294967295,k=S+(R<<12&4294967295|R>>>20),R=N+(C^k&(S^C))+M[10]+4294925233&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(S^N&(k^S))+M[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(k^C&(N^k))+M[12]+1804603682&4294967295,S=C+(R<<7&4294967295|R>>>25),R=k+(N^S&(C^N))+M[13]+4254626195&4294967295,k=S+(R<<12&4294967295|R>>>20),R=N+(C^k&(S^C))+M[14]+2792965006&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(S^N&(k^S))+M[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(N^k&(C^N))+M[1]+4129170786&4294967295,S=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(S^C))+M[6]+3225465664&4294967295,k=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(k^S))+M[11]+643717713&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^S&(N^k))+M[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^k&(C^N))+M[5]+3593408605&4294967295,S=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(S^C))+M[10]+38016083&4294967295,k=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(k^S))+M[15]+3634488961&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^S&(N^k))+M[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^k&(C^N))+M[9]+568446438&4294967295,S=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(S^C))+M[14]+3275163606&4294967295,k=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(k^S))+M[3]+4107603335&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^S&(N^k))+M[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^k&(C^N))+M[13]+2850285829&4294967295,S=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(S^C))+M[2]+4243563512&4294967295,k=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(k^S))+M[7]+1735328473&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^S&(N^k))+M[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(C^N^k)+M[5]+4294588738&4294967295,S=C+(R<<4&4294967295|R>>>28),R=k+(S^C^N)+M[8]+2272392833&4294967295,k=S+(R<<11&4294967295|R>>>21),R=N+(k^S^C)+M[11]+1839030562&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^S)+M[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^k)+M[1]+2763975236&4294967295,S=C+(R<<4&4294967295|R>>>28),R=k+(S^C^N)+M[4]+1272893353&4294967295,k=S+(R<<11&4294967295|R>>>21),R=N+(k^S^C)+M[7]+4139469664&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^S)+M[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^k)+M[13]+681279174&4294967295,S=C+(R<<4&4294967295|R>>>28),R=k+(S^C^N)+M[0]+3936430074&4294967295,k=S+(R<<11&4294967295|R>>>21),R=N+(k^S^C)+M[3]+3572445317&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^S)+M[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^k)+M[9]+3654602809&4294967295,S=C+(R<<4&4294967295|R>>>28),R=k+(S^C^N)+M[12]+3873151461&4294967295,k=S+(R<<11&4294967295|R>>>21),R=N+(k^S^C)+M[15]+530742520&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^S)+M[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(N^(C|~k))+M[0]+4096336452&4294967295,S=C+(R<<6&4294967295|R>>>26),R=k+(C^(S|~N))+M[7]+1126891415&4294967295,k=S+(R<<10&4294967295|R>>>22),R=N+(S^(k|~C))+M[14]+2878612391&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~S))+M[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~k))+M[12]+1700485571&4294967295,S=C+(R<<6&4294967295|R>>>26),R=k+(C^(S|~N))+M[3]+2399980690&4294967295,k=S+(R<<10&4294967295|R>>>22),R=N+(S^(k|~C))+M[10]+4293915773&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~S))+M[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~k))+M[8]+1873313359&4294967295,S=C+(R<<6&4294967295|R>>>26),R=k+(C^(S|~N))+M[15]+4264355552&4294967295,k=S+(R<<10&4294967295|R>>>22),R=N+(S^(k|~C))+M[6]+2734768916&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~S))+M[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~k))+M[4]+4149444226&4294967295,S=C+(R<<6&4294967295|R>>>26),R=k+(C^(S|~N))+M[11]+3174756917&4294967295,k=S+(R<<10&4294967295|R>>>22),R=N+(S^(k|~C))+M[2]+718787259&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~S))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+k&4294967295}r.prototype.v=function(I,S){S===void 0&&(S=I.length);const C=S-this.blockSize,M=this.C;let N=this.h,k=0;for(;k<S;){if(N==0)for(;k<=C;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<S;)if(M[N++]=I.charCodeAt(k++),N==this.blockSize){l(this,M),N=0;break}}else for(;k<S;)if(M[N++]=I[k++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=S},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)I[S++]=this.g[C]>>>M&255;return I};function h(I,S){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function d(I,S){this.h=S;const C=[];let M=!0;for(let N=I.length-1;N>=0;N--){const k=I[N]|0;M&&k==S||(C[N]=k,M=!1)}this.g=C}var p={};function v(I){return-128<=I&&I<128?h(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return Z(_(-I));const S=[];let C=1;for(let M=0;I>=C;M++)S[M]=I/C|0,C*=4294967296;return new d(S,0)}function A(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return Z(A(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(S,8));let M=b;for(let k=0;k<I.length;k+=8){var N=Math.min(8,I.length-k);const R=parseInt(I.substring(k,k+N),S);N<8?(N=_(Math.pow(S,N)),M=M.j(N).add(_(R))):(M=M.j(C),M=M.add(_(R)))}return M}var b=v(0),V=v(1),F=v(16777216);a=d.prototype,a.m=function(){if(et(this))return-Z(this).m();let I=0,S=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);I+=(M>=0?M:4294967296+M)*S,S*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(et(this))return"-"+Z(this).toString(I);const S=_(Math.pow(I,6));var C=this;let M="";for(;;){const N=Ft(C,S).g;C=ht(C,N.j(S));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,J(C))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function et(I){return I.h==-1}a.l=function(I){return I=ht(this,I),et(I)?-1:J(I)?0:1};function Z(I){const S=I.g.length,C=[];for(let M=0;M<S;M++)C[M]=~I.g[M];return new d(C,~I.h).add(V)}a.abs=function(){return et(this)?Z(this):this},a.add=function(I){const S=Math.max(this.g.length,I.g.length),C=[];let M=0;for(let N=0;N<=S;N++){let k=M+(this.i(N)&65535)+(I.i(N)&65535),R=(k>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);M=R>>>16,k&=65535,R&=65535,C[N]=R<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ht(I,S){return I.add(Z(S))}a.j=function(I){if(J(this)||J(I))return b;if(et(this))return et(I)?Z(this).j(Z(I)):Z(Z(this).j(I));if(et(I))return Z(this.j(Z(I)));if(this.l(F)<0&&I.l(F)<0)return _(this.m()*I.m());const S=this.g.length+I.g.length,C=[];for(var M=0;M<2*S;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<I.g.length;N++){const k=this.i(M)>>>16,R=this.i(M)&65535,ie=I.i(N)>>>16,we=I.i(N)&65535;C[2*M+2*N]+=R*we,vt(C,2*M+2*N),C[2*M+2*N+1]+=k*we,vt(C,2*M+2*N+1),C[2*M+2*N+1]+=R*ie,vt(C,2*M+2*N+1),C[2*M+2*N+2]+=k*ie,vt(C,2*M+2*N+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new d(C,0)};function vt(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function dt(I,S){this.g=I,this.h=S}function Ft(I,S){if(J(S))throw Error("division by zero");if(J(I))return new dt(b,b);if(et(I))return S=Ft(Z(I),S),new dt(Z(S.g),Z(S.h));if(et(S))return S=Ft(I,Z(S)),new dt(Z(S.g),S.h);if(I.g.length>30){if(et(I)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var C=V,M=S;M.l(I)<=0;)C=$t(C),M=$t(M);var N=Ut(C,1),k=Ut(M,1);for(M=Ut(M,2),C=Ut(C,2);!J(M);){var R=k.add(M);R.l(I)<=0&&(N=N.add(C),k=R),M=Ut(M,1),C=Ut(C,1)}return S=ht(I,N.j(S)),new dt(N,S)}for(N=b;I.l(S)>=0;){for(C=Math.max(1,Math.floor(I.m()/S.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=_(C),R=k.j(S);et(R)||R.l(I)>0;)C-=M,k=_(C),R=k.j(S);J(k)&&(k=V),N=N.add(k),I=ht(I,R)}return new dt(N,I)}a.B=function(I){return Ft(this,I).h},a.and=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)&I.i(M);return new d(C,this.h&I.h)},a.or=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)|I.i(M);return new d(C,this.h|I.h)},a.xor=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)^I.i(M);return new d(C,this.h^I.h)};function $t(I){const S=I.g.length+1,C=[];for(let M=0;M<S;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(C,I.h)}function Ut(I,S){const C=S>>5;S%=32;const M=I.g.length-C,N=[];for(let k=0;k<M;k++)N[k]=S>0?I.i(k+C)>>>S|I.i(k+C+1)<<32-S:I.i(k+C);return new d(N,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,mE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Hs=d}).apply(typeof z_<"u"?z_:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gE,fl,pE,Ac,Hd,yE,_E,vE;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var y=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in y))break t;y=y[L]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var $=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)$[Et-2]=arguments[Et];return m.prototype[L].apply(T,$)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const B=L.length||0;u.length=y+B;for(let $=0;$<B;$++)u[y+$]=L[$]}else u.push(L)}}class et{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,y){const T=dt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new et(()=>new Ft,u=>u.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,Ut=!1,I=new vt,S=()=>{const u=Promise.resolve(void 0);$t=()=>{u.then(C)}};function C(){for(var u;u=ht();){try{u.h.call(u.g)}catch(y){Z(y)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ut=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ie,N),ie.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),j=0;function W(u,m,y,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=L,this.key=++j,this.da=this.fa=!1}function lt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function qt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function O(u){const m={};for(const y in u)m[y]=u[y];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let y,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(y in T)u[y]=T[y];for(let B=0;B<K.length;B++)y=K[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,y,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const $=At(u,m,T,L);return $>-1?(m=u[$],y||(m.fa=!1)):(m=new W(m,this.src,B,!!T,L),m.fa=y,u.push(m)),m};function gt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(lt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function At(u,m,y,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==T)return L}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),Ce={};function se(u,m,y,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],y,T,L);return null}return y=oo(y),u&&u[we]?u.J(m,y,p(T)?!!T.capture:!1,L):er(u,m,y,!1,T,L)}function er(u,m,y,T,L,B){if(!m)throw Error("Invalid event type");const $=p(L)?!!L.capture:!!L;let Et=nr(u);if(Et||(u[Mt]=Et=new it(u)),y=Et.add(m,y,T,$,B),y.proxy)return y;if(T=jr(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)k||(L=$),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Zn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function jr(){function u(y){return m.call(u.src,u.listener,y)}const m=ro;return u}function Gr(u,m,y,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Gr(u,m[B],y,T,L);else T=p(T)?!!T.capture:!!T,y=oo(y),u&&u[we]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],y=At(m,y,T,L),y>-1&&(lt(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=nr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,y,T,L)),(y=u>-1?m[u]:null)&&Fr(y))}function Fr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])gt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Zn(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=nr(m))?(gt(y,u),y.h==0&&(y.src=null,m[Mt]=null)):lt(u)}}}function Zn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function ro(u,m){if(u.da)u=!0;else{m=new ie(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&Fr(u),u=y.call(T,m)}return u}function nr(u){return u=u[Mt],u instanceof it?u:null}var ao="__closure_events_fn_"+(Math.random()*1e9>>>0);function oo(u){return typeof u=="function"?u:(u[ao]||(u[ao]=function(m){return u.handleEvent(m)}),u[ao])}function ge(){M.call(this),this.i=new it(this),this.M=this,this.G=null}b(ge,M),ge.prototype[we]=!0,ge.prototype.removeEventListener=function(u,m,y,T){Gr(this,u,m,y,T)};function Ie(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),tt(m,L)}L=!0;let B,$;if(y)for($=y.length-1;$>=0;$--)B=m.g=y[$],L=ts(B,T,!0,m)&&L;if(B=m.g=u,L=ts(B,T,!0,m)&&L,L=ts(B,T,!1,m)&&L,y)for($=0;$<y.length;$++)B=m.g=y[$],L=ts(B,T,!1,m)&&L}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)lt(y[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ge.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function ts(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const $=m[B];if($&&!$.da&&$.capture==y){const Et=$.listener,he=$.ha||$.src;$.fa&&gt(u.i,$),L=Et.call(he,T)!==!1&&L}}return L&&!T.defaultPrevented}function Eh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ql(u){u.g=Eh(()=>{u.g=null,u.i&&(u.i=!1,ql(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends M{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ql(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ir(u){M.call(this),this.h=u,this.g={}}b(ir,M);var lo=[];function uo(u){kt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Fr(m)},u),u.g={}}ir.prototype.N=function(){ir.Z.N.call(this),uo(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var es=d.JSON.stringify,Th=d.JSON.parse,Hl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function jl(){}function Gl(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xe(){N.call(this,"d")}b(xe,N);function Tn(){N.call(this,"c")}b(Tn,N);var ce={},Fl=null;function Qr(){return Fl=Fl||new ge}ce.Ia="serverreachability";function Ql(u){N.call(this,ce.Ia,u)}b(Ql,N);function $n(u){const m=Qr();Ie(m,new Ql(m))}ce.STAT_EVENT="statevent";function sr(u,m){N.call(this,ce.STAT_EVENT,u),this.stat=m}b(sr,N);function pe(u){const m=Qr();Ie(m,new sr(m,u))}ce.Ja="timingevent";function Jn(u,m){N.call(this,ce.Ja,u),this.size=m}b(Jn,N);function Wn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Ah(u,m,y,T,L,B){u.info(function(){if(u.g)if(B){var $="",Et=B.split("&");for(let Pt=0;Pt<Et.length;Pt++){var he=Et[Pt].split("=");if(he.length>1){const re=he[0];he=he[1];const Rn=re.split("_");$=Rn.length>=2&&Rn[1]=="type"?$+(re+"="+he+"&"):$+(re+"=redacted&")}}}else $=null;else $=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+y+`
`+$})}function Kl(u,m,y,T,L,B,$){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+y+`
`+B+" "+$})}function ti(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sh(u,y)+(T?" "+T:"")})}function rr(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Sh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var y=B[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let $=1;$<T.length;$++)T[$]=""}}}}return es(B)}catch{return m}}var ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ho;function or(){}b(or,jl),or.prototype.g=function(){return new XMLHttpRequest},ho=new or;function Ci(u){return encodeURIComponent(String(u))}function Yl(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function xn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new ir(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var ye={},Ve={};function ei(u,m,y){u.M=1,u.A=lr(ve(m)),u.u=y,u.R=!0,Kr(u,null)}function Kr(u,m){u.F=Date.now(),ni(u),u.B=ve(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),$r(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Pn,u.g=uu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Je(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(lo[0]=L.toString()),L=lo);for(let B=0;B<L.length;B++){const $=se(y,L[B],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),Ah(u.i,u.v,u.B,u.l,u.S,u.u)}xn.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},xn.prototype.Y=function(u){try{if(u==this.g)t:{const Et=qn(this.g),he=this.g.ya(),Pt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||Et!=4||he==7||(he==8||Pt<=0?$n(3):$n(2)),ii(this);var m=this.g.ca();this.X=m;var y=bh(this);if(this.o=m==200,Kl(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ti(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,si(this,u);else{this.o=!1,this.m=3,pe(12),hn(this),An(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<y.length;)if(re=Zl(this,y),re==Ve){Et==4&&(this.m=4,pe(14),u=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ye){this.m=4,pe(15),ti(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ti(this.i,this.l,re,null),si(this,re);if(Xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||y.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)ti(this.i,this.l,y,"[Invalid Chunked Response]"),hn(this),An(this);else if(y.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Co($),$.P=!0,pe(11))}}else ti(this.i,this.l,y,null),si(this,y);Et==4&&hn(this),this.o&&!this.K&&(Et==4?ru(this.j,this):(this.o=!1,ni(this)))}else Di(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),hn(this),An(this)}}}catch{}};function bh(u){if(!Xl(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let y="";const T=m.length,L=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),An(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,y+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Xl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Zl(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Ve:(y=Number(m.substring(y,T)),isNaN(y)?ye:(T+=1,T+y>m.length?Ve:(m=m.slice(T,T+y),u.C=T+y,m)))}xn.prototype.cancel=function(){this.K=!0,hn(this)};function ni(u){u.T=Date.now()+u.H,Yr(u,u.H)}function Yr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Wn(_(u.aa,u),m)}function ii(u){u.D&&(d.clearTimeout(u.D),u.D=null)}xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(rr(this.i,this.B),this.M!=2&&($n(),pe(17)),hn(this),this.m=2,An(this)):Yr(this,this.T-u)};function An(u){u.j.I==0||u.K||ru(u.j,u)}function hn(u){ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,uo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function si(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||ai(y.h,u))){if(!u.L&&ai(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)na(y),us(y);else break t;gr(y),pe(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=Wn(_(y.Va,y),6e3));ri(y.h)<=1&&y.ta&&(y.ta=void 0)}else fi(y,11)}else if((u.L||y.g==u)&&na(y),!R(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let Pt=L[m];const re=Pt[0];if(!(re<=y.K))if(y.K=re,Pt=Pt[1],y.I==2)if(Pt[0]=="c"){y.M=Pt[1],y.ba=Pt[2];const Rn=Pt[3];Rn!=null&&(y.ka=Rn,y.j.info("VER="+y.ka));const di=Pt[4];di!=null&&(y.za=di,y.j.info("SVER="+y.za));const Hn=Pt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(T=1.5*Hn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const jn=u.g;if(jn){const pr=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pr){var B=T.h;B.g||pr.indexOf("spdy")==-1&&pr.indexOf("quic")==-1&&pr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(go(B,B.h),B.h=null))}if(T.G){const ia=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;ia&&(T.wa=ia,Ht(T.J,T.G,ia))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var $=u;if(T.na=lu(T,T.L?T.ba:null,T.W),$.L){po(T.h,$);var Et=$,he=T.O;he&&(Et.H=he),Et.D&&(ii(Et),ni(Et)),T.g=$}else iu(T);y.i.length>0&&hi(y)}else Pt[0]!="stop"&&Pt[0]!="close"||fi(y,7);else y.I==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?fi(y,7):Ro(y):Pt[0]!="noop"&&y.l&&y.l.qa(Pt),y.A=0)}}$n(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function fo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ri(u){return u.h?1:u.g?u.g.size:0}function ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function go(u,m){u.g?u.g.add(m):u.h=m}function po(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fo.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return F(u.i)}var $l=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xr(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let L,B=null;T>=0?(L=u[y].substring(0,T),B=u[y].substring(T+1)):L=u[y],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,ns(this,u.u),this.h=u.h,_o(this,eu(u.i)),this.m=u.m):u&&(m=String(u).match($l))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=oi(m[2]||""),this.g=oi(m[3]||"",!0),ns(this,m[4]),this.h=oi(m[5]||"",!0),_o(this,m[6]||"",!0),this.m=oi(m[7]||"")):(this.l=!1,this.i=new ss(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ur(m,Zr,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ur(m,Zr,!0),"@"),u.push(Ci(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ur(y,y.charAt(0)=="/"?vo:Jl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ur(y,Wl)),u.join("")},fn.prototype.resolve=function(u){const m=ve(this);let y=!!u.j;y?Ue(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)ns(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let $=0;$<L.length;){const Et=L[$++];Et=="."?T&&$==L.length&&B.push(""):Et==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&$==L.length&&B.push("")):(B.push(Et),T=!0)}T=B.join("/")}else T=L}return y?m.h=T:y=u.i.toString()!=="",y?_o(m,eu(u.i)):y=!!u.m,y&&(m.m=u.m),m};function ve(u){return new fn(u)}function Ue(u,m,y){u.j=y?oi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ns(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function _o(u,m,y){m instanceof ss?(u.i=m,Jr(u.i,u.l)):(y||(m=ur(m,is)),u.i=new ss(m,u.l))}function Ht(u,m,y){u.i.set(m,y)}function lr(u){return Ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function oi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ur(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,en),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zr=/[#\/\?@]/g,Jl=/[#\?:]/g,vo=/[#\?]/g,is=/[#\?@]/g,Wl=/#/g;function ss(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Xr(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}a=ss.prototype,a.add=function(u,m){nn(this),this.i=null,u=rs(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function tu(u,m){nn(u),m=rs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Eo(u,m){return nn(u),m=rs(u,m),u.g.has(m)}a.forEach=function(u,m){nn(this),this.g.forEach(function(y,T){y.forEach(function(L){u.call(m,L,T,this)},this)},this)};function To(u,m){nn(u);let y=[];if(typeof m=="string")Eo(u,m)&&(y=y.concat(u.g.get(rs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}a.set=function(u,m){return nn(this),this.i=null,u=rs(this,u),Eo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=To(this,u),u.length>0?String(u[0]):m):m};function $r(u,m,y){tu(u,m),y.length>0&&(u.i=null,u.g.set(rs(u,m),F(y)),u.h+=y.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const L=Ci(y);y=To(this,y);for(let B=0;B<y.length;B++){let $=L;y[B]!==""&&($+="="+Ci(y[B])),u.push($)}}return this.i=u.join("&")};function eu(u){const m=new ss;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function rs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Jr(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(y,T){const L=T.toLowerCase();T!=L&&(tu(this,T),$r(this,L,y))},u)),u.j=m}function zn(u,m){const y=new Ln;if(d.Image){const T=new Image;T.onload=A(Sn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Sn,y,"TestLoadImage: error",!1,m,T),T.onabort=A(Sn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Sn,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ao(u,m){const y=new Ln,T=new AbortController,L=setTimeout(()=>{T.abort(),Sn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Sn(y,"TestPingServer: ok",!0,m):Sn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Sn(y,"TestPingServer: error",!1,m)})}function Sn(u,m,y,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(y)}catch{}}function as(){this.g=new Hl}function li(u){this.i=u.Sb||null,this.h=u.ab||!1}b(li,jl),li.prototype.g=function(){return new cr(this.i,this.h)};function cr(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(cr,ge),a=cr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,os(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?os(this):Bn(this),this.readyState==3&&Wr(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,os(this))},a.Na=function(u){this.g&&(this.response=u,os(this))},a.ga=function(){this.g&&os(this)};function os(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return kt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function hr(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=bn(y),typeof u=="string"?y!=null&&Ci(y):Ht(u,m,y))}function Qt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Qt,ge);var ui=/^https?$/i,So=["POST","PUT"];a=Qt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ho.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){fr(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)y.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(So,m,void 0)>=0)||T||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,$]of y)this.g.setRequestHeader(B,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){fr(this,B)}};function fr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,bo(u),Ii(u)}function bo(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Ii(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),Qt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?dr(this):this.Xa())},a.Xa=function(){dr(this)};function dr(u){if(u.h&&typeof h<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),qn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=B===0){let $=String(u.D).match($l)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),T=!ui.test($?$.toLowerCase():"")}y=T}if(y)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var L=qn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",bo(u)}}finally{Ii(u)}}}}function Ii(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Ie(u,"ready");try{y.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Th(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var y=Yl(u[T]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[L]||[];m[L]=B,B.push(y)}qt(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ls(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ci("baseRetryDelayMs",5e3,u),this.Za=ci("retryDelaySeedMs",1e4,u),this.Ta=ci("forwardChannelMaxRetries",2,u),this.va=ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new fo(u&&u.concurrentRequestLimit),this.Ba=new as,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ls.prototype,a.ka=8,a.I=1,a.connect=function(u,m,y,T){pe(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=lu(this,null,this.W),hi(this)};function Ro(u){if(ta(u),u.I==3){var m=u.V++,y=ve(u.J);if(Ht(y,"SID",u.M),Ht(y,"RID",m),Ht(y,"TYPE","terminate"),mr(u,y),m=new xn(u,u.j,m),m.M=2,m.A=lr(ve(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=uu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ni(m)}ou(u)}function us(u){u.g&&(Co(u),u.g.cancel(),u.g=null)}function ta(u){us(u),u.v&&(d.clearTimeout(u.v),u.v=null),na(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function hi(u){if(!mo(u.h)&&!u.m){u.m=!0;var m=u.Ea;$t||S(),Ut||($t(),Ut=!0),I.add(m,u),u.D=0}}function ea(u,m){return ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Wn(_(u.Ea,u,m),au(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new xn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),tt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=nu(this,L,m),y=ve(this.J),Ht(y,"RID",u),Ht(y,"CVER",22),this.G&&Ht(y,"X-HTTP-Session-Id",this.G),mr(this,y),B&&(this.R?m="headers="+Ci(bn(B))+"&"+m:this.u&&hr(y,this.u,B)),go(this.h,L),this.Ra&&Ht(y,"TYPE","init"),this.S?(Ht(y,"$req",m),Ht(y,"SID","null"),L.U=!0,ei(L,y,null)):ei(L,y,m),this.I=2}}else this.I==3&&(u?wo(this,u):this.i.length==0||mo(this.h)||wo(this))};function wo(u,m){var y;m?y=m.l:y=u.V++;const T=ve(u.J);Ht(T,"SID",u.M),Ht(T,"RID",y),Ht(T,"AID",u.K),mr(u,T),u.u&&u.o&&hr(T,u.u,u.o),y=new xn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=nu(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),go(u.h,y),ei(y,T,m)}function mr(u,m){u.H&&kt(u.H,function(y,T){Ht(m,T,y)}),u.l&&kt({},function(y,T){Ht(m,T,y)})}function nu(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Et=-1;for(;;){const he=["count="+y];Et==-1?y>0?(Et=L[0].g,he.push("ofs="+Et)):Et=0:he.push("ofs="+Et);let Pt=!0;for(let re=0;re<y;re++){var B=L[re].g;const Rn=L[re].map;if(B-=Et,B<0)Et=Math.max(0,L[re].g-100),Pt=!1;else try{B="req"+B+"_"||"";try{var $=Rn instanceof Map?Rn:Object.entries(Rn);for(const[di,Hn]of $){let jn=Hn;p(Hn)&&(jn=es(Hn)),he.push(B+di+"="+encodeURIComponent(jn))}}catch(di){throw he.push(B+"type="+encodeURIComponent("_badmap")),di}}catch{T&&T(Rn)}}if(Pt){$=he.join("&");break t}}$=void 0}return u=u.i.splice(0,y),m.G=u,$}function iu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;$t||S(),Ut||($t(),Ut=!0),I.add(m,u),u.A=0}}function gr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Wn(_(u.Da,u),au(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Wn(_(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),us(this),su(this))};function Co(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function su(u){u.g=new xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Ht(m,"RID","rpc"),Ht(m,"SID",u.M),Ht(m,"AID",u.K),Ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ht(m,"TO",u.ia),Ht(m,"TYPE","xmlhttp"),mr(u,m),u.u&&u.o&&hr(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=lr(ve(m)),y.u=null,y.R=!0,Kr(y,u)}a.Va=function(){this.C!=null&&(this.C=null,us(this),gr(this),pe(19))};function na(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ru(u,m){var y=null;if(u.g==m){na(u),Co(u),u.g=null;var T=2}else if(ai(u.h,m))y=m.G,po(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Qr(),Ie(T,new Jn(T,y)),hi(u)}else iu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ea(u,m)||T==2&&gr(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:fi(u,5);break;case 4:fi(u,10);break;case 3:fi(u,6);break;default:fi(u,2)}}}function au(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function fi(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const L=!T;T=new fn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),lr(T),L?zn(T.toString(),y):Ao(T.toString(),y)}else pe(2);u.I=0,u.l&&u.l.pa(m),ou(u),ta(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function ou(u){if(u.I=0,u.ja=[],u.l){const m=yo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function lu(u,m,y){var T=y instanceof fn?ve(y):new fn(y);if(T.g!="")m&&(T.g=m+"."+T.g),ns(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new fn(null);T&&Ue(B,T),m&&(B.g=m),L&&ns(B,L),y&&(B.h=y),T=B}return y=u.G,m=u.wa,y&&m&&Ht(T,y,m),Ht(T,"VER",u.ka),mr(u,T),T}function uu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Qt(new li({ab:y})):new Qt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}a=cu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function cs(){}cs.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ge.call(this),this.g=new ls(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ni(this)}b(We,ge),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Ro(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=es(u),u=y);m.i.push(new _e(m.Ya++,u)),m.I==3&&hi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,We.Z.N.call(this)};function hu(u){xe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(hu,xe);function fu(){Tn.call(this),this.status=1}b(fu,Tn);function Ni(u){this.g=u}b(Ni,cu),Ni.prototype.ra=function(){Ie(this.g,"a")},Ni.prototype.qa=function(u){Ie(this.g,new hu(u))},Ni.prototype.pa=function(u){Ie(this.g,new fu)},Ni.prototype.oa=function(){Ie(this.g,"b")},cs.prototype.createWebChannel=cs.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,vE=function(){return new cs},_E=function(){return Qr()},yE=ce,Hd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,Ac=ar,co.COMPLETE="complete",pE=co,Gl.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",ge.prototype.listen=ge.prototype.J,fl=Gl,Qt.prototype.listenOnce=Qt.prototype.K,Qt.prototype.getLastError=Qt.prototype.Ha,Qt.prototype.getLastErrorCode=Qt.prototype.ya,Qt.prototype.getStatus=Qt.prototype.ca,Qt.prototype.getResponseJson=Qt.prototype.La,Qt.prototype.getResponseText=Qt.prototype.la,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Fa,gE=Qt}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});const B_="@firebase/firestore",q_="4.9.3";class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");let to="12.7.0";const Pr=new um("@firebase/firestore");function Va(){return Pr.logLevel}function nt(a,...t){if(Pr.logLevel<=It.DEBUG){const i=t.map(fm);Pr.debug(`Firestore (${to}): ${a}`,...i)}}function Xi(a,...t){if(Pr.logLevel<=It.ERROR){const i=t.map(fm);Pr.error(`Firestore (${to}): ${a}`,...i)}}function Fa(a,...t){if(Pr.logLevel<=It.WARN){const i=t.map(fm);Pr.warn(`Firestore (${to}): ${a}`,...i)}}function fm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function ft(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,EE(a,r,i)}function EE(a,t,i){let r=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Xi(r),new Error(r)}function Bt(a,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||EE(t,l,r)}function _t(a,t){return a}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Wi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class TE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Tb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class Ab{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Sb{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Bt(this.o===void 0,42304);let r=this.i;const l=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ur,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ur)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt(typeof r.accessToken=="string",31837,{l:r}),new TE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Bt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class bb{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Rb{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new bb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class H_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Bt(this.o===void 0,3512);const r=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>r(h)))};const l=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new H_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Bt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new H_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Cb(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class dm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=Cb(40);for(let h=0;h<l.length;++h)r.length<20&&l[h]<i&&(r+=t.charAt(l[h]%62))}return r}}function Dt(a,t){return a<t?-1:a>t?1:0}function jd(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const l=a.charAt(r),h=t.charAt(r);if(l!==h)return Nd(l)===Nd(h)?Dt(l,h):Nd(l)?1:-1}return Dt(a.length,t.length)}const Ib=55296,Db=57343;function Nd(a){const t=a.charCodeAt(0);return t>=Ib&&t<=Db}function Qa(a,t,i){return a.length===t.length&&a.every(((r,l)=>i(r,t[l])))}const j_="__name__";class _i{constructor(t,i,r){i===void 0?i=0:i>t.length&&ft(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&ft(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return _i.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof _i?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const h=_i.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return Dt(t.length,i.length)}static compareSegments(t,i){const r=_i.isNumericId(t),l=_i.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?_i.extractNumericId(t).compare(_i.extractNumericId(i)):jd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hs.fromString(t.substring(4,t.length-2))}}class te extends _i{construct(t,i,r){return new te(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new at(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const Nb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends _i{construct(t,i,r){return new Ge(t,i,r)}static isValidIdentifier(t){return Nb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j_}static keyField(){return new Ge([j_])}static fromServerFormat(t){const i=[];let r="",l=0;const h=()=>{if(r.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new at(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new at(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(h(),l++)}if(h(),d)throw new at(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class ut{constructor(t){this.path=t}static fromPath(t){return new ut(te.fromString(t))}static fromName(t){return new ut(te.fromString(t).popFirst(5))}static empty(){return new ut(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new te(t.slice()))}}function AE(a,t,i){if(!i)throw new at(X.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function Ob(a,t,i,r){if(t===!0&&r===!0)throw new at(X.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function G_(a){if(!ut.isDocumentKey(a))throw new at(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function F_(a){if(ut.isDocumentKey(a))throw new at(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function SE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function mm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":ft(12329,{type:typeof a})}function js(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new at(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=mm(a);throw new at(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function Re(a,t){const i={typeString:a};return t&&(i.value=t),i}function Vl(a,t){if(!SE(a))throw new at(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,h="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new at(X.INVALID_ARGUMENT,i);return!0}const Q_=-62135596800,K_=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*K_);return new ee(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Q_)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K_}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Vl(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Q_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:Re("string",ee._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class pt{static fromTimestamp(t){return new pt(t)}static min(){return new pt(new ee(0,0))}static max(){return new pt(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Sl=-1;function Mb(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=pt.fromTimestamp(r===1e9?new ee(i+1,0):new ee(i,r));return new Qs(l,ut.empty(),t)}function Vb(a){return new Qs(a.readTime,a.key,Sl)}class Qs{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Qs(pt.min(),ut.empty(),Sl)}static max(){return new Qs(pt.max(),ut.empty(),Sl)}}function Ub(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ut.comparator(a.documentKey,t.documentKey),i!==0?i:Dt(a.largestBatchId,t.largestBatchId))}const kb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function eo(a){if(a.code!==X.FAILED_PRECONDITION||a.message!==kb)throw a;nt("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((r,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(r,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,r)=>{i(t)}))}static reject(t){return new Y(((i,r)=>{r(t)}))}static waitFor(t){return new Y(((i,r)=>{let l=0,h=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++h,d&&h===l&&i()}),(v=>r(v)))})),d=!0,h===l&&i()}))}static or(t){let i=Y.resolve(!1);for(const r of t)i=i.next((l=>l?Y.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,h)=>{r.push(i.call(this,l,h))})),this.waitFor(r)}static mapArray(t,i){return new Y(((r,l)=>{const h=t.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(t[_]).next((A=>{d[_]=A,++p,p===h&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Y(((r,l)=>{const h=()=>{t()===!0?i().next((()=>{h()}),l):r()};h()}))}}function xb(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function no(a){return a.name==="IndexedDbTransactionError"}class Jc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Jc.ce=-1;const gm=-1;function Wc(a){return a==null}function Uc(a){return a===0&&1/a==-1/0}function Pb(a){return typeof a=="number"&&Number.isInteger(a)&&!Uc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const bE="";function zb(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=Y_(t)),t=Bb(a.get(i),t);return Y_(t)}function Bb(a,t){let i=t;const r=a.length;for(let l=0;l<r;l++){const h=a.charAt(l);switch(h){case"\0":i+="";break;case bE:i+="";break;default:i+=h}}return i}function Y_(a){return a+bE+""}function X_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Ws(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function RE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||je.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new yc(this.root,t,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new yc(this.root,t,this.comparator,!0)}}class yc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?r(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,i,r,l,h){this.key=t,this.value=i,this.color=r??je.RED,this.left=l??je.EMPTY,this.right=h??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,h){return new je(t??this.key,i??this.value,r??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const h=r(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,r),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return je.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ft(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ft(27949);return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw ft(57766)}get value(){throw ft(16141)}get color(){throw ft(16727)}get left(){throw ft(29726)}get right(){throw ft(36894)}copy(t,i,r,l,h){return this}insert(t,i,r){return new je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Z_(this.data.getIterator())}getIteratorFrom(t){return new Z_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=r.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class Z_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class En{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new En([])}unionWith(t){let i=new Me(Ge.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new En(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Qa(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class wE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new wE("Invalid base64 string: "+h):h}})(t);return new Fe(i)}static fromUint8Array(t){const i=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new Fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const qb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(a){if(Bt(!!a,39018),typeof a=="string"){let t=0;const i=qb.exec(a);if(Bt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:me(a.seconds),nanos:me(a.nanos)}}function me(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Ys(a){return typeof a=="string"?Fe.fromBase64String(a):Fe.fromUint8Array(a)}const CE="server_timestamp",IE="__type__",DE="__previous_value__",NE="__local_write_time__";function pm(a){return(a?.mapValue?.fields||{})[IE]?.stringValue===CE}function th(a){const t=a.mapValue.fields[DE];return pm(t)?th(t):t}function bl(a){const t=Ks(a.mapValue.fields[NE].timestampValue);return new ee(t.seconds,t.nanos)}class Hb{constructor(t,i,r,l,h,d,p,v,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const kc="(default)";class Rl{constructor(t,i){this.projectId=t,this.database=i||kc}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===kc}isEqual(t){return t instanceof Rl&&t.projectId===this.projectId&&t.database===this.database}}const OE="__type__",jb="__max__",_c={mapValue:{}},ME="__vector__",Lc="value";function Xs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?pm(a)?4:Fb(a)?9007199254740991:Gb(a)?10:11:ft(28295,{value:a})}function Ri(a,t){if(a===t)return!0;const i=Xs(a);if(i!==Xs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return bl(a).isEqual(bl(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Ks(l.timestampValue),p=Ks(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,h){return Ys(l.bytesValue).isEqual(Ys(h.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,h){return me(l.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(h.geoPointValue.longitude)})(a,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return me(l.integerValue)===me(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=me(l.doubleValue),p=me(h.doubleValue);return d===p?Uc(d)===Uc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return Qa(a.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},p=h.mapValue.fields||{};if(X_(d)!==X_(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ri(d[v],p[v])))return!1;return!0})(a,t);default:return ft(52216,{left:a})}}function wl(a,t){return(a.values||[]).find((i=>Ri(i,t)))!==void 0}function Ka(a,t){if(a===t)return 0;const i=Xs(a),r=Xs(t);if(i!==r)return Dt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(a.booleanValue,t.booleanValue);case 2:return(function(h,d){const p=me(h.integerValue||h.doubleValue),v=me(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(a,t);case 3:return $_(a.timestampValue,t.timestampValue);case 4:return $_(bl(a),bl(t));case 5:return jd(a.stringValue,t.stringValue);case 6:return(function(h,d){const p=Ys(h),v=Ys(d);return p.compareTo(v)})(a.bytesValue,t.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=Dt(p[_],v[_]);if(A!==0)return A}return Dt(p.length,v.length)})(a.referenceValue,t.referenceValue);case 8:return(function(h,d){const p=Dt(me(h.latitude),me(d.latitude));return p!==0?p:Dt(me(h.longitude),me(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return J_(a.arrayValue,t.arrayValue);case 10:return(function(h,d){const p=h.fields||{},v=d.fields||{},_=p[Lc]?.arrayValue,A=v[Lc]?.arrayValue,b=Dt(_?.values?.length||0,A?.values?.length||0);return b!==0?b:J_(_,A)})(a.mapValue,t.mapValue);case 11:return(function(h,d){if(h===_c.mapValue&&d===_c.mapValue)return 0;if(h===_c.mapValue)return 1;if(d===_c.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let b=0;b<v.length&&b<A.length;++b){const V=jd(v[b],A[b]);if(V!==0)return V;const F=Ka(p[v[b]],_[A[b]]);if(F!==0)return F}return Dt(v.length,A.length)})(a.mapValue,t.mapValue);default:throw ft(23264,{he:i})}}function $_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Dt(a,t);const i=Ks(a),r=Ks(t),l=Dt(i.seconds,r.seconds);return l!==0?l:Dt(i.nanos,r.nanos)}function J_(a,t){const i=a.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const h=Ka(i[l],r[l]);if(h)return h}return Dt(i.length,r.length)}function Ya(a){return Gd(a)}function Gd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Ks(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Ys(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ut.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const h of i.values||[])l?l=!1:r+=",",r+=Gd(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of r)h?h=!1:l+=",",l+=`${d}:${Gd(i.fields[d])}`;return l+"}"})(a.mapValue):ft(61005,{value:a})}function Sc(a){switch(Xs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=th(a);return t?16+Sc(t):16;case 5:return 2*a.stringValue.length;case 6:return Ys(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,h)=>l+Sc(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return Ws(r.fields,((h,d)=>{l+=h.length+Sc(d)})),l})(a.mapValue);default:throw ft(13486,{value:a})}}function Fd(a){return!!a&&"integerValue"in a}function ym(a){return!!a&&"arrayValue"in a}function W_(a){return!!a&&"nullValue"in a}function tv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function bc(a){return!!a&&"mapValue"in a}function Gb(a){return(a?.mapValue?.fields||{})[OE]?.stringValue===ME}function yl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Ws(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=yl(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=yl(a.arrayValue.values[i]);return t}return{...a}}function Fb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===jb}class cn{constructor(t){this.value=t}static empty(){return new cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!bc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=yl(i)}setAll(t){let i=Ge.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=yl(d):l.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,l)}delete(t){const i=this.field(t.popLast());bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){Ws(i,((l,h)=>t[l]=h));for(const l of r)delete t[l]}clone(){return new cn(yl(this.value))}}function VE(a){const t=[];return Ws(a.fields,((i,r)=>{const l=new Ge([i]);if(bc(r)){const h=VE(r.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)})),new En(t)}class Xe{constructor(t,i,r,l,h,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Xe(t,0,pt.min(),pt.min(),pt.min(),cn.empty(),0)}static newFoundDocument(t,i,r,l){return new Xe(t,1,i,pt.min(),r,l,0)}static newNoDocument(t,i){return new Xe(t,2,i,pt.min(),pt.min(),cn.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,pt.min(),pt.min(),cn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xc{constructor(t,i){this.position=t,this.inclusive=i}}function ev(a,t,i){let r=0;for(let l=0;l<a.position.length;l++){const h=t[l],d=a.position[l];if(h.field.isKeyField()?r=ut.comparator(ut.fromName(d.referenceValue),i.key):r=Ka(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function nv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ri(a.position[i],t.position[i]))return!1;return!0}class Pc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Qb(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class UE{}class Ne extends UE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new Yb(t,i,r):i==="array-contains"?new $b(t,r):i==="in"?new Jb(t,r):i==="not-in"?new Wb(t,r):i==="array-contains-any"?new t2(t,r):new Ne(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new Xb(t,r):new Zb(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ka(i,this.value)):i!==null&&Xs(this.value)===Xs(i)&&this.matchesComparison(Ka(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends UE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new wi(t,i)}matches(t){return kE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kE(a){return a.op==="and"}function LE(a){return Kb(a)&&kE(a)}function Kb(a){for(const t of a.filters)if(t instanceof wi)return!1;return!0}function Qd(a){if(a instanceof Ne)return a.field.canonicalString()+a.op.toString()+Ya(a.value);if(LE(a))return a.filters.map((t=>Qd(t))).join(",");{const t=a.filters.map((i=>Qd(i))).join(",");return`${a.op}(${t})`}}function xE(a,t){return a instanceof Ne?(function(r,l){return l instanceof Ne&&r.op===l.op&&r.field.isEqual(l.field)&&Ri(r.value,l.value)})(a,t):a instanceof wi?(function(r,l){return l instanceof wi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((h,d,p)=>h&&xE(d,l.filters[p])),!0):!1})(a,t):void ft(19439)}function PE(a){return a instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ya(i.value)}`})(a):a instanceof wi?(function(i){return i.op.toString()+" {"+i.getFilters().map(PE).join(" ,")+"}"})(a):"Filter"}class Yb extends Ne{constructor(t,i,r){super(t,i,r),this.key=ut.fromName(r.referenceValue)}matches(t){const i=ut.comparator(t.key,this.key);return this.matchesComparison(i)}}class Xb extends Ne{constructor(t,i){super(t,"in",i),this.keys=zE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Zb extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=zE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function zE(a,t){return(t.arrayValue?.values||[]).map((i=>ut.fromName(i.referenceValue)))}class $b extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return ym(i)&&wl(i.arrayValue,this.value)}}class Jb extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&wl(this.value.arrayValue,i)}}class Wb extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!wl(this.value.arrayValue,i)}}class t2 extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!ym(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>wl(this.value.arrayValue,r)))}}class e2{constructor(t,i=null,r=[],l=[],h=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function iv(a,t=null,i=[],r=[],l=null,h=null,d=null){return new e2(a,t,i,r,l,h,d)}function _m(a){const t=_t(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Qd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Wc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ya(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ya(r))).join(",")),t.Te=i}return t.Te}function vm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Qb(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!xE(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!nv(a.startAt,t.startAt)&&nv(a.endAt,t.endAt)}function Kd(a){return ut.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class eh{constructor(t,i=null,r=[],l=[],h=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function n2(a,t,i,r,l,h,d,p){return new eh(a,t,i,r,l,h,d,p)}function Em(a){return new eh(a)}function sv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function i2(a){return a.collectionGroup!==null}function _l(a){const t=_t(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Pc(h,r))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new Pc(Ge.keyField(),r))}return t.Ie}function vi(a){const t=_t(a);return t.Ee||(t.Ee=s2(t,_l(a))),t.Ee}function s2(a,t){if(a.limitType==="F")return iv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Pc(l.field,h)}));const i=a.endAt?new xc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new xc(a.startAt.position,a.startAt.inclusive):null;return iv(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function Yd(a,t,i){return new eh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function nh(a,t){return vm(vi(a),vi(t))&&a.limitType===t.limitType}function BE(a){return`${_m(vi(a))}|lt:${a.limitType}`}function Ua(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>PE(l))).join(", ")}]`),Wc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Ya(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Ya(l))).join(",")),`Target(${r})`})(vi(a))}; limitType=${a.limitType})`}function ih(a,t){return t.isFoundDocument()&&(function(r,l){const h=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ut.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,t)&&(function(r,l){for(const h of _l(r))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(a,t)&&(function(r,l){for(const h of r.filters)if(!h.matches(l))return!1;return!0})(a,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,v){const _=ev(d,p,v);return d.inclusive?_<=0:_<0})(r.startAt,_l(r),l)||r.endAt&&!(function(d,p,v){const _=ev(d,p,v);return d.inclusive?_>=0:_>0})(r.endAt,_l(r),l))})(a,t)}function r2(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function qE(a){return(t,i)=>{let r=!1;for(const l of _l(a)){const h=a2(l,t,i);if(h!==0)return h;r=r||l.field.isKeyField()}return 0}}function a2(a,t,i){const r=a.field.isKeyField()?ut.comparator(t.key,i.key):(function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?Ka(v,_):ft(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return ft(19790,{direction:a.dir})}}class qr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,h]of r)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ws(this.inner,((i,r)=>{for(const[l,h]of r)t(l,h)}))}isEmpty(){return RE(this.inner)}size(){return this.innerSize}}const o2=new oe(ut.comparator);function Zi(){return o2}const HE=new oe(ut.comparator);function dl(...a){let t=HE;for(const i of a)t=t.insert(i.key,i);return t}function jE(a){let t=HE;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Vr(){return vl()}function GE(){return vl()}function vl(){return new qr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const l2=new oe(ut.comparator),u2=new Me(ut.comparator);function Nt(...a){let t=u2;for(const i of a)t=t.add(i);return t}const c2=new Me(Dt);function h2(){return c2}function Tm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(t)?"-0":t}}function FE(a){return{integerValue:""+a}}function f2(a,t){return Pb(t)?FE(t):Tm(a,t)}class sh{constructor(){this._=void 0}}function d2(a,t,i){return a instanceof Cl?(function(l,h){const d={fields:{[IE]:{stringValue:CE},[NE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&pm(h)&&(h=th(h)),h&&(d.fields[DE]=h),{mapValue:d}})(i,t):a instanceof Il?KE(a,t):a instanceof Dl?YE(a,t):(function(l,h){const d=QE(l,h),p=rv(d)+rv(l.Ae);return Fd(d)&&Fd(l.Ae)?FE(p):Tm(l.serializer,p)})(a,t)}function m2(a,t,i){return a instanceof Il?KE(a,t):a instanceof Dl?YE(a,t):i}function QE(a,t){return a instanceof zc?(function(r){return Fd(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(t)?t:{integerValue:0}:null}class Cl extends sh{}class Il extends sh{constructor(t){super(),this.elements=t}}function KE(a,t){const i=XE(t);for(const r of a.elements)i.some((l=>Ri(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Dl extends sh{constructor(t){super(),this.elements=t}}function YE(a,t){let i=XE(t);for(const r of a.elements)i=i.filter((l=>!Ri(l,r)));return{arrayValue:{values:i}}}class zc extends sh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function rv(a){return me(a.integerValue||a.doubleValue)}function XE(a){return ym(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class g2{constructor(t,i){this.field=t,this.transform=i}}function p2(a,t){return a.field.isEqual(t.field)&&(function(r,l){return r instanceof Il&&l instanceof Il||r instanceof Dl&&l instanceof Dl?Qa(r.elements,l.elements,Ri):r instanceof zc&&l instanceof zc?Ri(r.Ae,l.Ae):r instanceof Cl&&l instanceof Cl})(a.transform,t.transform)}class y2{constructor(t,i){this.version=t,this.transformResults=i}}class Xn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Xn}static exists(t){return new Xn(void 0,t)}static updateTime(t){return new Xn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class rh{}function ZE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new Am(a.key,Xn.none()):new Ul(a.key,a.data,Xn.none());{const i=a.data,r=cn.empty();let l=new Me(Ge.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),l=l.add(h)}return new tr(a.key,r,new En(l.toArray()),Xn.none())}}function _2(a,t,i){a instanceof Ul?(function(l,h,d){const p=l.value.clone(),v=ov(l.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof tr?(function(l,h,d){if(!Rc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const p=ov(l.fieldTransforms,h,d.transformResults),v=h.data;v.setAll($E(l)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,t,i):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function El(a,t,i,r){return a instanceof Ul?(function(h,d,p,v){if(!Rc(h.precondition,d))return p;const _=h.value.clone(),A=lv(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,t,i,r):a instanceof tr?(function(h,d,p,v){if(!Rc(h.precondition,d))return p;const _=lv(h.fieldTransforms,v,d),A=d.data;return A.setAll($E(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((b=>b.field)))})(a,t,i,r):(function(h,d,p){return Rc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function v2(a,t){let i=null;for(const r of a.fieldTransforms){const l=t.data.field(r.field),h=QE(r.transform,l||null);h!=null&&(i===null&&(i=cn.empty()),i.set(r.field,h))}return i||null}function av(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Qa(r,l,((h,d)=>p2(h,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Ul extends rh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class tr extends rh{constructor(t,i,r,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function $E(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function ov(a,t,i){const r=new Map;Bt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const h=a[l],d=h.transform,p=t.data.field(h.field);r.set(h.field,m2(d,p,i[l]))}return r}function lv(a,t,i){const r=new Map;for(const l of a){const h=l.transform,d=i.data.field(l.field);r.set(l.field,d2(h,d,t))}return r}class Am extends rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E2 extends rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class T2{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&_2(h,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=El(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=El(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=GE();return this.mutations.forEach((l=>{const h=t.get(l.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(l.key)?null:p;const v=ZE(d,p);v!==null&&r.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(pt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Nt())}isEqual(t){return this.batchId===t.batchId&&Qa(this.mutations,t.mutations,((i,r)=>av(i,r)))&&Qa(this.baseMutations,t.baseMutations,((i,r)=>av(i,r)))}}class Sm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Bt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return l2})();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,r[d].version);return new Sm(t,i,r,l)}}class A2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class S2{constructor(t,i){this.count=t,this.unchangedNames=i}}var be,Vt;function b2(a){switch(a){case X.OK:return ft(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ft(15467,{code:a})}}function JE(a){if(a===void 0)return Xi("GRPC error has no .code"),X.UNKNOWN;switch(a){case be.OK:return X.OK;case be.CANCELLED:return X.CANCELLED;case be.UNKNOWN:return X.UNKNOWN;case be.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case be.INTERNAL:return X.INTERNAL;case be.UNAVAILABLE:return X.UNAVAILABLE;case be.UNAUTHENTICATED:return X.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case be.NOT_FOUND:return X.NOT_FOUND;case be.ALREADY_EXISTS:return X.ALREADY_EXISTS;case be.PERMISSION_DENIED:return X.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case be.ABORTED:return X.ABORTED;case be.OUT_OF_RANGE:return X.OUT_OF_RANGE;case be.UNIMPLEMENTED:return X.UNIMPLEMENTED;case be.DATA_LOSS:return X.DATA_LOSS;default:return ft(39323,{code:a})}}(Vt=be||(be={}))[Vt.OK=0]="OK",Vt[Vt.CANCELLED=1]="CANCELLED",Vt[Vt.UNKNOWN=2]="UNKNOWN",Vt[Vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vt[Vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vt[Vt.NOT_FOUND=5]="NOT_FOUND",Vt[Vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vt[Vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vt[Vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vt[Vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vt[Vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vt[Vt.ABORTED=10]="ABORTED",Vt[Vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vt[Vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vt[Vt.INTERNAL=13]="INTERNAL",Vt[Vt.UNAVAILABLE=14]="UNAVAILABLE",Vt[Vt.DATA_LOSS=15]="DATA_LOSS";function R2(){return new TextEncoder}const w2=new Hs([4294967295,4294967295],0);function uv(a){const t=R2().encode(a),i=new mE;return i.update(t),new Uint8Array(i.digest())}function cv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Hs([i,r],0),new Hs([l,h],0)]}class bm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new ml(`Invalid padding: ${i}`);if(r<0)throw new ml(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new ml(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Hs.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Hs.fromNumber(r)));return l.compare(w2)===1&&(l=new Hs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=uv(t),[r,l]=cv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,l,h);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new bm(h,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=uv(t),[r,l]=cv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,l,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ah{constructor(t,i,r,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,kl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new ah(pt.min(),l,new oe(Dt),Zi(),Nt())}}class kl{constructor(t,i,r,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new kl(r,i,Nt(),Nt(),Nt())}}class wc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class WE{constructor(t,i){this.targetId=t,this.Ce=i}}class tT{constructor(t,i,r=Fe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class hv{constructor(){this.ve=0,this.Fe=fv(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Nt(),i=Nt(),r=Nt();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:ft(38017,{changeType:h})}})),new kl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=fv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class C2{constructor(t){this.Ge=t,this.ze=new Map,this.je=Zi(),this.Je=vc(),this.He=vc(),this.Ye=new oe(Dt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:ft(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const h=l.target;if(Kd(h))if(r===0){const d=new ut(h.path);this.et(i,d,Xe.newNoDocument(d,pt.min()))}else Bt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:h=0}=i;let d,p;try{d=Ys(r).toUint8Array()}catch(v){if(v instanceof wE)return Fa("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new bm(d,l,h)}catch(v){return Fa(v instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(p)||(this.et(i,h,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&Kd(p.target)){const v=new ut(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,t))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Nt();this.He.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const l=new ah(t,i,this.Ye,this.je,r);return this.je=Zi(),this.Je=vc(),this.He=vc(),this.Ye=new oe(Dt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new hv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Dt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Dt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new hv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function vc(){return new oe(ut.comparator)}function fv(){return new oe(ut.comparator)}const I2={asc:"ASCENDING",desc:"DESCENDING"},D2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N2={and:"AND",or:"OR"};class O2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Xd(a,t){return a.useProto3Json||Wc(t)?t:{value:t}}function Bc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function eT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function M2(a,t){return Bc(a,t.toTimestamp())}function Ei(a){return Bt(!!a,49232),pt.fromTimestamp((function(i){const r=Ks(i);return new ee(r.seconds,r.nanos)})(a))}function Rm(a,t){return Zd(a,t).canonicalString()}function Zd(a,t){const i=(function(l){return new te(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function nT(a){const t=te.fromString(a);return Bt(oT(t),10190,{key:t.toString()}),t}function $d(a,t){return Rm(a.databaseId,t.path)}function Od(a,t){const i=nT(t);if(i.get(1)!==a.databaseId.projectId)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ut(sT(i))}function iT(a,t){return Rm(a.databaseId,t)}function V2(a){const t=nT(a);return t.length===4?te.emptyPath():sT(t)}function Jd(a){return new te(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function sT(a){return Bt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function dv(a,t,i){return{name:$d(a,t),fields:i.value.mapValue.fields}}function U2(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ft(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Bt(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(Bt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?X.UNKNOWN:JE(_.code);return new at(A,_.message||"")})(d);i=new tT(r,l,h,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Od(a,r.document.name),h=Ei(r.document.updateTime),d=r.document.createTime?Ei(r.document.createTime):pt.min(),p=new cn({mapValue:{fields:r.document.fields}}),v=Xe.newFoundDocument(l,h,d,p),_=r.targetIds||[],A=r.removedTargetIds||[];i=new wc(_,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Od(a,r.document),h=r.readTime?Ei(r.readTime):pt.min(),d=Xe.newNoDocument(l,h),p=r.removedTargetIds||[];i=new wc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Od(a,r.document),h=r.removedTargetIds||[];i=new wc([],h,l,null)}else{if(!("filter"in t))return ft(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:h}=r,d=new S2(l,h),p=r.targetId;i=new WE(p,d)}}return i}function k2(a,t){let i;if(t instanceof Ul)i={update:dv(a,t.key,t.value)};else if(t instanceof Am)i={delete:$d(a,t.key)};else if(t instanceof tr)i={update:dv(a,t.key,t.data),updateMask:G2(t.fieldMask)};else{if(!(t instanceof E2))return ft(16599,{Vt:t.type});i={verify:$d(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(h,d){const p=d.transform;if(p instanceof Cl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Il)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Dl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof zc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ft(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:M2(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:ft(27497)})(a,t.precondition)),i}function L2(a,t){return a&&a.length>0?(Bt(t!==void 0,14353),a.map((i=>(function(l,h){let d=l.updateTime?Ei(l.updateTime):Ei(h);return d.isEqual(pt.min())&&(d=Ei(h)),new y2(d,l.transformResults||[])})(i,t)))):[]}function x2(a,t){return{documents:[iT(a,t.path)]}}function P2(a,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=iT(a,l);const h=(function(_){if(_.length!==0)return aT(wi.create(_,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(V){return{field:ka(V.field),direction:q2(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Xd(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function z2(a){let t=V2(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Bt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let h=[];i.where&&(h=(function(b){const V=rT(b);return V instanceof wi&&LE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((V=>(function(J){return new Pc(La(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let V;return V=typeof b=="object"?b.value:b,Wc(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(b){const V=!!b.before,F=b.values||[];return new xc(F,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const V=!b.before,F=b.values||[];return new xc(F,V)})(i.endAt)),n2(t,l,d,h,p,"F",v,_)}function B2(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function rT(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=La(i.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=La(i.unaryFilter.field);return Ne.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=La(i.unaryFilter.field);return Ne.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=La(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ft(61313);default:return ft(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ne.create(La(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ft(58110);default:return ft(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return wi.create(i.compositeFilter.filters.map((r=>rT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ft(1026)}})(i.compositeFilter.op))})(a):ft(30097,{filter:a})}function q2(a){return I2[a]}function H2(a){return D2[a]}function j2(a){return N2[a]}function ka(a){return{fieldPath:a.canonicalString()}}function La(a){return Ge.fromServerFormat(a.fieldPath)}function aT(a){return a instanceof Ne?(function(i){if(i.op==="=="){if(tv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NAN"}};if(W_(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(tv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NAN"}};if(W_(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(i.field),op:H2(i.op),value:i.value}}})(a):a instanceof wi?(function(i){const r=i.getFilters().map((l=>aT(l)));return r.length===1?r[0]:{compositeFilter:{op:j2(i.op),filters:r}}})(a):ft(54877,{filter:a})}function G2(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function oT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class Ps{constructor(t,i,r,l,h=pt.min(),d=pt.min(),p=Fe.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new Ps(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class F2{constructor(t){this.yt=t}}function Q2(a){const t=z2({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Yd(t,t.limit,"L"):t}class K2{constructor(){this.Cn=new Y2}addToCollectionParentIndex(t,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Qs.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Qs.min())}updateCollectionGroup(t,i,r){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class Y2{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Me(te.comparator),h=!l.has(r);return this.index[i]=l.add(r),h}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Me(te.comparator)).toArray()}}const mv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lT=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(lT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Xa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Xa(0)}static cr(){return new Xa(-1)}}const gv="LruGarbageCollector",X2=1048576;function pv([a,t],[i,r]){const l=Dt(a,i);return l===0?Dt(t,r):l}class Z2{constructor(t){this.Ir=t,this.buffer=new Me(pv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();pv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class $2{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){nt(gv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){no(i)?nt(gv,"Ignoring IndexedDB error during garbage collection: ",i):await eo(i)}await this.Vr(3e5)}))}}class J2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(Jc.ce);const r=new Z2(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(mv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,h,d,p,v,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(r=b,p=Date.now(),this.removeTargets(t,r,i)))).next((b=>(h=b,v=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(_=Date.now(),Va()<=It.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${b} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:b}))))}}function W2(a,t){return new J2(a,t)}class tR{constructor(){this.changes=new qr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Y.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class nR{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&El(r.mutation,l,En.empty(),ee.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Nt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Nt()){const l=Vr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((h=>{let d=dl();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Vr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Nt())))}populateOverlays(t,i,r){const l=[];return r.forEach((h=>{i.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let h=Zi();const d=vl(),p=(function(){return vl()})();return i.forEach(((v,_)=>{const A=r.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof tr)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),El(A.mutation,_,A.mutation.getFieldMask(),ee.now())):d.set(_.key,En.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new eR(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=vl();let l=new oe(((d,p)=>d-p)),h=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||En.empty();A=p.applyToLocalView(_,A),r.set(v,A);const b=(l.get(p.batchId)||Nt()).add(v);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,b=GE();A.forEach((V=>{if(!h.has(V)){const F=ZE(i.get(V),r.get(V));F!==null&&b.set(V,F),h=h.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return Y.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):i2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-h.size):Y.resolve(Vr());let p=Sl,v=h;return d.next((_=>Y.forEach(_,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{v=v.insert(A,V)}))))).next((()=>this.populateOverlays(t,_,h))).next((()=>this.computeViews(t,v,_,Nt()))).next((A=>({batchId:p,changes:jE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ut(i)).next((r=>{let l=dl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const h=i.collectionGroup;let d=dl();return this.indexManager.getCollectionParents(t,h).next((p=>Y.forEach(p,(v=>{const _=(function(b,V){return new eh(V,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((A=>{A.forEach(((b,V)=>{d=d.insert(b,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,h,l)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let p=dl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&El(A.mutation,_,En.empty(),ee.now()),ih(i,_)&&(p=p.insert(v,_))})),p}))}}class iR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ei(l.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Q2(l.bundledQuery),readTime:Ei(l.readTime)}})(i)),Y.resolve()}}class sR{constructor(){this.overlays=new oe(ut.comparator),this.qr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Vr();return Y.forEach(i,(l=>this.getOverlay(t,l).next((h=>{h!==null&&r.set(l,h)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,h)=>{this.St(t,i,h)})),Y.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(t,i,r){const l=Vr(),h=i.length+1,d=new ut(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&l.set(v.getKey(),v)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let h=new oe(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=Vr(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Vr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return Y.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new A2(i,r));let h=this.qr.get(i);h===void 0&&(h=Nt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}class rR{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}class wm{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Le(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ut(new te([])),r=new Le(i,t),l=new Le(i,t+1),h=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ut(new te([])),r=new Le(i,t),l=new Le(i,t+1);let h=Nt();return this.Ur.forEachInRange([r,l],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Le(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ut.comparator(t.key,i.key)||Dt(t.Yr,i.Yr)}static Kr(t,i){return Dt(t.Yr,i.Yr)||ut.comparator(t.key,i.key)}}class aR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new T2(h,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,h)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),h=l<0?0:l;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?gm:this.tr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);h.push(p)})),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Me(Dt);return i.forEach((l=>{const h=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(p=>{r=r.add(p.Yr)}))})),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let h=r;ut.isDocumentKey(h)||(h=h.child(""));const d=new Le(new ut(h),0);let p=new Me(Dt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(p=p.add(v.Yr)),!0)}),d),Y.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Bt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(i.mutations,(l=>{const h=new Le(l.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Le(i,0),l=this.Zr.firstAfterOrEqual(r);return Y.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class oR{constructor(t){this.ri=t,this.docs=(function(){return new oe(ut.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),h=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Y.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let r=Zi();return i.forEach((l=>{const h=this.docs.get(l);r=r.insert(l,h?h.document.mutableCopy():Xe.newInvalidDocument(l))})),Y.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let h=Zi();const d=i.path,p=new ut(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Ub(Vb(A),r)<=0||(l.has(A.key)||ih(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(t,i,r,l){ft(9500)}ii(t,i){return Y.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new lR(this)}getSize(t){return Y.resolve(this.size)}}class lR extends tR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),Y.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class uR{constructor(t){this.persistence=t,this.si=new qr((i=>_m(i)),vm),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.oi=0,this._i=new wm,this.targetCount=0,this.ai=Xa.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Y.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Xa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.Pr(i),Y.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,r){let l=0;const h=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Y.waitFor(h).next((()=>l))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return Y.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),Y.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach((d=>{h.push(l.markPotentiallyOrphaned(t,d))})),Y.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return Y.resolve(r)}containsKey(t,i){return Y.resolve(this._i.containsKey(i))}}class uT{constructor(t,i){this.ui={},this.overlays={},this.ci=new Jc(0),this.li=!1,this.li=!0,this.hi=new rR,this.referenceDelegate=t(this),this.Pi=new uR(this),this.indexManager=new K2,this.remoteDocumentCache=(function(l){return new oR(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new F2(i),this.Ii=new iR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new sR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new aR(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){nt("MemoryPersistence","Starting transaction:",t);const l=new cR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,i){return Y.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class cR extends Lb{constructor(t){super(),this.currentSequenceNumber=t}}class Cm{constructor(t){this.persistence=t,this.Ri=new wm,this.Vi=null}static mi(t){return new Cm(t)}get fi(){if(this.Vi)return this.Vi;throw ft(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Y.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(r=>{const l=ut.fromPath(r);return this.gi(t,l).next((h=>{h||i.removeEntry(l,pt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class qc{constructor(t,i){this.persistence=t,this.pi=new qr((r=>zb(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=W2(this,i)}static mi(t,i){return new qc(t,i)}Ei(){}di(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return Y.forEach(this.pi,((r,l)=>this.br(t,r,l).next((h=>h?Y.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,h.removeEntry(d,pt.min()))})))).next((()=>h.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Sc(t.data.value)),i}br(t,i,r){return Y.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Y.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Im{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Nt(),l=Nt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Im(t,i.fromCache,r,l)}}class hR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class fR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tS()?8:xb(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,l,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new hR;return this.Ss(t,i,d).next((p=>{if(h.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>h.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Va()<=It.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Ua(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Va()<=It.DEBUG&&nt("QueryEngine","Query:",Ua(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Va()<=It.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Ua(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,vi(i))):Y.resolve())}ys(t,i){if(sv(i))return Y.resolve(null);let r=vi(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Yd(i,null,"F"),r=vi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((h=>{const d=Nt(...h);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((v=>{const _=this.Ds(i,p);return this.Cs(i,_,d,v.readTime)?this.ys(t,Yd(i,null,"F")):this.vs(t,_,i,v)}))))})))))}ws(t,i,r,l){return sv(i)||l.isEqual(pt.min())?Y.resolve(null):this.ps.getDocuments(t,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,l)?Y.resolve(null):(Va()<=It.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ua(i)),this.vs(t,d,i,Mb(l,Sl)).next((p=>p)))}))}Ds(t,i){let r=new Me(qE(t));return i.forEach(((l,h)=>{ih(t,h)&&(r=r.add(h))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,i,r){return Va()<=It.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Ua(i)),this.ps.getDocumentsMatchingQuery(t,i,Qs.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Dm="LocalStore",dR=3e8;class mR{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(Dt),this.xs=new qr((h=>_m(h)),vm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function gR(a,t,i,r){return new mR(a,t,i,r)}async function cT(a,t){const i=_t(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((h=>(l=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],p=[];let v=Nt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function pR(a,t){const i=_t(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,A){const b=_.batch,V=b.keys();let F=Y.resolve();return V.forEach((J=>{F=F.next((()=>A.getEntry(v,J))).next((et=>{const Z=_.docVersions.get(J);Bt(Z!==null,48541),et.version.compareTo(Z)<0&&(b.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(v,b)))})(i,r,t,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let v=Nt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function hT(a){const t=_t(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function yR(a,t){const i=_t(a),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const V=l.get(b);if(!V)return;p.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,b))));let F=V.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(b)!==null?F=F.withResumeToken(Fe.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,r)),l=l.insert(b,F),(function(et,Z,ht){return et.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=dR?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(V,F,A)&&p.push(i.Pi.updateTargetData(h,F))}));let v=Zi(),_=Nt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),p.push(_R(h,d,t.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!r.isEqual(pt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((b=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));p.push(A)}return Y.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=l,h)))}function _R(a,t,i){let r=Nt(),l=Nt();return i.forEach((h=>r=r.add(h))),t.getEntries(a,r).next((h=>{let d=Zi();return i.forEach(((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(pt.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):nt(Dm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:l}}))}function vR(a,t){const i=_t(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=gm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function ER(a,t){const i=_t(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((h=>h?(l=h,Y.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Ps(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Wd(a,t,i){const r=_t(a),l=r.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!no(d))throw d;nt(Dm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function yv(a,t,i){const r=_t(a);let l=pt.min(),h=Nt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const b=_t(v),V=b.xs.get(A);return V!==void 0?Y.resolve(b.Ms.get(V)):b.Pi.getTargetData(_,A)})(r,d,vi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:pt.min(),i?h:Nt()))).next((p=>(TR(r,r2(t),p),{documents:p,Qs:h})))))}function TR(a,t,i){let r=a.Os.get(t)||pt.min();i.forEach(((l,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Os.set(t,r)}class _v{constructor(){this.activeTargetIds=h2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class AR{constructor(){this.Mo=new _v,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new _v,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class SR{Oo(t){}shutdown(){}}const vv="ConnectivityMonitor";class Ev{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nt(vv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){nt(vv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ec=null;function tm(){return Ec===null?Ec=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ec++,"0x"+Ec.toString(16)}const Md="RestConnection",bR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===kc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,h){const d=tm(),p=this.zo(t,i.toUriEncodedString());nt(Md,`Sending RPC '${t}' ${d}:`,p,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,h);const{host:_}=new URL(p),A=Ja(_);return this.Jo(t,p,v,r,A).then((b=>(nt(Md,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Fa(Md,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",r),b}))}Ho(t,i,r,l,h,d){return this.Go(t,i,r,l,h)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+to})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>t[h]=l)),r&&r.headers.forEach(((l,h)=>t[h]=l))}zo(t,i){const r=bR[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class wR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ke="WebChannelConnection";class CR extends RR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,h){const d=tm();return new Promise(((p,v)=>{const _=new gE;_.setWithCredentials(!0),_.listenOnce(pE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Ac.NO_ERROR:const b=_.getResponseJson();nt(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Ac.TIMEOUT:nt(Ke,`RPC '${t}' ${d} timed out`),v(new at(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:const V=_.getStatus();if(nt(Ke,`RPC '${t}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const J=F?.error;if(J&&J.status&&J.message){const et=(function(ht){const vt=ht.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(vt)>=0?vt:X.UNKNOWN})(J.status);v(new at(et,J.message))}else v(new at(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new at(X.UNAVAILABLE,"Connection failed."));break;default:ft(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{nt(Ke,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);nt(Ke,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=tm(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=vE(),p=_E(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=h.join("");nt(Ke,`Creating RPC '${t}' stream ${l}: ${A}`,v);const b=d.createWebChannel(A,v);this.I_(b);let V=!1,F=!1;const J=new wR({Yo:Z=>{F?nt(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(V||(nt(Ke,`Opening RPC '${t}' stream ${l} transport.`),b.open(),V=!0),nt(Ke,`RPC '${t}' stream ${l} sending:`,Z),b.send(Z))},Zo:()=>b.close()}),et=(Z,ht,vt)=>{Z.listen(ht,(dt=>{try{vt(dt)}catch(Ft){setTimeout((()=>{throw Ft}),0)}}))};return et(b,fl.EventType.OPEN,(()=>{F||(nt(Ke,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),et(b,fl.EventType.CLOSE,(()=>{F||(F=!0,nt(Ke,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(b))})),et(b,fl.EventType.ERROR,(Z=>{F||(F=!0,Fa(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new at(X.UNAVAILABLE,"The operation could not be completed")))})),et(b,fl.EventType.MESSAGE,(Z=>{if(!F){const ht=Z.data[0];Bt(!!ht,16349);const vt=ht,dt=vt?.error||vt[0]?.error;if(dt){nt(Ke,`RPC '${t}' stream ${l} received error:`,dt);const Ft=dt.status;let $t=(function(S){const C=be[S];if(C!==void 0)return JE(C)})(Ft),Ut=dt.message;$t===void 0&&($t=X.INTERNAL,Ut="Unknown error status: "+Ft+" with message "+dt.message),F=!0,J.a_(new at($t,Ut)),b.close()}else nt(Ke,`RPC '${t}' stream ${l} received:`,ht),J.u_(ht)}})),et(p,yE.STAT_EVENT,(Z=>{Z.stat===Hd.PROXY?nt(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Hd.NOPROXY&&nt(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Vd(){return typeof document<"u"?document:null}function oh(a){return new O2(a,!0)}class fT{constructor(t,i,r=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Tv="PersistentStream";class dT{constructor(t,i,r,l,h,d,p,v){this.Mi=t,this.S_=r,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Xi(i.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new at(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return nt(Tv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(nt(Tv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IR extends dT{constructor(t,i,r,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=U2(this.serializer,t),r=(function(h){if(!("targetChange"in h))return pt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?Ei(d.readTime):pt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Jd(this.serializer),i.addTarget=(function(h,d){let p;const v=d.target;if(p=Kd(v)?{documents:x2(h,v)}:{query:P2(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=eT(h,d.resumeToken);const _=Xd(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(pt.min())>0){p.readTime=Bc(h,d.snapshotVersion.toTimestamp());const _=Xd(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const r=B2(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Jd(this.serializer),i.removeTarget=t,this.q_(i)}}class DR extends dT{constructor(t,i,r,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Bt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Bt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Bt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=L2(t.writeResults,t.commitTime),r=Ei(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Jd(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>k2(this.serializer,r)))};this.q_(i)}}class NR{}class OR extends NR{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,Zd(i,r),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(X.UNKNOWN,h.toString())}))}Ho(t,i,r,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Zd(i,r),l,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xi(i),this.aa=!1):nt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const zr="RemoteStore";class VR{constructor(t,i,r,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Hr(this)&&(nt(zr,"Restarting streams for network reachability change."),await(async function(v){const _=_t(v);_.Ea.add(4),await Ll(_),_.Ra.set("Unknown"),_.Ea.delete(4),await lh(_)})(this))}))})),this.Ra=new MR(r,l)}}async function lh(a){if(Hr(a))for(const t of a.da)await t(!0)}async function Ll(a){for(const t of a.da)await t(!1)}function mT(a,t){const i=_t(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Vm(i)?Mm(i):io(i).O_()&&Om(i,t))}function Nm(a,t){const i=_t(a),r=io(i);i.Ia.delete(t),r.O_()&&gT(i,t),i.Ia.size===0&&(r.O_()?r.L_():Hr(i)&&i.Ra.set("Unknown"))}function Om(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}io(a).Y_(t)}function gT(a,t){a.Va.Ue(t),io(a).Z_(t)}function Mm(a){a.Va=new C2({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),io(a).start(),a.Ra.ua()}function Vm(a){return Hr(a)&&!io(a).x_()&&a.Ia.size>0}function Hr(a){return _t(a).Ea.size===0}function pT(a){a.Va=void 0}async function UR(a){a.Ra.set("Online")}async function kR(a){a.Ia.forEach(((t,i)=>{Om(a,t)}))}async function LR(a,t){pT(a),Vm(a)?(a.Ra.ha(t),Mm(a)):a.Ra.set("Unknown")}async function xR(a,t,i){if(a.Ra.set("Online"),t instanceof tT&&t.state===2&&t.cause)try{await(async function(l,h){const d=h.cause;for(const p of h.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(a,t)}catch(r){nt(zr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Hc(a,r)}else if(t instanceof wc?a.Va.Ze(t):t instanceof WE?a.Va.st(t):a.Va.tt(t),!i.isEqual(pt.min()))try{const r=await hT(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),gT(h,v);const b=new Ps(A.target,v,_,A.sequenceNumber);Om(h,b)})),h.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){nt(zr,"Failed to raise snapshot:",r),await Hc(a,r)}}async function Hc(a,t,i){if(!no(t))throw t;a.Ea.add(1),await Ll(a),a.Ra.set("Offline"),i||(i=()=>hT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{nt(zr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await lh(a)}))}function yT(a,t){return t().catch((i=>Hc(a,i,t)))}async function uh(a){const t=_t(a),i=Zs(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:gm;for(;PR(t);)try{const l=await vR(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,zR(t,l)}catch(l){await Hc(t,l)}_T(t)&&vT(t)}function PR(a){return Hr(a)&&a.Ta.length<10}function zR(a,t){a.Ta.push(t);const i=Zs(a);i.O_()&&i.X_&&i.ea(t.mutations)}function _T(a){return Hr(a)&&!Zs(a).x_()&&a.Ta.length>0}function vT(a){Zs(a).start()}async function BR(a){Zs(a).ra()}async function qR(a){const t=Zs(a);for(const i of a.Ta)t.ea(i.mutations)}async function HR(a,t,i){const r=a.Ta.shift(),l=Sm.from(r,t,i);await yT(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await uh(a)}async function jR(a,t){t&&Zs(a).X_&&await(async function(r,l){if((function(d){return b2(d)&&d!==X.ABORTED})(l.code)){const h=r.Ta.shift();Zs(r).B_(),await yT(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,l))),await uh(r)}})(a,t),_T(a)&&vT(a)}async function Av(a,t){const i=_t(a);i.asyncQueue.verifyOperationInProgress(),nt(zr,"RemoteStore received new credentials");const r=Hr(i);i.Ea.add(3),await Ll(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await lh(i)}async function GR(a,t){const i=_t(a);t?(i.Ea.delete(2),await lh(i)):t||(i.Ea.add(2),await Ll(i),i.Ra.set("Unknown"))}function io(a){return a.ma||(a.ma=(function(i,r,l){const h=_t(i);return h.sa(),new IR(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(a.datastore,a.asyncQueue,{Xo:UR.bind(null,a),t_:kR.bind(null,a),r_:LR.bind(null,a),H_:xR.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Vm(a)?Mm(a):a.Ra.set("Unknown")):(await a.ma.stop(),pT(a))}))),a.ma}function Zs(a){return a.fa||(a.fa=(function(i,r,l){const h=_t(i);return h.sa(),new DR(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:BR.bind(null,a),r_:jR.bind(null,a),ta:qR.bind(null,a),na:HR.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await uh(a)):(await a.fa.stop(),a.Ta.length>0&&(nt(zr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Um{constructor(t,i,r,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=h,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,h){const d=Date.now()+r,p=new Um(t,i,d,l,h);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function km(a,t){if(Xi("AsyncQueue",`${t}: ${a}`),no(a))return new at(X.UNAVAILABLE,`${t}: ${a}`);throw a}class za{static emptySet(t){return new za(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ut.comparator(i.key,r.key):(i,r)=>ut.comparator(i.key,r.key),this.keyedMap=dl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof za)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=r.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new za;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class Sv{constructor(){this.ga=new oe(ut.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):ft(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Za{constructor(t,i,r,l,h,d,p,v,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,l,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Za(t,i,za.emptySet(i),d,r,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class FR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class QR{constructor(){this.queries=bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=_t(i),h=l.queries;l.queries=bv(),h.forEach(((d,p)=>{for(const v of p.Sa)v.onError(r)}))})(this,new at(X.ABORTED,"Firestore shutting down"))}}function bv(){return new qr((a=>BE(a)),nh)}async function KR(a,t){const i=_t(a);let r=3;const l=t.query;let h=i.queries.get(l);h?!h.ba()&&t.Da()&&(r=2):(h=new FR,r=t.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=km(d,`Initialization of query '${Ua(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&Lm(i)}async function YR(a,t){const i=_t(a),r=t.query;let l=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function XR(a,t){const i=_t(a);let r=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Lm(i)}function ZR(a,t,i){const r=_t(a),l=r.queries.get(t);if(l)for(const h of l.Sa)h.onError(i);r.queries.delete(t)}function Lm(a){a.Ca.forEach((t=>{t.next()}))}var em,Rv;(Rv=em||(em={})).Ma="default",Rv.Cache="cache";class $R{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new Za(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Za.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==em.Cache}}class ET{constructor(t){this.key=t}}class TT{constructor(t){this.key=t}}class JR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Nt(),this.mutatedKeys=Nt(),this.eu=qE(t),this.tu=new za(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new Sv,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const V=l.get(A),F=ih(this.query,b)?b:null,J=!!V&&this.mutatedKeys.has(V.key),et=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Z=!1;V&&F?V.data.isEqual(F.data)?J!==et&&(r.track({type:3,doc:F}),Z=!0):this.su(V,F)||(r.track({type:2,doc:F}),Z=!0,(v&&this.eu(F,v)>0||_&&this.eu(F,_)<0)&&(p=!0)):!V&&F?(r.track({type:0,doc:F}),Z=!0):V&&!F&&(r.track({type:1,doc:V}),Z=!0,(v||_)&&(p=!0)),Z&&(F?(d=d.add(F),h=et?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(F,J){const et=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft(20277,{Rt:Z})}};return et(F)-et(J)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Za(this.query,t.tu,h,d,t.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Sv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Nt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new TT(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new ET(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Nt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xm="SyncEngine";class WR{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class tw{constructor(t){this.key=t,this.hu=!1}}class ew{constructor(t,i,r,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new qr((p=>BE(p)),nh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ut.comparator),this.Au=new Map,this.Ru=new wm,this.Vu={},this.mu=new Map,this.fu=Xa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nw(a,t,i=!0){const r=CT(a);let l;const h=r.Tu.get(t);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await AT(r,t,i,!0),l}async function iw(a,t){const i=CT(a);await AT(i,t,!0,!1)}async function AT(a,t,i,r){const l=await ER(a.localStore,vi(t)),h=l.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let p;return r&&(p=await sw(a,t,h,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&mT(a.remoteStore,l),p}async function sw(a,t,i,r,l){a.pu=(b,V,F)=>(async function(et,Z,ht,vt){let dt=Z.view.ru(ht);dt.Cs&&(dt=await yv(et.localStore,Z.query,!1).then((({documents:I})=>Z.view.ru(I,dt))));const Ft=vt&&vt.targetChanges.get(Z.targetId),$t=vt&&vt.targetMismatches.get(Z.targetId)!=null,Ut=Z.view.applyChanges(dt,et.isPrimaryClient,Ft,$t);return Cv(et,Z.targetId,Ut.au),Ut.snapshot})(a,b,V,F);const h=await yv(a.localStore,t,!0),d=new JR(t,h.Qs),p=d.ru(h.documents),v=kl.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),_=d.applyChanges(p,a.isPrimaryClient,v);Cv(a,i,_.au);const A=new WR(t,i,d);return a.Tu.set(t,A),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),_.snapshot}async function rw(a,t,i){const r=_t(a),l=r.Tu.get(t),h=r.Iu.get(l.targetId);if(h.length>1)return r.Iu.set(l.targetId,h.filter((d=>!nh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Wd(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Nm(r.remoteStore,l.targetId),nm(r,l.targetId)})).catch(eo)):(nm(r,l.targetId),await Wd(r.localStore,l.targetId,!0))}async function aw(a,t){const i=_t(a),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Nm(i.remoteStore,r.targetId))}async function ow(a,t,i){const r=mw(a);try{const l=await(function(d,p){const v=_t(d),_=ee.now(),A=p.reduce(((F,J)=>F.add(J.key)),Nt());let b,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let J=Zi(),et=Nt();return v.Ns.getEntries(F,A).next((Z=>{J=Z,J.forEach(((ht,vt)=>{vt.isValidDocument()||(et=et.add(ht))}))})).next((()=>v.localDocuments.getOverlayedDocuments(F,J))).next((Z=>{b=Z;const ht=[];for(const vt of p){const dt=v2(vt,b.get(vt.key).overlayedDocument);dt!=null&&ht.push(new tr(vt.key,dt,VE(dt.value.mapValue),Xn.exists(!0)))}return v.mutationQueue.addMutationBatch(F,_,ht,p)})).next((Z=>{V=Z;const ht=Z.applyToLocalDocumentSet(b,et);return v.documentOverlayCache.saveOverlays(F,Z.batchId,ht)}))})).then((()=>({batchId:V.batchId,changes:jE(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new oe(Dt)),_=_.insert(p,v),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await xl(r,l.changes),await uh(r.remoteStore)}catch(l){const h=km(l,"Failed to persist write");i.reject(h)}}async function ST(a,t){const i=_t(a);try{const r=await yR(i.localStore,t);t.targetChanges.forEach(((l,h)=>{const d=i.Au.get(h);d&&(Bt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Bt(d.hu,14607):l.removedDocuments.size>0&&(Bt(d.hu,42227),d.hu=!1))})),await xl(i,r,t)}catch(r){await eo(r)}}function wv(a,t,i){const r=_t(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((h,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=_t(d);v.onlineState=p;let _=!1;v.queries.forEach(((A,b)=>{for(const V of b.Sa)V.va(p)&&(_=!0)})),_&&Lm(v)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function lw(a,t,i){const r=_t(a);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),h=l&&l.key;if(h){let d=new oe(ut.comparator);d=d.insert(h,Xe.newNoDocument(h,pt.min()));const p=Nt().add(h),v=new ah(pt.min(),new Map,new oe(Dt),d,p);await ST(r,v),r.du=r.du.remove(h),r.Au.delete(t),Pm(r)}else await Wd(r.localStore,t,!1).then((()=>nm(r,t,i))).catch(eo)}async function uw(a,t){const i=_t(a),r=t.batch.batchId;try{const l=await pR(i.localStore,t);RT(i,r,null),bT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await xl(i,l)}catch(l){await eo(l)}}async function cw(a,t,i){const r=_t(a);try{const l=await(function(d,p){const v=_t(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next((b=>(Bt(b!==null,37113),A=b.keys(),v.mutationQueue.removeMutationBatch(_,b)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(r.localStore,t);RT(r,t,i),bT(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await xl(r,l)}catch(l){await eo(l)}}function bT(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function RT(a,t,i){const r=_t(a);let l=r.Vu[r.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function nm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||wT(a,r)}))}function wT(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(Nm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Pm(a))}function Cv(a,t,i){for(const r of i)r instanceof ET?(a.Ru.addReference(r.key,t),hw(a,r)):r instanceof TT?(nt(xm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||wT(a,r.key)):ft(19791,{wu:r})}function hw(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(nt(xm,"New document in limbo: "+i),a.Eu.add(r),Pm(a))}function Pm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new ut(te.fromString(t)),r=a.fu.next();a.Au.set(r,new tw(i)),a.du=a.du.insert(i,r),mT(a.remoteStore,new Ps(vi(Em(i.path)),r,"TargetPurposeLimboResolution",Jc.ce))}}async function xl(a,t,i){const r=_t(a),l=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,v)=>{d.push(r.pu(v,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Im.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(v,_){const A=_t(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Y.forEach(_,(V=>Y.forEach(V.Es,(F=>A.persistence.referenceDelegate.addReference(b,V.targetId,F))).next((()=>Y.forEach(V.ds,(F=>A.persistence.referenceDelegate.removeReference(b,V.targetId,F)))))))))}catch(b){if(!no(b))throw b;nt(Dm,"Failed to update sequence numbers: "+b)}for(const b of _){const V=b.targetId;if(!b.fromCache){const F=A.Ms.get(V),J=F.snapshotVersion,et=F.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(V,et)}}})(r.localStore,h))}async function fw(a,t){const i=_t(a);if(!i.currentUser.isEqual(t)){nt(xm,"User change. New user:",t.toKey());const r=await cT(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new at(X.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await xl(i,r.Ls)}}function dw(a,t){const i=_t(a),r=i.Au.get(t);if(r&&r.hu)return Nt().add(r.key);{let l=Nt();const h=i.Iu.get(t);if(!h)return l;for(const d of h){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function CT(a){const t=_t(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=ST.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lw.bind(null,t),t.Pu.H_=XR.bind(null,t.eventManager),t.Pu.yu=ZR.bind(null,t.eventManager),t}function mw(a){const t=_t(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cw.bind(null,t),t}class jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=oh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return gR(this.persistence,new fR,t.initialUser,this.serializer)}Cu(t){return new uT(Cm.mi,this.serializer)}Du(t){return new AR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jc.provider={build:()=>new jc};class gw extends jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Bt(this.persistence.referenceDelegate instanceof qc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $2(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new uT((r=>qc.mi(r,i)),this.serializer)}}class im{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fw.bind(null,this.syncEngine),await GR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new QR})()}createDatastore(t){const i=oh(t.databaseInfo.databaseId),r=(function(h){return new CR(h)})(t.databaseInfo);return(function(h,d,p,v){return new OR(h,d,p,v)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,h,d,p){return new VR(r,l,h,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>wv(this.syncEngine,i,0)),(function(){return Ev.v()?new Ev:new SR})())}createSyncEngine(t,i){return(function(l,h,d,p,v,_,A){const b=new ew(l,h,d,p,v,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=_t(i);nt(zr,"RemoteStore shutting down."),r.Ea.add(5),await Ll(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}im.provider={build:()=>new im};class pw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Xi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const $s="FirestoreClient";class yw{constructor(t,i,r,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{nt($s,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(nt($s,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=km(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Ud(a,t){a.asyncQueue.verifyOperationInProgress(),nt($s,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await cT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Iv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await _w(a);nt($s,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>Av(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>Av(t.remoteStore,l))),a._onlineComponents=t}async function _w(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){nt($s,"Using user provided OfflineComponentProvider");try{await Ud(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Fa("Error using user provided cache. Falling back to memory cache: "+i),await Ud(a,new jc)}}else nt($s,"Using default OfflineComponentProvider"),await Ud(a,new gw(void 0));return a._offlineComponents}async function IT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(nt($s,"Using user provided OnlineComponentProvider"),await Iv(a,a._uninitializedComponentsProvider._online)):(nt($s,"Using default OnlineComponentProvider"),await Iv(a,new im))),a._onlineComponents}function vw(a){return IT(a).then((t=>t.syncEngine))}async function Dv(a){const t=await IT(a),i=t.eventManager;return i.onListen=nw.bind(null,t.syncEngine),i.onUnlisten=rw.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=iw.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=aw.bind(null,t.syncEngine),i}function DT(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const Nv=new Map;const NT="firestore.googleapis.com",Ov=!0;class Mv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NT,this.ssl=Ov}else this.host=t.host,this.ssl=t.ssl??Ov;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=lT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<X2)throw new at(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ob("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DT(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ch{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Tb;switch(r.type){case"firstParty":return new Rb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Nv.get(i);r&&(nt("ComponentProvider","Removing Datastore"),Nv.delete(i),r.terminate())})(this),Promise.resolve()}}function Ew(a,t,i,r={}){a=js(a,ch);const l=Ja(t),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;l&&(oE(`https://${p}`),lE("Firestore",!0)),h.host!==NT&&h.host!==p&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:l,emulatorOptions:r};if(!Lr(v,d)&&(a._setSettings(v),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=Ye.MOCK_USER;else{_=FA(r.mockUserToken,a._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new at(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(b)}a._authCredentials=new Ab(new TE(_,A))}}class hh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new hh(this.firestore,t,this._query)}}class Oe{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Vl(i,Oe._jsonSchema))return new Oe(t,r||null,new ut(te.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:Re("string",Oe._jsonSchemaVersion),referencePath:Re("string")};class Gs extends hh{constructor(t,i,r){super(t,i,Em(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new ut(t))}withConverter(t){return new Gs(this.firestore,t,this._path)}}function lD(a,t,...i){if(a=$e(a),AE("collection","path",t),a instanceof ch){const r=te.fromString(t,...i);return F_(r),new Gs(a,null,r)}{if(!(a instanceof Oe||a instanceof Gs))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(te.fromString(t,...i));return F_(r),new Gs(a.firestore,null,r)}}function Tw(a,t,...i){if(a=$e(a),arguments.length===1&&(t=dm.newId()),AE("doc","path",t),a instanceof ch){const r=te.fromString(t,...i);return G_(r),new Oe(a,null,new ut(r))}{if(!(a instanceof Oe||a instanceof Gs))throw new at(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(te.fromString(t,...i));return G_(r),new Oe(a.firestore,a instanceof Gs?a.converter:null,new ut(r))}}const Vv="AsyncQueue";class Uv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fT(this,"async_queue_retry"),this._c=()=>{const r=Vd();r&&nt(Vv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Vd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Vd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!no(t))throw t;nt(Vv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Xi("INTERNAL UNHANDLED ERROR: ",kv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Um.createAndSchedule(this,t,i,r,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&ft(47125,{Pc:kv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function kv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function Lv(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const h of r)if(h in l&&typeof l[h]=="function")return!0;return!1})(a,["next","error","complete"])}class $a extends ch{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new Uv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Uv(t),this._firestoreClient=void 0,await t}}}function uD(a,t){const i=typeof a=="object"?a:hE(),r=typeof a=="string"?a:kc,l=hm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const h=jA("firestore");h&&Ew(l,...h)}return l}function OT(a){if(a._terminated)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Aw(a),a._firestoreClient}function Aw(a){const t=a._freezeSettings(),i=(function(l,h,d,p){return new Hb(l,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,DT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new yw(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(a._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Fe.fromBase64String(t))}catch(i){throw new at(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Vl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Re("string",Un._jsonSchemaVersion),bytes:Re("string")};class fh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class dh{constructor(t){this._methodName=t}}class Ti{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ti._jsonSchemaVersion}}static fromJSON(t){if(Vl(t,Ti._jsonSchema))return new Ti(t.latitude,t.longitude)}}Ti._jsonSchemaVersion="firestore/geoPoint/1.0",Ti._jsonSchema={type:Re("string",Ti._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Ai{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Vl(t,Ai._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ai(t.vectorValues);throw new at(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ai._jsonSchemaVersion="firestore/vectorValue/1.0",Ai._jsonSchema={type:Re("string",Ai._jsonSchemaVersion),vectorValues:Re("object")};const Sw=/^__.*__$/;class bw{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new tr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ul(t,this.data,i,this.fieldTransforms)}}class MT{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new tr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function VT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft(40011,{Ac:a})}}class zm{constructor(t,i,r,l,h,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new zm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Gc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(VT(this.Ac)&&Sw.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Rw{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||oh(t)}Cc(t,i,r,l=!1){return new zm({Ac:t,methodName:i,Dc:r,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UT(a){const t=a._freezeSettings(),i=oh(a._databaseId);return new Rw(a._databaseId,!!t.ignoreUndefinedProperties,i)}function ww(a,t,i,r,l,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,t,i,l);qm("Data must be an object, but it was:",d,r);const p=kT(r,d);let v,_;if(h.merge)v=new En(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const b of h.mergeFields){const V=sm(t,b,i);if(!d.contains(V))throw new at(X.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);xT(A,V)||A.push(V)}v=new En(A),_=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,_=d.fieldTransforms;return new bw(new cn(p),v,_)}class mh extends dh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof mh}}class Bm extends dh{_toFieldTransform(t){return new g2(t.path,new Cl)}isEqual(t){return t instanceof Bm}}function Cw(a,t,i,r){const l=a.Cc(1,t,i);qm("Data must be an object, but it was:",l,r);const h=[],d=cn.empty();Ws(r,((v,_)=>{const A=Hm(t,v,i);_=$e(_);const b=l.yc(A);if(_ instanceof mh)h.push(A);else{const V=gh(_,b);V!=null&&(h.push(A),d.set(A,V))}}));const p=new En(h);return new MT(d,p,l.fieldTransforms)}function Iw(a,t,i,r,l,h){const d=a.Cc(1,t,i),p=[sm(t,r,i)],v=[l];if(h.length%2!=0)throw new at(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<h.length;V+=2)p.push(sm(t,h[V])),v.push(h[V+1]);const _=[],A=cn.empty();for(let V=p.length-1;V>=0;--V)if(!xT(_,p[V])){const F=p[V];let J=v[V];J=$e(J);const et=d.yc(F);if(J instanceof mh)_.push(F);else{const Z=gh(J,et);Z!=null&&(_.push(F),A.set(F,Z))}}const b=new En(_);return new MT(A,b,d.fieldTransforms)}function gh(a,t){if(LT(a=$e(a)))return qm("Unsupported field value:",t,a),kT(a,t);if(a instanceof dh)return(function(r,l){if(!VT(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const h=[];let d=0;for(const p of r){let v=gh(p,l.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(a,t)}return(function(r,l){if((r=$e(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return f2(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=ee.fromDate(r);return{timestampValue:Bc(l.serializer,h)}}if(r instanceof ee){const h=new ee(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bc(l.serializer,h)}}if(r instanceof Ti)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:eT(l.serializer,r._byteString)};if(r instanceof Oe){const h=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Rm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ai)return(function(d,p){return{mapValue:{fields:{[OE]:{stringValue:ME},[Lc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Tm(p.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${mm(r)}`)})(a,t)}function kT(a,t){const i={};return RE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ws(a,((r,l)=>{const h=gh(l,t.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function LT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ee||a instanceof Ti||a instanceof Un||a instanceof Oe||a instanceof dh||a instanceof Ai)}function qm(a,t,i){if(!LT(i)||!SE(i)){const r=mm(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function sm(a,t,i){if((t=$e(t))instanceof fh)return t._internalPath;if(typeof t=="string")return Hm(a,t);throw Gc("Field path arguments must be of type string or ",a,!1,void 0,i)}const Dw=new RegExp("[~\\*/\\[\\]]");function Hm(a,t,i){if(t.search(Dw)>=0)throw Gc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new fh(...t.split("."))._internalPath}catch{throw Gc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Gc(a,t,i,r,l){const h=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${l}`),v+=")"),new at(X.INVALID_ARGUMENT,p+a+v)}function xT(a,t){return a.some((i=>i.isEqual(t)))}class PT{constructor(t,i,r,l,h){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Nw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(zT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Nw extends PT{data(){return super.data()}}function zT(a,t){return typeof t=="string"?Hm(a,t):t instanceof fh?t._internalPath:t._delegate._internalPath}function Ow(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new at(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mw{convertValue(t,i="none"){switch(Xs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ys(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw ft(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Ws(t,((l,h)=>{r[l]=this.convertValue(h,i)})),r}convertVectorValue(t){const i=t.fields?.[Lc].arrayValue?.values?.map((r=>me(r.doubleValue)));return new Ai(i)}convertGeoPoint(t){return new Ti(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=th(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(bl(t));default:return null}}convertTimestamp(t){const i=Ks(t);return new ee(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=te.fromString(t);Bt(oT(r),9688,{name:t});const l=new Rl(r.get(1),r.get(3)),h=new ut(r.popFirst(5));return l.isEqual(i)||Xi(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function Vw(a,t,i){let r;return r=a?a.toFirestore(t):t,r}class gl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class kr extends PT{constructor(t,i,r,l,h,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(zT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=kr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",kr._jsonSchema={type:Re("string",kr._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Cc extends kr{data(t={}){return super.data(t)}}class Ba{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new gl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Cc(this._firestore,this._userDataWriter,r.key,r,new gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new Cc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new gl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new Cc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new gl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:Uw(p.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ba._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Uw(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft(61501,{type:a})}}Ba._jsonSchemaVersion="firestore/querySnapshot/1.0",Ba._jsonSchema={type:Re("string",Ba._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class BT extends Mw{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function cD(a,t,i,...r){a=js(a,Oe);const l=js(a.firestore,$a),h=UT(l);let d;return d=typeof(t=$e(t))=="string"||t instanceof fh?Iw(h,"updateDoc",a._key,t,i,r):Cw(h,"updateDoc",a._key,t),jm(l,[d.toMutation(a._key,Xn.exists(!0))])}function hD(a){return jm(js(a.firestore,$a),[new Am(a._key,Xn.none())])}function fD(a,t){const i=js(a.firestore,$a),r=Tw(a),l=Vw(a.converter,t);return jm(i,[ww(UT(a.firestore),"addDoc",r._key,l,a.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then((()=>r))}function dD(a,...t){a=$e(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Lv(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Lv(t[r])){const v=t[r];t[r]=v.next?.bind(v),t[r+1]=v.error?.bind(v),t[r+2]=v.complete?.bind(v)}let h,d,p;if(a instanceof Oe)d=js(a.firestore,$a),p=Em(a._key.path),h={next:v=>{t[r]&&t[r](kw(d,a,v))},error:t[r+1],complete:t[r+2]};else{const v=js(a,hh);d=js(v.firestore,$a),p=v._query;const _=new BT(d);h={next:A=>{t[r]&&t[r](new Ba(d,_,v,A))},error:t[r+1],complete:t[r+2]},Ow(a._query)}return(function(_,A,b,V){const F=new pw(V),J=new $R(A,F,b);return _.asyncQueue.enqueueAndForget((async()=>KR(await Dv(_),J))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>YR(await Dv(_),J)))}})(OT(d),p,l,h)}function jm(a,t){return(function(r,l){const h=new Ur;return r.asyncQueue.enqueueAndForget((async()=>ow(await vw(r),l,h))),h.promise})(OT(a),t)}function kw(a,t,i){const r=i.docs.get(t._key),l=new BT(a);return new kr(a,l,t._key,r,new gl(i.hasPendingWrites,i.fromCache),t.converter)}function mD(){return new Bm("serverTimestamp")}(function(t,i=!0){(function(l){to=l})(Wa),Ga(new xr("firestore",((r,{instanceIdentifier:l,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new $a(new Sb(r.getProvider("auth-internal")),new wb(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(_.options.projectId,A)})(d,l),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),qs(B_,q_,t),qs(B_,q_,"esm2020")})();function qT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lw=qT,HT=new Ol("auth","Firebase",qT());const Fc=new um("@firebase/auth");function xw(a,...t){Fc.logLevel<=It.WARN&&Fc.warn(`Auth (${Wa}): ${a}`,...t)}function Ic(a,...t){Fc.logLevel<=It.ERROR&&Fc.error(`Auth (${Wa}): ${a}`,...t)}function $i(a,...t){throw Gm(a,...t)}function Si(a,...t){return Gm(a,...t)}function jT(a,t,i){const r={...Lw(),[t]:i};return new Ol("auth","Firebase",r).create(t,{appName:a.name})}function Fs(a){return jT(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gm(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return HT.create(a,...t)}function mt(a,t,...i){if(!a)throw Gm(t,...i)}function Qi(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Ic(t),new Error(t)}function Ji(a,t){a||Qi(t)}function rm(){return typeof self<"u"&&self.location?.href||""}function Pw(){return xv()==="http:"||xv()==="https:"}function xv(){return typeof self<"u"&&self.location?.protocol||null}function zw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pw()||$A()||"connection"in navigator)?navigator.onLine:!0}function Bw(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Pl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Ji(i>t,"Short delay should be less than long delay!"),this.isMobile=YA()||JA()}get(){return zw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fm(a,t){Ji(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class GT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Hw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jw=new Pl(3e4,6e4);function ph(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function so(a,t,i,r,l={}){return FT(a,l,async()=>{let h={},d={};r&&(t==="GET"?d=r:h={body:JSON.stringify(r)});const p=Ml({key:a.config.apiKey,...d}).slice(1),v=await a._getAdditionalHeaders();v["Content-Type"]="application/json",a.languageCode&&(v["X-Firebase-Locale"]=a.languageCode);const _={method:t,headers:v,...h};return ZA()||(_.referrerPolicy="no-referrer"),a.emulatorConfig&&Ja(a.emulatorConfig.host)&&(_.credentials="include"),GT.fetch()(await KT(a,a.config.apiHost,i,p),_)})}async function FT(a,t,i){a._canInitEmulator=!1;const r={...qw,...t};try{const l=new Gw(a),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw Tc(a,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const p=h.ok?d.errorMessage:d.error.message,[v,_]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(a,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Tc(a,"email-already-in-use",d);if(v==="USER_DISABLED")throw Tc(a,"user-disabled",d);const A=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw jT(a,A,_);$i(a,A)}}catch(l){if(l instanceof Wi)throw l;$i(a,"network-request-failed",{message:String(l)})}}async function QT(a,t,i,r,l={}){const h=await so(a,t,i,r,l);return"mfaPendingCredential"in h&&$i(a,"multi-factor-auth-required",{_serverResponse:h}),h}async function KT(a,t,i,r){const l=`${t}${i}?${r}`,h=a,d=h.config.emulator?Fm(a.config,l):`${a.config.apiScheme}://${l}`;return Hw.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class Gw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Si(this.auth,"network-request-failed")),jw.get())})}}function Tc(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Si(a,t,r);return l.customData._tokenResponse=i,l}async function Fw(a,t){return so(a,"POST","/v1/accounts:delete",t)}async function Qc(a,t){return so(a,"POST","/v1/accounts:lookup",t)}function Tl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Qw(a,t=!1){const i=$e(a),r=await i.getIdToken(t),l=Qm(r);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:r,authTime:Tl(kd(l.auth_time)),issuedAtTime:Tl(kd(l.iat)),expirationTime:Tl(kd(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function kd(a){return Number(a)*1e3}function Qm(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return Ic("JWT malformed, contained fewer than 3 sections"),null;try{const l=iE(i);return l?JSON.parse(l):(Ic("Failed to decode base64 JWT payload"),null)}catch(l){return Ic("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Pv(a){const t=Qm(a);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Nl(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Wi&&Kw(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function Kw({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class Yw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class am{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kc(a){const t=a.auth,i=await a.getIdToken(),r=await Nl(a,Qc(t,{idToken:i}));mt(r?.users.length,t,"internal-error");const l=r.users[0];a._notifyReloadListener(l);const h=l.providerUserInfo?.length?YT(l.providerUserInfo):[],d=Zw(a.providerData,h),p=a.isAnonymous,v=!(a.email&&l.passwordHash)&&!d?.length,_=p?v:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(a,A)}async function Xw(a){const t=$e(a);await Kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Zw(a,t){return[...a.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function YT(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function $w(a,t){const i=await FT(a,{},async()=>{const r=Ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=a.config,d=await KT(a,l,"/v1/token",`key=${h}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:r};return a.emulatorConfig&&Ja(a.emulatorConfig.host)&&(v.credentials="include"),GT.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Jw(a,t){return so(a,"POST","/v2/accounts:revokeToken",ph(a,t))}class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Pv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=Pv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:h}=await $w(t,i);this.updateTokensAndExpiration(r,l,Number(h))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:h}=i,d=new qa;return r&&(mt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(mt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return Qi("not implemented")}}function Vs(a,t){mt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Yn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Yw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new am(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Qw(this,t)}reload(){return Xw(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Yn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Kc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Fs(this.auth));const t=await this.getIdToken();return await Nl(this,Fw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:V,isAnonymous:F,providerData:J,stsTokenManager:et}=i;mt(b&&et,t,"internal-error");const Z=qa.fromJSON(this.name,et);mt(typeof b=="string",t,"internal-error"),Vs(r,t.name),Vs(l,t.name),mt(typeof V=="boolean",t,"internal-error"),mt(typeof F=="boolean",t,"internal-error"),Vs(h,t.name),Vs(d,t.name),Vs(p,t.name),Vs(v,t.name),Vs(_,t.name),Vs(A,t.name);const ht=new Yn({uid:b,auth:t,email:l,emailVerified:V,displayName:r,isAnonymous:F,photoURL:d,phoneNumber:h,tenantId:p,stsTokenManager:Z,createdAt:_,lastLoginAt:A});return J&&Array.isArray(J)&&(ht.providerData=J.map(vt=>({...vt}))),v&&(ht._redirectEventId=v),ht}static async _fromIdTokenResponse(t,i,r=!1){const l=new qa;l.updateFromServerResponse(i);const h=new Yn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Kc(h),h}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?YT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,p=new qa;p.updateFromIdToken(r);const v=new Yn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(v,_),v}}const zv=new Map;function Ki(a){Ji(a instanceof Function,"Expected a class definition");let t=zv.get(a);return t?(Ji(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,zv.set(a,t),t)}class XT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}XT.type="NONE";const Bv=XT;function Dc(a,t,i){return`firebase:${a}:${t}:${i}`}class Ha{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:h}=this.auth;this.fullUserKey=Dc(this.userKey,l.apiKey,h),this.fullPersistenceKey=Dc("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Qc(this.auth,{idToken:t}).catch(()=>{});return i?Yn._fromGetAccountInfoResponse(this.auth,i,t):null}return Yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ha(Ki(Bv),t,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=l[0]||Ki(Bv);const d=Dc(r,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let b;if(typeof A=="string"){const V=await Qc(t,{idToken:A}).catch(()=>{});if(!V)break;b=await Yn._fromGetAccountInfoResponse(t,V,A)}else b=Yn._fromJSON(t,A);_!==h&&(p=b),h=_;break}}catch{}const v=l.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new Ha(h,t,r):(h=v[0],p&&await h._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==h)try{await _._remove(d)}catch{}})),new Ha(h,t,r))}}function qv(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(WT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ZT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(e0(t))return"Blackberry";if(n0(t))return"Webos";if($T(t))return"Safari";if((t.includes("chrome/")||JT(t))&&!t.includes("edge/"))return"Chrome";if(t0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function ZT(a=Ze()){return/firefox\//i.test(a)}function $T(a=Ze()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function JT(a=Ze()){return/crios\//i.test(a)}function WT(a=Ze()){return/iemobile/i.test(a)}function t0(a=Ze()){return/android/i.test(a)}function e0(a=Ze()){return/blackberry/i.test(a)}function n0(a=Ze()){return/webos/i.test(a)}function Km(a=Ze()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function Ww(a=Ze()){return Km(a)&&!!window.navigator?.standalone}function tC(){return WA()&&document.documentMode===10}function i0(a=Ze()){return Km(a)||t0(a)||n0(a)||e0(a)||/windows phone/i.test(a)||WT(a)}function s0(a,t=[]){let i;switch(a){case"Browser":i=qv(Ze());break;case"Worker":i=`${qv(Ze())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Wa}/${r}`}class eC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=h=>new Promise((d,p)=>{try{const v=t(h);d(v)}catch(v){p(v)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function nC(a,t={}){return so(a,"GET","/v2/passwordPolicy",ph(a,t))}const iC=6;class sC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??iC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class rC{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hv(this),this.idTokenSubscription=new Hv(this),this.beforeStateQueue=new eC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ki(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ha.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Qc(this,{idToken:t}),r=await Yn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Kn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(h){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Kc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Bw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(Fs(this));const i=t?$e(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await nC(this),i=new sC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ol("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Jw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ki(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Ki(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(p,this,"internal-error"),p.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,r,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=s0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&xw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function yh(a){return $e(a)}class Hv{constructor(t){this.auth=t,this.observer=null,this.addObserver=oS(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ym={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aC(a){Ym=a}function oC(a){return Ym.loadJS(a)}function lC(){return Ym.gapiScript}function uC(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function cC(a,t){const i=hm(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(Lr(h,t??{}))return l;$i(l,"already-initialized")}return i.initialize({options:t})}function hC(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Ki);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function fC(a,t,i){const r=yh(a);mt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,h=r0(t),{host:d,port:p}=dC(t),v=p===null?"":`:${p}`,_={url:`${h}//${d}${v}/`},A=Object.freeze({host:d,port:p,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){mt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),mt(Lr(_,r.config.emulator)&&Lr(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,Ja(d)?(oE(`${h}//${d}${v}`),lE("Auth",!0)):mC()}function r0(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function dC(a){const t=r0(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const h=l[1];return{host:h,port:jv(r.substr(h.length+1))}}else{const[h,d]=r.split(":");return{host:h,port:jv(d)}}}function jv(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function mC(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class a0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Qi("not implemented")}_getIdTokenResponse(t){return Qi("not implemented")}_linkToIdToken(t,i){return Qi("not implemented")}_getReauthenticationResolver(t){return Qi("not implemented")}}async function ja(a,t){return QT(a,"POST","/v1/accounts:signInWithIdp",ph(a,t))}const gC="http://localhost";class Br extends a0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Br(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):$i("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...h}=i;if(!r||!l)return null;const d=new Br(r,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return ja(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,ja(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ja(t,i)}buildRequest(){const t={requestUri:gC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ml(i)}return t}}class o0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class zl extends o0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Us extends zl{constructor(){super("facebook.com")}static credential(t){return Br._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Us.credentialFromTaggedObject(t)}static credentialFromError(t){return Us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Us.credential(t.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";class ks extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Br._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ks.credentialFromTaggedObject(t)}static credentialFromError(t){return ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return ks.credential(i,r)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";class Ls extends zl{constructor(){super("github.com")}static credential(t){return Br._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ls.credentialFromTaggedObject(t)}static credentialFromError(t){return Ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ls.credential(t.oauthAccessToken)}catch{return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com";Ls.PROVIDER_ID="github.com";class xs extends zl{constructor(){super("twitter.com")}static credential(t,i){return Br._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return xs.credentialFromTaggedObject(t)}static credentialFromError(t){return xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return xs.credential(i,r)}catch{return null}}}xs.TWITTER_SIGN_IN_METHOD="twitter.com";xs.PROVIDER_ID="twitter.com";async function pC(a,t){return QT(a,"POST","/v1/accounts:signUp",ph(a,t))}class Js{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const h=await Yn._fromIdTokenResponse(t,r,l),d=Gv(r);return new Js({user:h,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Gv(r);return new Js({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Gv(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function gD(a){if(Kn(a.app))return Promise.reject(Fs(a));const t=yh(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Js({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await pC(t,{returnSecureToken:!0}),r=await Js._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}class Yc extends Wi{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new Yc(t,i,r,l)}}function l0(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(a,h,t,r):h})}async function yC(a,t,i=!1){const r=await Nl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Js._forOperation(a,"link",r)}async function _C(a,t,i=!1){const{auth:r}=a;if(Kn(r.app))return Promise.reject(Fs(r));const l="reauthenticate";try{const h=await Nl(a,l0(r,l,t,a),i);mt(h.idToken,r,"internal-error");const d=Qm(h.idToken);mt(d,r,"internal-error");const{sub:p}=d;return mt(a.uid===p,r,"user-mismatch"),Js._forOperation(a,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&$i(r,"user-mismatch"),h}}async function vC(a,t,i=!1){if(Kn(a.app))return Promise.reject(Fs(a));const r="signIn",l=await l0(a,r,t),h=await Js._fromIdTokenResponse(a,r,l);return i||await a._updateCurrentUser(h.user),h}function EC(a,t,i,r){return $e(a).onIdTokenChanged(t,i,r)}function TC(a,t,i){return $e(a).beforeAuthStateChanged(t,i)}function pD(a,t,i,r){return $e(a).onAuthStateChanged(t,i,r)}const Xc="__sak";class u0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const AC=1e3,SC=10;class c0 extends u0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},h=this.storage.getItem(r);tC()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,SC):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},AC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}c0.type="LOCAL";const bC=c0;class h0 extends u0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}h0.type="SESSION";const f0=h0;function RC(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class _h{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new _h(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,h)),v=await RC(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];function Xm(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}class wC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((p,v)=>{const _=Xm("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const V=b;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),p(V.data.response);break;default:clearTimeout(A),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function bi(){return window}function CC(a){bi().location.href=a}function d0(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function IC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DC(){return navigator?.serviceWorker?.controller||null}function NC(){return d0()?self:null}const m0="firebaseLocalStorageDb",OC=1,Zc="firebaseLocalStorage",g0="fbase_key";class Bl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(a,t){return a.transaction([Zc],t?"readwrite":"readonly").objectStore(Zc)}function MC(){const a=indexedDB.deleteDatabase(m0);return new Bl(a).toPromise()}function om(){const a=indexedDB.open(m0,OC);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(Zc,{keyPath:g0})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(Zc)?t(r):(r.close(),await MC(),t(await om()))})})}async function Fv(a,t,i){const r=vh(a,!0).put({[g0]:t,value:i});return new Bl(r).toPromise()}async function VC(a,t){const i=vh(a,!1).get(t),r=await new Bl(i).toPromise();return r===void 0?null:r.value}function Qv(a,t){const i=vh(a,!0).delete(t);return new Bl(i).toPromise()}const UC=800,kC=3;class p0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>kC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(NC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await IC(),!this.activeServiceWorker)return;this.sender=new wC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||DC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await om();return await Fv(t,Xc,"1"),await Qv(t,Xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Fv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>VC(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Qv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=vh(l,!1).getAll();return new Bl(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p0.type="LOCAL";const LC=p0;new Pl(3e4,6e4);function xC(a,t){return t?Ki(t):(mt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Zm extends a0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function PC(a){return vC(a.auth,new Zm(a),a.bypassAuthState)}function zC(a){const{auth:t,user:i}=a;return mt(i,t,"internal-error"),_C(i,new Zm(a),a.bypassAuthState)}async function BC(a){const{auth:t,user:i}=a;return mt(i,t,"internal-error"),yC(i,new Zm(a),a.bypassAuthState)}class y0{constructor(t,i,r,l,h=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:h,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:r,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return PC;case"linkViaPopup":case"linkViaRedirect":return BC;case"reauthViaPopup":case"reauthViaRedirect":return zC;default:$i(this.auth,"internal-error")}}resolve(t){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qC=new Pl(2e3,1e4);class xa extends y0{constructor(t,i,r,l,h){super(t,i,l,h),this.provider=r,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const t=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,qC.get())};t()}}xa.currentPopupAction=null;const HC="pendingRedirect",Nc=new Map;class jC extends y0{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Nc.get(this.auth._key());if(!t){try{const r=await GC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Nc.set(this.auth._key(),t)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GC(a,t){const i=KC(t),r=QC(a);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function FC(a,t){Nc.set(a._key(),t)}function QC(a){return Ki(a._redirectPersistence)}function KC(a){return Dc(HC,a.config.apiKey,a.name)}async function YC(a,t,i=!1){if(Kn(a.app))return Promise.reject(Fs(a));const r=yh(a),l=xC(r,t),d=await new jC(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const XC=600*1e3;class ZC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!$C(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!_0(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Si(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=XC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kv(t))}saveEventToCache(t){this.cachedEventUids.add(Kv(t)),this.lastProcessedEventTime=Date.now()}}function Kv(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function _0({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function $C(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _0(a);default:return!1}}async function JC(a,t={}){return so(a,"GET","/v1/projects",t)}const WC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tI=/^https?/;async function eI(a){if(a.config.emulator)return;const{authorizedDomains:t}=await JC(a);for(const i of t)try{if(nI(i))return}catch{}$i(a,"unauthorized-domain")}function nI(a){const t=rm(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!tI.test(i))return!1;if(WC.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const iI=new Pl(3e4,6e4);function Yv(){const a=bi().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function sI(a){return new Promise((t,i)=>{function r(){Yv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Yv(),i(Si(a,"network-request-failed"))},timeout:iI.get()})}if(bi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(bi().gapi?.load)r();else{const l=uC("iframefcb");return bi()[l]=()=>{gapi.load?r():i(Si(a,"network-request-failed"))},oC(`${lC()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw Oc=null,t})}let Oc=null;function rI(a){return Oc=Oc||sI(a),Oc}const aI=new Pl(5e3,15e3),oI="__/auth/iframe",lI="emulator/auth/iframe",uI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hI(a){const t=a.config;mt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Fm(t,lI):`https://${a.config.authDomain}/${oI}`,r={apiKey:t.apiKey,appName:a.name,v:Wa},l=cI.get(a.config.apiHost);l&&(r.eid=l);const h=a._getFrameworks();return h.length&&(r.fw=h.join(",")),`${i}?${Ml(r).slice(1)}`}async function fI(a){const t=await rI(a),i=bi().gapi;return mt(i,a,"internal-error"),t.open({where:document.body,url:hI(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uI,dontclear:!0},r=>new Promise(async(l,h)=>{await r.restyle({setHideOnLeave:!1});const d=Si(a,"network-request-failed"),p=bi().setTimeout(()=>{h(d)},aI.get());function v(){bi().clearTimeout(p),l(r)}r.ping(v).then(v,()=>{h(d)})}))}const dI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mI=500,gI=600,pI="_blank",yI="http://localhost";class Xv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _I(a,t,i,r=mI,l=gI){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const v={...dI,width:r.toString(),height:l.toString(),top:h,left:d},_=Ze().toLowerCase();i&&(p=JT(_)?pI:i),ZT(_)&&(t=t||yI,v.scrollbars="yes");const A=Object.entries(v).reduce((V,[F,J])=>`${V}${F}=${J},`,"");if(Ww(_)&&p!=="_self")return vI(t||"",p),new Xv(null);const b=window.open(t||"",p,A);mt(b,a,"popup-blocked");try{b.focus()}catch{}return new Xv(b)}function vI(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const EI="__/auth/handler",TI="emulator/auth/handler",AI=encodeURIComponent("fac");async function Zv(a,t,i,r,l,h){mt(a.config.authDomain,a,"auth-domain-config-required"),mt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:Wa,eventId:l};if(t instanceof o0){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",aS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof zl){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const v=await a._getAppCheckToken(),_=v?`#${AI}=${encodeURIComponent(v)}`:"";return`${SI(a)}?${Ml(p).slice(1)}${_}`}function SI({config:a}){return a.emulator?Fm(a,TI):`https://${a.authDomain}/${EI}`}const Ld="webStorageSupport";class bI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f0,this._completeRedirectFn=YC,this._overrideRedirectResult=FC}async _openPopup(t,i,r,l){Ji(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await Zv(t,i,r,rm(),l);return _I(t,h,Xm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const h=await Zv(t,i,r,rm(),l);return CC(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(Ji(h,"If manager is not set, promise should be"),h)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await fI(t),r=new ZC(t);return i.register("authEvent",l=>(mt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ld,{type:Ld},l=>{const h=l?.[0]?.[Ld];h!==void 0&&i(!!h),$i(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=eI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return i0()||$T()||Km()}}const RI=bI;var $v="@firebase/auth",Jv="1.12.0";class wI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function CI(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function II(a){Ga(new xr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s0(a)},_=new rC(r,l,h,v);return hC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Ga(new xr("auth-internal",t=>{const i=yh(t.getProvider("auth").getImmediate());return(r=>new wI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),qs($v,Jv,CI(a)),qs($v,Jv,"esm2020")}const DI=300,NI=aE("authIdTokenMaxAge")||DI;let Wv=null;const OI=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>NI)return;const l=i?.token;Wv!==l&&(Wv=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function yD(a=hE()){const t=hm(a,"auth");if(t.isInitialized())return t.getImmediate();const i=cC(a,{popupRedirectResolver:RI,persistence:[LC,bC,f0]}),r=aE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(r,location.origin);if(location.origin===h.origin){const d=OI(h.toString());TC(i,d,()=>d(i.currentUser)),EC(i,p=>d(p))}}const l=sE("auth");return l&&fC(i,`http://${l}`),i}function MI(){return document.getElementsByTagName("head")?.[0]??document}aC({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=l=>{const h=Si("internal-error");h.customData=l,i(h)},r.type="text/javascript",r.charset="UTF-8",MI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});II("Browser");export{LI as A,PI as B,zI as C,jI as F,FI as H,QI as I,KI as K,YI as L,ZI as M,JI as P,UI as R,WI as S,nD as T,rD as U,aD as X,yD as a,dD as b,lD as c,sD as d,HI as e,Tw as f,uD as g,mD as h,lb as i,VI as j,fD as k,iD as l,$I as m,eD as n,pD as o,GI as p,tD as q,Pa as r,gD as s,hD as t,cD as u,XI as v,qI as w,BI as x,xI as y,kI as z};
